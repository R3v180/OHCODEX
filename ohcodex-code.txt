==============================
√çNDICE DE ARCHIVOS DEL PROYECTO
==============================

1. .env
2. .env.example
3. .eslintrc.cjs
4. .gitignore
5. .prettierrc.json
6. Dockerfile
7. ROADMAP.md
8. components.json
9. css-loader.mjs
10. next.config.ts
11. package.json
12. postcss.config.js
13. src/app/(frontend)/actions.ts
14. src/app/(frontend)/icon.tsx
15. src/app/(frontend)/not-found.tsx
16. src/app/(payload)/admin/[[...segments]]/not-found.tsx
17. src/app/(payload)/admin/[[...segments]]/page.tsx
18. src/app/(payload)/admin/importMap.js
19. src/app/(payload)/api/[...slug]/route.ts
20. src/app/(payload)/api/graphql-playground/route.ts
21. src/app/(payload)/api/graphql/route.ts
22. src/app/(payload)/custom.scss
23. src/app/(payload)/layout.tsx
24. src/app/[locale]/aviso-legal/page.tsx
25. src/app/[locale]/blog/[slug]/page.tsx
26. src/app/[locale]/blog/page.tsx
27. src/app/[locale]/layout.tsx
28. src/app/[locale]/page.tsx
29. src/app/[locale]/privacidad/page.tsx
30. src/app/[locale]/products/[slug]/page.tsx
31. src/app/[locale]/terminos/page.tsx
32. src/app/[locale]/tools/[slug]/page.tsx
33. src/app/[locale]/tools/page.tsx
34. src/app/actions/get-translated-slug.ts
35. src/app/api/dump-content/route.ts
36. src/app/api/seed-all/route.ts
37. src/app/api/seed-tools/route.ts
38. src/app/api/tracking/route.ts
39. src/app/globals.css
40. src/app/layout.tsx
41. src/app/robots.ts
42. src/app/sitemap.ts
43. src/collections/Analytics.ts
44. src/collections/Categories.ts
45. src/collections/ContactSubmissions.ts
46. src/collections/Media.ts
47. src/collections/Posts.ts
48. src/collections/Products.ts
49. src/collections/Tools.ts
50. src/collections/Users.ts
51. src/components/AnalyticsTracker.tsx
52. src/components/admin/Analytics/AnalyticsView.tsx
53. src/components/admin/Analytics/LiveFeed.tsx
54. src/components/admin/Analytics/StatsCard.tsx
55. src/components/admin/Analytics/TrendChart.tsx
56. src/components/admin/NotificationBell.client.tsx
57. src/components/admin/NotificationBell.tsx
58. src/components/admin/ReadStatusHandler.tsx
59. src/components/admin/SidebarDashboardLink.tsx
60. src/components/layout/Footer.tsx
61. src/components/layout/Header.tsx
62. src/components/sections/Contact.tsx
63. src/components/sections/FAQ.tsx
64. src/components/sections/Features.tsx
65. src/components/sections/Hero.tsx
66. src/components/sections/Products.tsx
67. src/components/sections/Testimonials.tsx
68. src/components/sections/TrustBar.tsx
69. src/components/shared/AdSlot.tsx
70. src/components/shared/Breadcrumbs.tsx
71. src/components/shared/CrossSellBanner.tsx
72. src/components/shared/LanguageSwitcher.tsx
73. src/components/tools/data-station/DataStationTool.tsx
74. src/components/tools/image-optimizer/ImageOptimizerTool.tsx
75. src/components/tools/ocr/OCRTool.tsx
76. src/components/tools/pdf-studio/PDFStudioTool.tsx
77. src/components/tools/pdf-studio/SignatureDialog.tsx
78. src/components/tools/qr-factory/QRFactoryTool.tsx
79. src/components/tools/vault/VaultTool.tsx
80. src/components/ui/accordion.tsx
81. src/components/ui/alert-dialog.tsx
82. src/components/ui/alert.tsx
83. src/components/ui/aspect-ratio.tsx
84. src/components/ui/avatar.tsx
85. src/components/ui/badge.tsx
86. src/components/ui/breadcrumb.tsx
87. src/components/ui/button.tsx
88. src/components/ui/calendar.tsx
89. src/components/ui/card.tsx
90. src/components/ui/carousel.tsx
91. src/components/ui/chart.tsx
92. src/components/ui/checkbox.tsx
93. src/components/ui/collapsible.tsx
94. src/components/ui/command.tsx
95. src/components/ui/context-menu.tsx
96. src/components/ui/dialog.tsx
97. src/components/ui/drawer.tsx
98. src/components/ui/dropdown-menu.tsx
99. src/components/ui/form.tsx
100. src/components/ui/hover-card.tsx
101. src/components/ui/input-otp.tsx
102. src/components/ui/input.tsx
103. src/components/ui/label.tsx
104. src/components/ui/menubar.tsx
105. src/components/ui/navigation-menu.tsx
106. src/components/ui/pagination.tsx
107. src/components/ui/popover.tsx
108. src/components/ui/progress.tsx
109. src/components/ui/radio-group.tsx
110. src/components/ui/resizable.tsx
111. src/components/ui/scroll-area.tsx
112. src/components/ui/select.tsx
113. src/components/ui/separator.tsx
114. src/components/ui/sheet.tsx
115. src/components/ui/sidebar.tsx
116. src/components/ui/skeleton.tsx
117. src/components/ui/slider.tsx
118. src/components/ui/sonner.tsx
119. src/components/ui/switch.tsx
120. src/components/ui/table.tsx
121. src/components/ui/tabs.tsx
122. src/components/ui/textarea.tsx
123. src/components/ui/toast.tsx
124. src/components/ui/toaster.tsx
125. src/components/ui/toggle-group.tsx
126. src/components/ui/toggle.tsx
127. src/components/ui/tooltip.tsx
128. src/globals/AnalyticsDashboard.ts
129. src/globals/Company.ts
130. src/globals/EmailSettings.ts
131. src/globals/Landing.ts
132. src/globals/Legal.ts
133. src/hooks/use-mobile.ts
134. src/hooks/use-toast.ts
135. src/i18n.ts
136. src/i18n/request.ts
137. src/i18n/routing.ts
138. src/lib/cloudinaryAdapter.ts
139. src/lib/engines/crypto-engine.ts
140. src/lib/engines/data-engine.ts
141. src/lib/engines/image-engine.ts
142. src/lib/engines/ocr-engine.ts
143. src/lib/engines/pdf-engine.ts
144. src/lib/engines/qr-engine.ts
145. src/lib/utils.ts
146. src/messages/de.json
147. src/messages/en.json
148. src/messages/es.json
149. src/messages/fr.json
150. src/messages/it.json
151. src/messages/pt.json
152. src/middleware.ts
153. src/payload-types.ts
154. src/payload.config.ts
155. src/scripts/data/data-station-data.ts
156. src/scripts/data/image-optimizer-data.ts
157. src/scripts/data/ocr-vision-data.ts
158. src/scripts/data/pdf-studio-data.ts
159. src/scripts/data/qr-factory-data.ts
160. src/scripts/data/utils.ts
161. src/scripts/data/vault-data.ts
162. src/scripts/local-backup.ts
163. tailwind.config.js
164. tsconfig.json

==================================================

INICIO DEL CONTENIDO
==================================================

// =============== INICIO ARCHIVO [1]: .env =============== //
# Base de Datos (Rama Restaurada)
DATABASE_URI=postgresql://neondb_owner:npg_nzlLWyOAp1j8@ep-orange-cherry-agt0euoy-pooler.c-2.eu-central-1.aws.neon.tech/neondb?sslmode=require

# Claves de Seguridad
PAYLOAD_SECRET=d0461335beb225ee0356cab5

# Cloudinary
CLOUDINARY_CLOUD_NAME="dpp6gyfao"
CLOUDINARY_API_KEY="361497464835859"
CLOUDINARY_API_SECRET="n3gIbY12GQxYjeqDr_OexY5nVC4"

// =============== FIN ARCHIVO [1]: .env =============== //

// =============== INICIO ARCHIVO [2]: .env.example =============== //
DATABASE_URI=mongodb://127.0.0.1/payload-template-blank-3-0
PAYLOAD_SECRET=YOUR_SECRET_HERE

// =============== FIN ARCHIVO [2]: .env.example =============== //

// =============== INICIO ARCHIVO [3]: .eslintrc.cjs =============== //
/** @type {import('eslint').Linter.Config} */
module.exports = {
  extends: ['next/core-web-vitals'],
  parserOptions: {
    project: ['./tsconfig.json'],
    tsconfigRootDir: __dirname,
  },
}

// =============== FIN ARCHIVO [3]: .eslintrc.cjs =============== //

// =============== INICIO ARCHIVO [4]: .gitignore =============== //
# See https://help.github.com/articles/ignoring-files/ for more about ignoring files.

# dependencies
/node_modules
/.pnp
.pnp.js
.yarn/install-state.gz

/.idea/*
!/.idea/runConfigurations

# testing
/coverage

# next.js
/.next/
/out/

# production
/build

# misc
.DS_Store
*.pem

# debug
npm-debug.log*
yarn-debug.log*
yarn-error.log*

# local env files
.env*.local

# vercel
.vercel

# typescript
*.tsbuildinfo
next-env.d.ts

.env

/media

// =============== FIN ARCHIVO [4]: .gitignore =============== //

// =============== INICIO ARCHIVO [5]: .prettierrc.json =============== //
{
  "singleQuote": true,
  "trailingComma": "all",
  "printWidth": 100,
  "semi": false
}

// =============== FIN ARCHIVO [5]: .prettierrc.json =============== //

// =============== INICIO ARCHIVO [6]: Dockerfile =============== //
# From https://github.com/vercel/next.js/blob/canary/examples/with-docker/Dockerfile

FROM node:18-alpine AS base

# Install dependencies only when needed
FROM base AS deps
# Check https://github.com/nodejs/docker-node/tree/b4117f9333da4138b03a546ec926ef50a31506c3#nodealpine to understand why libc6-compat might be needed.
RUN apk add --no-cache libc6-compat
WORKDIR /app

# Install dependencies based on the preferred package manager
COPY package.json yarn.lock* package-lock.json* pnpm-lock.yaml* ./
RUN \
  if [ -f yarn.lock ]; then yarn --frozen-lockfile; \
  elif [ -f package-lock.json ]; then npm ci; \
  elif [ -f pnpm-lock.yaml ]; then corepack enable pnpm && pnpm i --frozen-lockfile; \
  else echo "Lockfile not found." && exit 1; \
  fi


# Rebuild the source code only when needed
FROM base AS builder
WORKDIR /app
COPY --from=deps /app/node_modules ./node_modules
COPY . .

# Next.js collects completely anonymous telemetry data about general usage.
# Learn more here: https://nextjs.org/telemetry
# Uncomment the following line in case you want to disable telemetry during the build.
# ENV NEXT_TELEMETRY_DISABLED 1

RUN \
  if [ -f yarn.lock ]; then yarn run build; \
  elif [ -f package-lock.json ]; then npm run build; \
  elif [ -f pnpm-lock.yaml ]; then corepack enable pnpm && pnpm run build; \
  else echo "Lockfile not found." && exit 1; \
  fi

# Production image, copy all the files and run next
FROM base AS runner
WORKDIR /app

ENV NODE_ENV production
# Uncomment the following line in case you want to disable telemetry during runtime.
# ENV NEXT_TELEMETRY_DISABLED 1

RUN addgroup --system --gid 1001 nodejs
RUN adduser --system --uid 1001 nextjs

COPY --from=builder /app/public ./public

# Set the correct permission for prerender cache
RUN mkdir .next
RUN chown nextjs:nodejs .next

# Automatically leverage output traces to reduce image size
# https://nextjs.org/docs/advanced-features/output-file-tracing
COPY --from=builder --chown=nextjs:nodejs /app/.next/standalone ./
COPY --from=builder --chown=nextjs:nodejs /app/.next/static ./.next/static

USER nextjs

EXPOSE 3000

ENV PORT 3000

# server.js is created by next build from the standalone output
# https://nextjs.org/docs/pages/api-reference/next-config-js/output
CMD HOSTNAME="0.0.0.0" node server.js

// =============== FIN ARCHIVO [6]: Dockerfile =============== //

// =============== INICIO ARCHIVO [7]: ROADMAP.md =============== //
# üó∫Ô∏è ROADMAP OHCODEX v3.0: LA GU√çA MAESTRA (2026)

## üèóÔ∏è CONTEXTO T√âCNICO ACTUAL

- **Frontend:** Next.js 15 (App Router) + React 19 (Stable target).
- **Estilos:** Tailwind CSS + Shadcn/UI + Framer Motion.
- **Backend/CMS:** Payload CMS 3.0 (Estructura Next.js nativa).
- **Base de Datos:** PostgreSQL alojado en Neon.tech (Serverless).
- **Internacionalizaci√≥n (i18n):** `next-intl` con rutas `/[locale]/` y diccionarios en `src/messages/*.json`.
- **Procesamiento:** Motores l√≥gicos en el cliente (`src/lib/engines`) para garantizar privacidad total.

---

## üî¥ FASE 1: ESTABILIDAD DE CORE Y RENDIMIENTO CR√çTICO

_Objetivo: Eliminar errores de compilaci√≥n y asegurar que la web cargue en menos de 1 segundo._

### 1.1. Lazy Loading de Componentes Pesados (Monaco Editor)

- **Qu√©:** Implementar `next/dynamic` en `DataStationTool.tsx`.
- **Por qu√©:** El editor de c√≥digo Monaco pesa m√°s de 1MB. Sin carga diferida, penaliza el SEO de la p√°gina de herramientas porque Google detecta una carga inicial lenta.
- **C√≥mo:**
  ```tsx
  const Editor = dynamic(() => import('@monaco-editor/react'), {
    ssr: false,
    loading: () => <Skeleton className="h-[400px] w-full" />,
  })
  ```

### 1.2. Saneamiento de Dependencias

- **Qu√©:** Actualizar `package.json` de versiones `beta` y `rc` a versiones estables (React 19, Payload 3.0).
- **Por qu√©:** Las versiones candidatas (RC) pueden tener fugas de memoria en entornos de producci√≥n como Heroku.

### 1.3. Optimizaci√≥n de i18n (Kebab-Case Strict)

- **Qu√©:** Auditar todos los archivos `es.json` y `en.json`.
- **Por qu√©:** Hemos detectado errores donde el c√≥digo busca `pdfStudio` (camelCase) pero el JSON tiene `pdf-studio` (kebab-case).
- **Regla de Oro:** Todo namespace de herramienta en el JSON DEBE ser kebab-case.

---

## üü† FASE 2: UX TRANSFORMATION (DE "SOSO" A "PRO")

_Objetivo: Que un usuario sin conocimientos t√©cnicos pueda usar las herramientas sin miedo._

### 2.1. El fin de la Pantalla Vac√≠a (Placeholders e Inyecci√≥n de Ejemplos)

- **Qu√©:** A√±adir placeholders realistas en todos los `Textarea` y un bot√≥n de "Cargar ejemplo" (Load Sample).
- **Por qu√©:** Un usuario no siempre tiene un JSON a mano para probar **Data Station**. Si le das un bot√≥n de "Cargar ejemplo", ver√° la magia instant√°neamente.
- **Implementaci√≥n:** A√±adir un objeto `const SAMPLES` en cada herramienta con datos de prueba.

### 2.2. Sistema de Gu√≠a Visual "3-Steps"

- **Qu√©:** A√±adir un componente de cabecera en cada herramienta que resuma el proceso en 3 pasos.
- **Ejemplo (Vault):**
  1. Escribe o pega tu texto.
  2. Elige una contrase√±a fuerte.
  3. Copia tu c√≥digo encriptado.
- **Por qu√©:** Reduce la carga cognitiva y hace que la herramienta parezca un flujo guiado.

### 2.3. Micro-interacciones de Confianza

- **Qu√©:** A√±adir animaciones de "√âxito" (checkmarks verdes con Framer Motion) y feedback visual al arrastrar archivos (Dropzone borders que brillan en cian).
- **Por qu√©:** El usuario necesita sentir que la web "est√° viva" y que su acci√≥n ha tenido √©xito.

---

## üü° FASE 3: MONETIZACI√ìN Y GESTI√ìN DE ANUNCIOS (ADMIN CONTROL)

_Objetivo: Controlar los ingresos desde el panel de administraci√≥n sin tocar c√≥digo._

### 3.1. Creaci√≥n de la Global `AdvertisingSettings` en Payload

- **Qu√©:** Crear un panel en el Admin con los siguientes campos:
  - `enableAds` (Toggle): Activar/Desactivar todo.
  - `provider` (Select): Google AdSense / Carbon Ads / EthicalAds.
  - `headerScript` (Code): Para el script de carga de la red.
  - `slots` (Array): Lista de IDs de bloques publicitarios para Superior, Lateral e Inferior.
- **Por qu√©:** Permite cambiar de red publicitaria o apagar anuncios en segundos si detectas un problema de rendimiento.

### 3.2. Integraci√≥n de Redes Publicitarias (Recomendaci√≥n 2026)

- **Prioridad 1: Carbon Ads.** Por est√©tica y relevancia (p√∫blico tech).
- **Prioridad 2: EthicalAds.** Por respeto a la privacidad (encaja con los valores de OHCodex).
- **Prioridad 3: Google AdSense.** Como fallback si las anteriores no aceptan el sitio inicialmente.

### 3.3. Componente `AdSlot.tsx` Inteligente

- **Qu√©:** Modificar el componente actual para que lea la configuraci√≥n de la Global del CMS.
- **Por qu√©:** Evita cargar contenedores vac√≠os y previene el "layout shift" (saltos en la p√°gina) reservando el espacio exacto del anuncio.

---

## üü¢ FASE 4: SEO DE AUTORIDAD Y "AI SEARCH OPTIMIZATION"

_Objetivo: Que Google nos d√© estrellas y las IAs nos recomienden como "Mejor herramienta de 2026"._

### 4.1. Esquemas JSON-LD de Aplicaci√≥n (Schema.org)

- **Qu√©:** Implementar el esquema `SoftwareApplication` en cada p√°gina de herramienta.
- **Por qu√©:** Para que en los resultados de b√∫squeda aparezca la categor√≠a (Utilities), el precio (Free) y el sistema operativo (Web Browser).
- **C√≥mo:** Inyectar en el `<head>` mediante el objeto `metadata` de Next.js.

### 4.2. Estrategia de Contenido Sem√°ntico (SEO Long-Tail)

- **Qu√©:** A√±adir 500+ palabras de texto √∫til DEBAJO de cada herramienta.
  - **Secci√≥n 1:** ¬øQu√© es [Nombre Herramienta] y para qu√© sirve?
  - **Secci√≥n 2:** Diferencias entre procesamiento local vs servidor (Vender privacidad).
  - **Secci√≥n 3:** FAQ (Preguntas Frecuentes) usando el componente `Accordion`.
- **Por qu√©:** Google no puede "leer" la l√≥gica de JavaScript. Necesita texto HTML para indexar palabras clave como "encriptar archivos gratis online".

### 4.3. Marketing de Privacidad (Zero-Knowledge)

- **Qu√©:** Destacar en toda la web el sello: **"Privacy by Design: Tus archivos nunca tocan nuestro servidor"**.
- **Por qu√©:** Es el factor diferencial de OHCodex frente a herramientas que roban datos.

---

## üîµ FASE 5: CONVERSI√ìN (LEADS DE SOFTWARE A MEDIDA)

_Objetivo: Convertir al usuario de las herramientas gratuitas en cliente de consultor√≠a._

### 5.1. Cross-Selling Din√°mico

- **Qu√©:** Activar el `CrossSellBanner` al final de cada herramienta.
- **Contenido:** "¬øNecesitas una arquitectura escalable como esta para tu empresa? Hablemos."
- **Por qu√©:** El usuario ya est√° validando tu capacidad t√©cnica al usar la herramienta; es el momento perfecto para ofrecer tus servicios de desarrollo.

### 5.2. Seguridad en Captaci√≥n (Captcha Turnstile)

- **Qu√©:** Integrar Cloudflare Turnstile en el `ContactSection`.
- **Por qu√©:** Es invisible (mejor UX que Google Captcha) y protege tu base de datos Neon de ataques de spam que podr√≠an inflar tu factura cloud.

---

## üü£ FASE 6: MANTENIMIENTO Y ESCALABILIDAD

### 6.1. Automatizaci√≥n de Backups

- **Qu√©:** Programar el script `src/scripts/local-backup.ts` mediante una GitHub Action o un CRON externo.
- **Por qu√©:** Seguridad ante desastres en Neon o errores humanos.

### 6.2. Monitoreo de Errores (Sentry)

- **Qu√©:** Instalar Sentry para capturar errores de los motores de procesamiento en los navegadores de los usuarios.

---

## üí° NOTAS PARA LA IA (REGLAS DE DESARROLLO)

1.  **Archivos de Idioma:** No a√±adir textos directamente en los componentes. Siempre usar `t('clave')` y actualizar `es.json` y `en.json`.
2.  **Naming Convention:** Usar **kebab-case** para los archivos y las claves de traducci√≥n de herramientas (`image-optimizer`, `pdf-studio`).
3.  **Client-Side Priority:** Si una funci√≥n puede ejecutarse en el navegador (crypto, resize, format), **debe** hacerse ah√≠. El servidor de Heroku solo debe servir el HTML inicial y la API de Payload.

---

// =============== FIN ARCHIVO [7]: ROADMAP.md =============== //

// =============== INICIO ARCHIVO [8]: components.json =============== //
{
  "$schema": "https://ui.shadcn.com/schema.json",
  "style": "new-york",
  "rsc": true,
  "tsx": true,
  "tailwind": {
    "config": "tailwind.config.js",
    "css": "src/app/globals.css",
    "baseColor": "zinc",
    "cssVariables": true,
    "prefix": ""
  },
  "iconLibrary": "lucide",
  "aliases": {
    "components": "@/components",
    "utils": "@/lib/utils",
    "ui": "@/components/ui",
    "lib": "@/lib",
    "hooks": "@/hooks"
  },
  "registries": {}
}

// =============== FIN ARCHIVO [8]: components.json =============== //

// =============== INICIO ARCHIVO [9]: css-loader.mjs =============== //
import { pathToFileURL } from 'url';

// Extensiones a ignorar
const extensions = ['.css', '.scss', '.sass'];

export async function resolve(specifier, context, nextResolve) {
  // Si el archivo termina en una extensi√≥n de estilo, lo interceptamos
  if (extensions.some((ext) => specifier.endsWith(ext))) {
    return {
      shortCircuit: true,
      url: 'data:text/javascript,export default {}', // Devolvemos un objeto JS vac√≠o
    };
  }

  // Si no, dejamos que Node siga su curso normal
  return nextResolve(specifier, context);
}

export async function load(url, context, nextLoad) {
  if (extensions.some((ext) => url.endsWith(ext))) {
    return {
      shortCircuit: true,
      format: 'module',
      source: 'export default {}',
    };
  }
  return nextLoad(url, context);
}

// =============== FIN ARCHIVO [9]: css-loader.mjs =============== //

// =============== INICIO ARCHIVO [10]: next.config.ts =============== //
import { withPayload } from '@payloadcms/next/withPayload'
import createNextIntlPlugin from 'next-intl/plugin'
import type { NextConfig } from 'next'
import path from 'path'

// Construimos la ruta absoluta al archivo request.ts
const i18nPath = path.join(process.cwd(), 'src', 'i18n', 'request.ts')

const withNextIntl = createNextIntlPlugin(i18nPath)

const nextConfig: NextConfig = {
  // Paquetes que necesitan ejecutarse en el servidor
  serverExternalPackages: ['geoip-lite'],
  
  // Configuraci√≥n de im√°genes (Cloudinary)
  images: {
    remotePatterns: [
      {
        protocol: 'https',
        hostname: 'res.cloudinary.com',
        port: '',
        pathname: '/**',
      },
    ],
  },

  // üëá PASO PARA SEO: Redirecciones 301 para limpiar Search Console
  async redirects() {
    return [
      {
        source: '/privacidad',
        destination: '/es/privacidad',
        permanent: true,
      },
      {
        source: '/terminos',
        destination: '/es/terminos',
        permanent: true,
      },
      {
        source: '/aviso-legal',
        destination: '/es/aviso-legal',
        permanent: true,
      },
      {
        source: '/terms', // Soluciona el 404 espec√≠fico detectado por Google
        destination: '/es/terminos',
        permanent: true,
      },
      {
        source: '/productos/:path*', // Redirige rutas antiguas de productos
        destination: '/es/products/:path*',
        permanent: true,
      },
    ]
  },
}

export default withPayload(withNextIntl(nextConfig))

// =============== FIN ARCHIVO [10]: next.config.ts =============== //

// =============== INICIO ARCHIVO [11]: package.json =============== //
{
  "name": "ohcodex",
  "version": "1.0.0",
  "description": "OHCodex Corporate Website & CMS",
  "license": "MIT",
  "type": "module",
  "scripts": {
    "build": "payload generate:importmap && next build",
    "dev": "cross-env NODE_OPTIONS=--no-deprecation next dev",
    "devsafe": "rm -rf .next && cross-env NODE_OPTIONS=--no-deprecation next dev",
    "generate:importmap": "cross-env NODE_OPTIONS=\"--no-deprecation --loader=./css-loader.mjs\" payload generate:importmap",
    "generate:types": "cross-env NODE_OPTIONS=\"--no-deprecation --loader=./css-loader.mjs\" payload generate:types",
    "lint": "cross-env NODE_OPTIONS=--no-deprecation next lint",
    "payload": "cross-env NODE_OPTIONS=--no-deprecation payload",
    "start": "cross-env NODE_OPTIONS=--no-deprecation next start"
  },
  "dependencies": {
    "@hookform/resolvers": "^5.2.2",
    "@monaco-editor/react": "^4.7.0",
    "@next/third-parties": "^16.1.1",
    "@payloadcms/db-postgres": "beta",
    "@payloadcms/next": "beta",
    "@payloadcms/payload-cloud": "beta",
    "@payloadcms/richtext-lexical": "beta",
    "@radix-ui/react-accordion": "^1.2.12",
    "@radix-ui/react-alert-dialog": "^1.1.15",
    "@radix-ui/react-aspect-ratio": "^1.1.8",
    "@radix-ui/react-avatar": "^1.1.11",
    "@radix-ui/react-checkbox": "^1.3.3",
    "@radix-ui/react-collapsible": "^1.1.12",
    "@radix-ui/react-context-menu": "^2.2.16",
    "@radix-ui/react-dialog": "^1.1.15",
    "@radix-ui/react-dropdown-menu": "^2.1.16",
    "@radix-ui/react-hover-card": "^1.1.15",
    "@radix-ui/react-label": "^2.1.8",
    "@radix-ui/react-menubar": "^1.1.16",
    "@radix-ui/react-navigation-menu": "^1.2.14",
    "@radix-ui/react-popover": "^1.1.15",
    "@radix-ui/react-progress": "^1.1.8",
    "@radix-ui/react-radio-group": "^1.3.8",
    "@radix-ui/react-scroll-area": "^1.2.10",
    "@radix-ui/react-select": "^2.2.6",
    "@radix-ui/react-separator": "^1.1.8",
    "@radix-ui/react-slider": "^1.3.6",
    "@radix-ui/react-slot": "^1.2.4",
    "@radix-ui/react-switch": "^1.2.6",
    "@radix-ui/react-tabs": "^1.1.13",
    "@radix-ui/react-toast": "^1.2.15",
    "@radix-ui/react-toggle": "^1.1.10",
    "@radix-ui/react-toggle-group": "^1.1.11",
    "@radix-ui/react-tooltip": "^1.2.8",
    "@types/nodemailer": "^7.0.4",
    "class-variance-authority": "^0.7.1",
    "cloudinary": "^2.5.1",
    "clsx": "^2.1.1",
    "cmdk": "^1.1.1",
    "cross-env": "^7.0.3",
    "date-fns": "^4.1.0",
    "embla-carousel-react": "^8.6.0",
    "framer-motion": "^12.0.0",
    "geoip-lite": "^1.4.10",
    "graphql": "^16.8.1",
    "heic2any": "^0.0.4",
    "html5-qrcode": "^2.3.8",
    "input-otp": "^1.4.2",
    "jsbarcode": "^3.11.6",
    "jszip": "^3.10.1",
    "lucide-react": "^0.556.0",
    "next": "15.0.0",
    "next-intl": "^3.26.3",
    "next-themes": "^0.4.6",
    "nodemailer": "^7.0.11",
    "papaparse": "^5.5.1",
    "payload": "beta",
    "pdf-lib": "^1.17.1",
    "pg": "^8.16.3",
    "qrcode.react": "^4.2.0",
    "react": "19.0.0-rc-65a56d0e-20241020",
    "react-day-picker": "^9.13.0",
    "react-dom": "19.0.0-rc-65a56d0e-20241020",
    "react-hook-form": "^7.70.0",
    "react-resizable-panels": "^4.2.0",
    "react-signature-canvas": "^1.0.6",
    "recharts": "^2.15.4",
    "sharp": "0.32.6",
    "sonner": "^1.7.2",
    "tailwind-merge": "^3.4.0",
    "tailwindcss-animate": "^1.0.7",
    "tesseract.js": "^7.0.0",
    "vaul": "^1.1.2",
    "zod": "^4.3.4"
  },
  "devDependencies": {
    "@types/geoip-lite": "^1.4.4",
    "@types/node": "^22.5.4",
    "@types/react": "npm:types-react@19.0.0-rc.1",
    "@types/react-dom": "npm:types-react-dom@19.0.0-rc.1",
    "autoprefixer": "^10.4.22",
    "dotenv": "^17.2.3",
    "eslint": "^8",
    "eslint-config-next": "15.0.0",
    "postcss": "^8.5.6",
    "tailwindcss": "^3.4.17",
    "tw-animate-css": "^1.4.0",
    "typescript": "5.6.3"
  },
  "engines": {
    "node": "^18.20.2 || >=20.9.0"
  },
  "overrides": {
    "react": "19.0.0-rc-65a56d0e-20241020",
    "react-dom": "19.0.0-rc-65a56d0e-20241020",
    "@types/react": "npm:types-react@19.0.0-rc.1",
    "@types/react-dom": "npm:types-react-dom@19.0.0-rc.1"
  }
}

// =============== FIN ARCHIVO [11]: package.json =============== //

// =============== INICIO ARCHIVO [12]: postcss.config.js =============== //
export default {
  plugins: {
    tailwindcss: {},
    autoprefixer: {},
  },
}

// =============== FIN ARCHIVO [12]: postcss.config.js =============== //

// =============== INICIO ARCHIVO [13]: src/app/(frontend)/actions.ts =============== //
// =============== INICIO ARCHIVO: src/app/(frontend)/actions.ts =============== //
'use server'

import { getPayload } from 'payload'
import configPromise from '@payload-config'
import { getTranslations, getLocale } from 'next-intl/server'

// Definimos el tipo de estado de retorno para el cliente
type FormState = {
  success: boolean
  message: string
}

export async function submitContactForm(prevState: any, formData: FormData): Promise<FormState> {
  // 1. Detectar el idioma actual de la petici√≥n
  const locale = await getLocale()
  
  // 2. Cargar traducciones para ese idioma
  const t = await getTranslations({ locale, namespace: 'contactSection.form' })

  // Inicializamos Payload
  const payload = await getPayload({ config: configPromise })

  // Extraemos los datos del formulario HTML
  const name = formData.get('name') as string
  const email = formData.get('email') as string
  const serviceType = formData.get('serviceType') as string
  const message = formData.get('message') as string
  const privacyAccepted = formData.get('privacyAccepted') === 'on'

  // Validaci√≥n b√°sica
  if (!name || !email || !message || !privacyAccepted) {
    return {
      success: false,
      // üëá Mensaje de error traducido (definido en en.json/es.json)
      message: t('errors.required'), 
    }
  }

  try {
    // Insertamos el dato en la colecci√≥n 'contact-submissions'
    await payload.create({
      collection: 'contact-submissions',
      data: {
        name,
        email,
        serviceType: serviceType as 'pwa' | 'saas' | 'api' | 'other',
        message,
        privacyAccepted,
      },
    })

    return {
      success: true,
      // üëá Mensaje de √©xito traducido
      message: t('successMessage'), 
    }
  } catch (error) {
    console.error('Error al procesar el formulario de contacto:', error)
    
    return {
      success: false,
      // üëá Mensaje de error gen√©rico traducido
      message: t('errors.generic'),
    }
  }
}
// =============== FIN ARCHIVO: src/app/(frontend)/actions.ts =============== //

// =============== FIN ARCHIVO [13]: src/app/(frontend)/actions.ts =============== //

// =============== INICIO ARCHIVO [14]: src/app/(frontend)/icon.tsx =============== //
import { ImageResponse } from 'next/og'

// Dimensiones de la imagen
export const size = {
  width: 32,
  height: 32,
}
export const contentType = 'image/png'

// Generaci√≥n del icono
export default function Icon() {
  return new ImageResponse(
    (
      // Elemento JSX que representa el icono
      <div
        style={{
          fontSize: 20,
          background: 'black',
          width: '100%',
          height: '100%',
          display: 'flex',
          alignItems: 'center',
          justifyContent: 'center',
          color: '#06b6d4', // Tu color Cyan-500 corporativo
          fontWeight: 800,
          borderRadius: '20%', // Bordes ligeramente redondeados (estilo App)
          border: '1px solid #1e293b', // Borde sutil gris oscuro
        }}
      >
        OH
      </div>
    ),
    {
      ...size,
    }
  )
}

// =============== FIN ARCHIVO [14]: src/app/(frontend)/icon.tsx =============== //

// =============== INICIO ARCHIVO [15]: src/app/(frontend)/not-found.tsx =============== //
// =============== INICIO ARCHIVO: src/app/(frontend)/not-found.tsx =============== //
import React from 'react'
import Link from 'next/link'
import { Button } from '@/components/ui/button'
import { FileQuestion, Home } from 'lucide-react'
import { getTranslations } from 'next-intl/server'

export default async function NotFound() {
  // 1. Cargar traducciones
  // Nota: Al estar en la ra√≠z, intentar√° detectar el idioma por headers/cookies.
  // Si falla, next-intl usar√° el default (es).
  const t = await getTranslations('notFound')
  const tCommon = await getTranslations('common.buttons')

  return (
    <div className="flex min-h-[70vh] flex-col items-center justify-center bg-black px-4 text-center">
      
      {/* Icono animado */}
      <div className="mb-8 flex h-24 w-24 items-center justify-center rounded-3xl bg-zinc-900/50 border border-zinc-800 shadow-[0_0_40px_-10px_rgba(6,182,212,0.15)]">
        <FileQuestion className="h-12 w-12 text-cyan-500 animate-pulse" />
      </div>

      {/* Texto */}
      <h1 className="text-4xl font-extrabold tracking-tight text-white sm:text-6xl mb-4">
        {/* üëá T√≠tulo (404) */}
        {t('title')}
      </h1>
      <h2 className="text-2xl font-semibold text-white mb-4">
        {/* üëá Subt√≠tulo (Page not found) */}
        {t('subtitle')}
      </h2>
      <p className="max-w-md text-lg text-zinc-400 mb-8 leading-relaxed">
        {/* üëá Descripci√≥n detallada */}
        {t('description')}
      </p>

      {/* Bot√≥n de retorno */}
      <Button asChild size="lg" className="bg-cyan-600 hover:bg-cyan-500 text-white font-semibold">
        {/* Enlazamos a la ra√≠z '/' y dejamos que el Middleware redirija al idioma correcto */}
        <Link href="/">
          <Home className="mr-2 h-4 w-4" /> {tCommon('backToHome')}
        </Link>
      </Button>

      {/* Decoraci√≥n de fondo */}
      <div className="absolute inset-0 -z-10 overflow-hidden pointer-events-none">
        <div className="absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 h-[500px] w-[500px] rounded-full bg-cyan-900/5 blur-[100px]" />
      </div>
    </div>
  )
}
// =============== FIN ARCHIVO: src/app/(frontend)/not-found.tsx =============== //

// =============== FIN ARCHIVO [15]: src/app/(frontend)/not-found.tsx =============== //

// =============== INICIO ARCHIVO [16]: src/app/(payload)/admin/[[...segments]]/not-found.tsx =============== //
/* THIS FILE WAS GENERATED AUTOMATICALLY BY PAYLOAD. */
/* DO NOT MODIFY IT BECAUSE IT COULD BE REWRITTEN AT ANY TIME. */
import type { Metadata } from 'next'

import config from '@payload-config'
import { NotFoundPage, generatePageMetadata } from '@payloadcms/next/views'
import { importMap } from '../importMap'

type Args = {
  params: Promise<{
    segments: string[]
  }>
  searchParams: Promise<{
    [key: string]: string | string[]
  }>
}

export const generateMetadata = ({ params, searchParams }: Args): Promise<Metadata> =>
  generatePageMetadata({ config, params, searchParams })

const NotFound = ({ params, searchParams }: Args) =>
  NotFoundPage({ config, params, searchParams, importMap })

export default NotFound

// =============== FIN ARCHIVO [16]: src/app/(payload)/admin/[[...segments]]/not-found.tsx =============== //

// =============== INICIO ARCHIVO [17]: src/app/(payload)/admin/[[...segments]]/page.tsx =============== //
/* THIS FILE WAS GENERATED AUTOMATICALLY BY PAYLOAD. */
/* DO NOT MODIFY IT BECAUSE IT COULD BE REWRITTEN AT ANY TIME. */
import type { Metadata } from 'next'

import config from '@payload-config'
import { RootPage, generatePageMetadata } from '@payloadcms/next/views'
import { importMap } from '../importMap'

type Args = {
  params: Promise<{
    segments: string[]
  }>
  searchParams: Promise<{
    [key: string]: string | string[]
  }>
}

export const generateMetadata = ({ params, searchParams }: Args): Promise<Metadata> =>
  generatePageMetadata({ config, params, searchParams })

const Page = ({ params, searchParams }: Args) =>
  RootPage({ config, params, searchParams, importMap })

export default Page

// =============== FIN ARCHIVO [17]: src/app/(payload)/admin/[[...segments]]/page.tsx =============== //

// =============== INICIO ARCHIVO [18]: src/app/(payload)/admin/importMap.js =============== //
import { RscEntryLexicalCell as RscEntryLexicalCell_44fe37237e0ebf4470c9990d8cb7b07e } from '@payloadcms/richtext-lexical/rsc'
import { RscEntryLexicalField as RscEntryLexicalField_44fe37237e0ebf4470c9990d8cb7b07e } from '@payloadcms/richtext-lexical/rsc'
import { InlineToolbarFeatureClient as InlineToolbarFeatureClient_e70f5e05f09f93e00b997edb1ef0c864 } from '@payloadcms/richtext-lexical/client'
import { HorizontalRuleFeatureClient as HorizontalRuleFeatureClient_e70f5e05f09f93e00b997edb1ef0c864 } from '@payloadcms/richtext-lexical/client'
import { UploadFeatureClient as UploadFeatureClient_e70f5e05f09f93e00b997edb1ef0c864 } from '@payloadcms/richtext-lexical/client'
import { BlockquoteFeatureClient as BlockquoteFeatureClient_e70f5e05f09f93e00b997edb1ef0c864 } from '@payloadcms/richtext-lexical/client'
import { RelationshipFeatureClient as RelationshipFeatureClient_e70f5e05f09f93e00b997edb1ef0c864 } from '@payloadcms/richtext-lexical/client'
import { LinkFeatureClient as LinkFeatureClient_e70f5e05f09f93e00b997edb1ef0c864 } from '@payloadcms/richtext-lexical/client'
import { ChecklistFeatureClient as ChecklistFeatureClient_e70f5e05f09f93e00b997edb1ef0c864 } from '@payloadcms/richtext-lexical/client'
import { OrderedListFeatureClient as OrderedListFeatureClient_e70f5e05f09f93e00b997edb1ef0c864 } from '@payloadcms/richtext-lexical/client'
import { UnorderedListFeatureClient as UnorderedListFeatureClient_e70f5e05f09f93e00b997edb1ef0c864 } from '@payloadcms/richtext-lexical/client'
import { IndentFeatureClient as IndentFeatureClient_e70f5e05f09f93e00b997edb1ef0c864 } from '@payloadcms/richtext-lexical/client'
import { AlignFeatureClient as AlignFeatureClient_e70f5e05f09f93e00b997edb1ef0c864 } from '@payloadcms/richtext-lexical/client'
import { HeadingFeatureClient as HeadingFeatureClient_e70f5e05f09f93e00b997edb1ef0c864 } from '@payloadcms/richtext-lexical/client'
import { ParagraphFeatureClient as ParagraphFeatureClient_e70f5e05f09f93e00b997edb1ef0c864 } from '@payloadcms/richtext-lexical/client'
import { InlineCodeFeatureClient as InlineCodeFeatureClient_e70f5e05f09f93e00b997edb1ef0c864 } from '@payloadcms/richtext-lexical/client'
import { SuperscriptFeatureClient as SuperscriptFeatureClient_e70f5e05f09f93e00b997edb1ef0c864 } from '@payloadcms/richtext-lexical/client'
import { SubscriptFeatureClient as SubscriptFeatureClient_e70f5e05f09f93e00b997edb1ef0c864 } from '@payloadcms/richtext-lexical/client'
import { StrikethroughFeatureClient as StrikethroughFeatureClient_e70f5e05f09f93e00b997edb1ef0c864 } from '@payloadcms/richtext-lexical/client'
import { UnderlineFeatureClient as UnderlineFeatureClient_e70f5e05f09f93e00b997edb1ef0c864 } from '@payloadcms/richtext-lexical/client'
import { BoldFeatureClient as BoldFeatureClient_e70f5e05f09f93e00b997edb1ef0c864 } from '@payloadcms/richtext-lexical/client'
import { ItalicFeatureClient as ItalicFeatureClient_e70f5e05f09f93e00b997edb1ef0c864 } from '@payloadcms/richtext-lexical/client'

export const importMap = {
  "@payloadcms/richtext-lexical/rsc#RscEntryLexicalCell": RscEntryLexicalCell_44fe37237e0ebf4470c9990d8cb7b07e,
  "@payloadcms/richtext-lexical/rsc#RscEntryLexicalField": RscEntryLexicalField_44fe37237e0ebf4470c9990d8cb7b07e,
  "@payloadcms/richtext-lexical/client#InlineToolbarFeatureClient": InlineToolbarFeatureClient_e70f5e05f09f93e00b997edb1ef0c864,
  "@payloadcms/richtext-lexical/client#HorizontalRuleFeatureClient": HorizontalRuleFeatureClient_e70f5e05f09f93e00b997edb1ef0c864,
  "@payloadcms/richtext-lexical/client#UploadFeatureClient": UploadFeatureClient_e70f5e05f09f93e00b997edb1ef0c864,
  "@payloadcms/richtext-lexical/client#BlockquoteFeatureClient": BlockquoteFeatureClient_e70f5e05f09f93e00b997edb1ef0c864,
  "@payloadcms/richtext-lexical/client#RelationshipFeatureClient": RelationshipFeatureClient_e70f5e05f09f93e00b997edb1ef0c864,
  "@payloadcms/richtext-lexical/client#LinkFeatureClient": LinkFeatureClient_e70f5e05f09f93e00b997edb1ef0c864,
  "@payloadcms/richtext-lexical/client#ChecklistFeatureClient": ChecklistFeatureClient_e70f5e05f09f93e00b997edb1ef0c864,
  "@payloadcms/richtext-lexical/client#OrderedListFeatureClient": OrderedListFeatureClient_e70f5e05f09f93e00b997edb1ef0c864,
  "@payloadcms/richtext-lexical/client#UnorderedListFeatureClient": UnorderedListFeatureClient_e70f5e05f09f93e00b997edb1ef0c864,
  "@payloadcms/richtext-lexical/client#IndentFeatureClient": IndentFeatureClient_e70f5e05f09f93e00b997edb1ef0c864,
  "@payloadcms/richtext-lexical/client#AlignFeatureClient": AlignFeatureClient_e70f5e05f09f93e00b997edb1ef0c864,
  "@payloadcms/richtext-lexical/client#HeadingFeatureClient": HeadingFeatureClient_e70f5e05f09f93e00b997edb1ef0c864,
  "@payloadcms/richtext-lexical/client#ParagraphFeatureClient": ParagraphFeatureClient_e70f5e05f09f93e00b997edb1ef0c864,
  "@payloadcms/richtext-lexical/client#InlineCodeFeatureClient": InlineCodeFeatureClient_e70f5e05f09f93e00b997edb1ef0c864,
  "@payloadcms/richtext-lexical/client#SuperscriptFeatureClient": SuperscriptFeatureClient_e70f5e05f09f93e00b997edb1ef0c864,
  "@payloadcms/richtext-lexical/client#SubscriptFeatureClient": SubscriptFeatureClient_e70f5e05f09f93e00b997edb1ef0c864,
  "@payloadcms/richtext-lexical/client#StrikethroughFeatureClient": StrikethroughFeatureClient_e70f5e05f09f93e00b997edb1ef0c864,
  "@payloadcms/richtext-lexical/client#UnderlineFeatureClient": UnderlineFeatureClient_e70f5e05f09f93e00b997edb1ef0c864,
  "@payloadcms/richtext-lexical/client#BoldFeatureClient": BoldFeatureClient_e70f5e05f09f93e00b997edb1ef0c864,
  "@payloadcms/richtext-lexical/client#ItalicFeatureClient": ItalicFeatureClient_e70f5e05f09f93e00b997edb1ef0c864
}

// =============== FIN ARCHIVO [18]: src/app/(payload)/admin/importMap.js =============== //

// =============== INICIO ARCHIVO [19]: src/app/(payload)/api/[...slug]/route.ts =============== //
/* THIS FILE WAS GENERATED AUTOMATICALLY BY PAYLOAD. */
/* DO NOT MODIFY IT BECAUSE IT COULD BE REWRITTEN AT ANY TIME. */
import config from '@payload-config'
import '@payloadcms/next/css'
import {
  REST_DELETE,
  REST_GET,
  REST_OPTIONS,
  REST_PATCH,
  REST_POST,
  REST_PUT,
} from '@payloadcms/next/routes'

export const GET = REST_GET(config)
export const POST = REST_POST(config)
export const DELETE = REST_DELETE(config)
export const PATCH = REST_PATCH(config)
export const PUT = REST_PUT(config)
export const OPTIONS = REST_OPTIONS(config)

// =============== FIN ARCHIVO [19]: src/app/(payload)/api/[...slug]/route.ts =============== //

// =============== INICIO ARCHIVO [20]: src/app/(payload)/api/graphql-playground/route.ts =============== //
/* THIS FILE WAS GENERATED AUTOMATICALLY BY PAYLOAD. */
/* DO NOT MODIFY IT BECAUSE IT COULD BE REWRITTEN AT ANY TIME. */
import config from '@payload-config'
import '@payloadcms/next/css'
import { GRAPHQL_PLAYGROUND_GET } from '@payloadcms/next/routes'

export const GET = GRAPHQL_PLAYGROUND_GET(config)

// =============== FIN ARCHIVO [20]: src/app/(payload)/api/graphql-playground/route.ts =============== //

// =============== INICIO ARCHIVO [21]: src/app/(payload)/api/graphql/route.ts =============== //
/* THIS FILE WAS GENERATED AUTOMATICALLY BY PAYLOAD. */
/* DO NOT MODIFY IT BECAUSE IT COULD BE REWRITTEN AT ANY TIME. */
import config from '@payload-config'
import { GRAPHQL_POST, REST_OPTIONS } from '@payloadcms/next/routes'

export const POST = GRAPHQL_POST(config)

export const OPTIONS = REST_OPTIONS(config)

// =============== FIN ARCHIVO [21]: src/app/(payload)/api/graphql/route.ts =============== //

// =============== INICIO ARCHIVO [22]: src/app/(payload)/custom.scss =============== //
/* 
  IMPORTANTE: Solo importamos 'components' y 'utilities'.
  NO importamos 'base' para evitar que el reset rompa los botones del Login de Payload.
*/
@tailwind components;
@tailwind utilities;

/* --- Estilos Globales para el Admin --- */

/* Forzar fondo negro profundo para dar look profesional */
html, body {
  background-color: #000000 !important;
  color: #ffffff;
}

/* Ajuste fino para la barra de desplazamiento */
::-webkit-scrollbar {
  width: 8px;
  height: 8px;
}
::-webkit-scrollbar-track {
  background: #09090b; /* Zinc-950 */
}
::-webkit-scrollbar-thumb {
  background: #27272a; /* Zinc-800 */
  border-radius: 4px;
}
::-webkit-scrollbar-thumb:hover {
  background: #3f3f46; /* Zinc-700 */
}

/* Correcci√≥n de tipograf√≠a para el Dashboard personalizado */
.dashboard-container h1, 
.dashboard-container h2, 
.dashboard-container h3 {
  font-family: var(--font-sans), system-ui, sans-serif;
}

// =============== FIN ARCHIVO [22]: src/app/(payload)/custom.scss =============== //

// =============== INICIO ARCHIVO [23]: src/app/(payload)/layout.tsx =============== //
/* THIS FILE WAS GENERATED AUTOMATICALLY BY PAYLOAD. */
/* DO NOT MODIFY IT BECAUSE IT COULD BE REWRITTEN AT ANY TIME. */
import config from '@payload-config'
import '@payloadcms/next/css'
import type { ServerFunctionClient } from 'payload'
import { handleServerFunctions, RootLayout } from '@payloadcms/next/layouts'
import React from 'react'

import { importMap } from './admin/importMap.js'
import './custom.scss'
// ‚ùå ELIMINADA LA IMPORTACI√ìN DE GLOBALS.CSS QUE ROMP√çA EL LOGIN

type Args = {
  children: React.ReactNode
}

const serverFunction: ServerFunctionClient = async function (args) {
  'use server'
  return handleServerFunctions({
    ...args,
    config,
    importMap,
  })
}

const Layout = ({ children }: Args) => (
  <RootLayout config={config} importMap={importMap} serverFunction={serverFunction}>
    {children}
  </RootLayout>
)

export default Layout

// =============== FIN ARCHIVO [23]: src/app/(payload)/layout.tsx =============== //

// =============== INICIO ARCHIVO [24]: src/app/[locale]/aviso-legal/page.tsx =============== //
import React from 'react'
import { Metadata } from 'next'
import { getPayload } from 'payload'
import configPromise from '@payload-config'
import type { LegalText } from '@/payload-types'
import { getTranslations } from 'next-intl/server'

export const revalidate = 86400

type Args = {
  params: Promise<{ locale: string }>
}

export async function generateMetadata({ params }: Args): Promise<Metadata> {
  const { locale } = await params
  const t = await getTranslations({ locale, namespace: 'common.legal' })
  
  return {
    title: t('legalNotice'),
    description: locale === 'en' 
      ? 'Legal information and ownership of the OHCodex website.' 
      : 'Informaci√≥n legal y titularidad del sitio web OHCodex.',
    // üëá CORRECCI√ìN SEO: Cambiamos index de false a true para que Google las indexe
    robots: {
      index: true, 
      follow: true,
    },
  }
}

// --- Helper para renderizar texto enriquecido (Lexical) ---
const SerializeLexical = ({ nodes }: { nodes: any[] }) => {
  if (!nodes || !Array.isArray(nodes)) return null
  return (
    <>
      {nodes.map((node, i) => {
        if (node.type === 'text') {
          let text = <span key={i}>{node.text}</span>
          if (node.format & 1) text = <strong key={i} className="font-bold text-white">{text}</strong>
          if (node.format & 2) text = <em key={i} className="italic">{text}</em>
          if (node.format & 8) text = <u key={i} className="underline">{text}</u>
          return text
        }
        if (!node) return null
        switch (node.type) {
          case 'heading':
            const Tag = node.tag as any
            return (
              <Tag key={i} className="text-xl font-semibold text-white mt-8 mb-4 block">
                <SerializeLexical nodes={node.children} />
              </Tag>
            )
          case 'paragraph':
            return <p key={i} className="mb-4 leading-relaxed text-zinc-400"><SerializeLexical nodes={node.children} /></p>
          case 'list':
            const ListTag = node.listType === 'number' ? 'ol' : 'ul'
            return <ListTag key={i} className={`mb-4 pl-6 ${node.listType === 'number' ? 'list-decimal' : 'list-disc'} text-zinc-400`}><SerializeLexical nodes={node.children} /></ListTag>
          case 'listitem':
            return <li key={i} className="mb-1"><SerializeLexical nodes={node.children} /></li>
          case 'link':
            return <a key={i} href={node.fields.url} className="text-cyan-400 hover:underline"><SerializeLexical nodes={node.children} /></a>
          default:
            return <SerializeLexical key={i} nodes={node.children} />
        }
      })}
    </>
  )
}

export default async function AvisoLegalPage({ params }: Args) {
  const { locale } = await params
  const payload = await getPayload({ config: configPromise })
  
  // Cargar traducciones para elementos est√°ticos
  const t = await getTranslations('common.legal')
  
  // Consultar la global pasando el locale para obtener el contenido de la BD
  const legal = (await payload.findGlobal({
    slug: 'legal-texts' as any,
    locale: locale as any, 
  })) as unknown as LegalText

  return (
    <div className="bg-black min-h-screen py-24">
      <div className="container px-4 mx-auto max-w-4xl">
        <h1 className="text-3xl font-bold text-white mb-8">
          {t('legalNotice')}
        </h1>
        <div className="prose prose-invert prose-zinc max-w-none">
          {legal?.legalNotice && (legal.legalNotice as any).root ? (
            <SerializeLexical nodes={(legal.legalNotice as any).root.children} />
          ) : (
            <p className="text-zinc-500 italic">
              {locale === 'en' ? 'Legal content pending translation...' : 'Contenido legal pendiente de traducci√≥n...'}
            </p>
          )}
        </div>
      </div>
    </div>
  )
}

// =============== FIN ARCHIVO [24]: src/app/[locale]/aviso-legal/page.tsx =============== //

// =============== INICIO ARCHIVO [25]: src/app/[locale]/blog/[slug]/page.tsx =============== //
import React from 'react'
import { getPayload } from 'payload'
import configPromise from '@payload-config'
import { notFound } from 'next/navigation'
import Image from 'next/image'
import Link from 'next/link'
import { ArrowLeft, CalendarDays, User, Clock } from 'lucide-react'
import { Badge } from '@/components/ui/badge'
import { Metadata } from 'next'
import type { Post, CompanyInfo } from '@/payload-types'
import { getTranslations } from 'next-intl/server'

export const revalidate = 600

// --- Serializador Lexical (Convierte el JSON de la BD en HTML/JSX) ---
const SerializeLexical = ({ nodes }: { nodes: any[] }) => {
  if (!nodes || !Array.isArray(nodes)) return null
  return (
    <>
      {nodes.map((node, i) => {
        if (node.type === 'text') {
          let text = <span key={i}>{node.text}</span>
          if (node.format & 1) text = <strong key={i} className="font-bold text-white">{text}</strong>
          if (node.format & 2) text = <em key={i} className="italic">{text}</em>
          if (node.format & 8) text = <u key={i} className="underline">{text}</u>
          if (node.format & 16) text = <code key={i} className="bg-zinc-800 text-cyan-400 px-1 py-0.5 rounded text-sm font-mono">{text}</code>
          return text
        }
        if (!node) return null
        switch (node.type) {
          case 'heading':
            const Tag = node.tag as any
            const sizes: Record<string, string> = { 
              h1: 'text-3xl sm:text-4xl mt-12 mb-6 text-white font-bold tracking-tight', 
              h2: 'text-2xl sm:text-3xl mt-10 mb-5 text-white font-bold tracking-tight', 
              h3: 'text-xl sm:text-2xl mt-8 mb-4 text-white font-semibold'
            }
            return <Tag key={i} className={sizes[node.tag] || ''}><SerializeLexical nodes={node.children} /></Tag>
          case 'paragraph':
            return <p key={i} className="mb-6 leading-7 text-zinc-300 text-lg"><SerializeLexical nodes={node.children} /></p>
          case 'quote':
            return (
              <blockquote key={i} className="border-l-4 border-cyan-500 pl-4 italic text-zinc-400 my-8 py-2 bg-zinc-900/30 rounded-r-lg">
                <SerializeLexical nodes={node.children} />
              </blockquote>
            )
          case 'list':
            const ListTag = node.listType === 'number' ? 'ol' : 'ul'
            return <ListTag key={i} className={`mb-6 pl-6 ${node.listType === 'number' ? 'list-decimal' : 'list-disc'} text-zinc-300 marker:text-cyan-500`}><SerializeLexical nodes={node.children} /></ListTag>
          case 'listitem':
            return <li key={i} className="mb-2 pl-2"><SerializeLexical nodes={node.children} /></li>
          case 'link':
            return <a key={i} href={node.fields.url} target={node.fields.newTab ? '_blank' : '_self'} className="text-cyan-400 hover:text-cyan-300 underline underline-offset-4"><SerializeLexical nodes={node.children} /></a>
          default:
            return <SerializeLexical key={i} nodes={node.children} />
        }
      })}
    </>
  )
}

interface Args {
  params: Promise<{ slug: string; locale: string }>
}

// --- METADATOS DIN√ÅMICOS ---
export async function generateMetadata({ params }: Args): Promise<Metadata> {
  const { slug, locale } = await params
  const payload = await getPayload({ config: configPromise })
  const { docs } = await payload.find({
    collection: 'posts',
    where: { slug: { equals: slug } },
    locale: locale as any,
  })

  if (!docs[0]) return { title: 'Not Found' }
  const post = docs[0]

  return {
    title: `${post.metaTitle || post.title} | Blog OHCodex`,
    description: post.metaDescription || post.excerpt,
    openGraph: {
      title: post.title,
      description: post.excerpt,
      type: 'article',
      publishedTime: post.publishedDate,
      images: typeof post.coverImage === 'object' && (post.coverImage as any)?.url ? [{ url: (post.coverImage as any).url }] : undefined,
    }
  }
}

// --- COMPONENTE PRINCIPAL ---
export default async function BlogPostPage({ params }: Args) {
  const { slug, locale } = await params
  const payload = await getPayload({ config: configPromise })
  const t = await getTranslations('blog')

  // Buscamos el post y la info de empresa (para el logo del JSON-LD)
  const [postResult, companyResult] = await Promise.all([
    payload.find({
      collection: 'posts',
      where: { slug: { equals: slug } },
      depth: 2, 
      locale: locale as any,
    }),
    payload.findGlobal({
      slug: 'company-info' as any,
      locale: locale as any,
    }) as unknown as CompanyInfo
  ])

  const post = postResult.docs[0] as Post
  if (!post) return notFound()

  const coverUrl = typeof post.coverImage === 'object' ? (post.coverImage as any)?.url : null
  const categoryName = typeof post.category === 'object' ? (post.category as any)?.name : 'General'
  const authorName = typeof post.author === 'object' ? (post.author as any)?.name || 'OHCodex Team' : 'OHCodex'
  
  const formatDate = (dateString: string) => {
    return new Date(dateString).toLocaleDateString(locale === 'en' ? 'en-US' : 'es-ES', { day: 'numeric', month: 'long', year: 'numeric' })
  }

  // --- SCHEMA.ORG (JSON-LD) para SEO ---
  const jsonLd = {
    '@context': 'https://schema.org',
    '@type': 'BlogPosting',
    headline: post.title,
    image: coverUrl ? [coverUrl] : [],
    datePublished: post.publishedDate,
    dateModified: post.updatedAt,
    author: { '@type': 'Person', name: authorName },
    description: post.excerpt,
  }

  return (
    <article className="min-h-screen bg-black pt-24 pb-20">
      <script type="application/ld+json" dangerouslySetInnerHTML={{ __html: JSON.stringify(jsonLd) }} />

      <div className="container px-4 mx-auto max-w-4xl">
        {/* Enlace de vuelta */}
        <Link href={`/${locale}/blog`} className="inline-flex items-center text-sm text-zinc-500 hover:text-cyan-400 transition-colors mb-8">
          <ArrowLeft className="mr-2 h-4 w-4" /> {t('backToBlog')}
        </Link>

        <div className="mb-6">
          <Badge className="bg-cyan-950 text-cyan-400 border-cyan-900 hover:bg-cyan-900">
            {categoryName}
          </Badge>
        </div>

        <h1 className="text-3xl sm:text-5xl font-extrabold text-white tracking-tight mb-6 leading-tight">
          {post.title}
        </h1>

        <div className="flex flex-wrap items-center gap-6 text-zinc-500 text-sm border-b border-zinc-800 pb-8 mb-8 font-mono">
          <div className="flex items-center gap-2">
            <CalendarDays className="w-4 h-4" />
            {t('publishedOn')} {formatDate(post.publishedDate)}
          </div>
          <div className="flex items-center gap-2">
            <User className="w-4 h-4" />
            {authorName}
          </div>
          <div className="flex items-center gap-2">
            <Clock className="w-4 h-4" />
            5 {t('minRead')}
          </div>
        </div>
      </div>

      {/* Imagen de Portada */}
      {coverUrl && (
        <div className="container px-4 mx-auto max-w-5xl mb-12">
          <div className="relative w-full aspect-[21/9] rounded-2xl overflow-hidden border border-zinc-800 shadow-2xl">
            <Image src={coverUrl} alt={post.title} fill className="object-cover" priority />
          </div>
        </div>
      )}

      {/* Cuerpo del Art√≠culo */}
      <div className="container px-4 mx-auto max-w-3xl">
        <div className="prose prose-invert prose-lg max-w-none">
          {post.content && (post.content as any).root && (
            <SerializeLexical nodes={(post.content as any).root.children} />
          )}
        </div>

        {/* Caja de contacto final */}
        <div className="mt-16 p-8 rounded-2xl bg-zinc-900/50 border border-zinc-800 text-center">
          <h3 className="text-xl font-bold text-white mb-2">{t('interested')}</h3>
          <p className="text-zinc-400 mb-6">{t('helpText')}</p>
          <Link href={`/${locale}/#contacto`} className="inline-flex h-10 items-center justify-center rounded-md bg-white px-8 text-sm font-medium text-black transition-colors hover:bg-zinc-200">
            {t('letsTalk')}
          </Link>
        </div>
      </div>
    </article>
  )
}

// =============== FIN ARCHIVO [25]: src/app/[locale]/blog/[slug]/page.tsx =============== //

// =============== INICIO ARCHIVO [26]: src/app/[locale]/blog/page.tsx =============== //
import React from 'react'
import { getPayload } from 'payload'
import configPromise from '@payload-config'
import Link from 'next/link'
import Image from 'next/image'
import { Badge } from '@/components/ui/badge'
import { CalendarDays, User } from 'lucide-react'
import { Metadata } from 'next'
import { getTranslations } from 'next-intl/server'

// Revalidaci√≥n cada 10 minutos
export const revalidate = 600

type Args = {
  params: Promise<{ locale: string }>
}

// Generaci√≥n din√°mica de metadatos traducidos
export async function generateMetadata({ params }: Args): Promise<Metadata> {
  const { locale } = await params
  const t = await getTranslations({ locale, namespace: 'blog' })

  return {
    title: `${t('title')} | OHCodex`,
    description: t('subtitle'),
  }
}

export default async function BlogPage({ params }: Args) {
  // 1. Esperar los params (Obligatorio en Next.js 15)
  const { locale } = await params
  const payload = await getPayload({ config: configPromise })

  // 2. Cargar traducciones
  const t = await getTranslations('blog')
  const tCommon = await getTranslations('common.buttons')

  // 3. Obtener los posts publicados en el idioma actual
  const { docs: posts } = await payload.find({
    collection: 'posts',
    sort: '-publishedDate',
    depth: 1,
    limit: 12,
    locale: locale as any, // üëà Pide el contenido traducido
  })

  // Formateador de fecha localizado
  const formatDate = (dateString: string) => {
    return new Date(dateString).toLocaleDateString(locale === 'en' ? 'en-US' : 'es-ES', {
      day: 'numeric',
      month: 'long',
      year: 'numeric',
    })
  }

  // L√≥gica para el t√≠tulo: separar la √∫ltima palabra para el color Cian
  const titleText = t('title')
  const titleWords = titleText.split(' ')
  const titleMain = titleWords.slice(0, -1).join(' ')
  const titleLast = titleWords.slice(-1)

  return (
    <div className="bg-black min-h-screen pt-24 pb-20">
      <div className="container px-4 mx-auto">
        
        {/* CABECERA */}
        <div className="max-w-3xl mx-auto text-center mb-16">
          <h1 className="text-4xl font-extrabold tracking-tight text-white sm:text-5xl mb-6">
            {titleMain} <span className="text-cyan-500">{titleLast}</span>
          </h1>
          <p className="text-lg text-zinc-400 leading-relaxed">
            {t('subtitle')}
          </p>
        </div>

        {/* LISTADO DE ART√çCULOS */}
        {posts.length > 0 ? (
          <div className="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8">
            {posts.map((post) => {
              const coverUrl = typeof post.coverImage === 'object' && post.coverImage?.url 
                ? post.coverImage.url 
                : null
              
              // Nombre de categor√≠a traducido (viene del depth 1)
              const categoryName = typeof post.category === 'object' && post.category?.name 
                ? post.category.name 
                : 'General'

              // Nombre del autor (fallback si no tiene nombre p√∫blico)
              const authorName = typeof post.author === 'object' 
                ? (post.author as any).name || 'OHCodex Team' 
                : 'OHCodex'

              // Construimos la URL localizada
              const postUrl = `/${locale}/blog/${post.slug}`

              return (
                <article key={post.id} className="group flex flex-col h-full bg-zinc-900/30 border border-zinc-800 rounded-2xl overflow-hidden hover:border-cyan-500/50 transition-all">
                  
                  {/* Imagen */}
                  <Link href={postUrl} className="relative h-56 w-full overflow-hidden block">
                    {coverUrl ? (
                      <Image 
                        src={coverUrl} 
                        alt={post.title} 
                        fill 
                        className="object-cover transition-transform duration-500 group-hover:scale-105"
                        sizes="(max-width: 768px) 100vw, (max-width: 1200px) 50vw, 33vw"
                      />
                    ) : (
                      <div className="w-full h-full bg-zinc-800 flex items-center justify-center text-zinc-600">
                        No image
                      </div>
                    )}
                    <div className="absolute top-4 left-4">
                      <Badge className="bg-black/70 backdrop-blur-sm text-white border-white/10">
                        {categoryName}
                      </Badge>
                    </div>
                  </Link>

                  {/* Contenido de la Card */}
                  <div className="flex flex-col flex-1 p-6">
                    <div className="flex items-center gap-4 text-xs text-zinc-500 mb-4 font-mono">
                      <span className="flex items-center gap-1">
                        <CalendarDays className="w-3.5 h-3.5" />
                        {formatDate(post.publishedDate)}
                      </span>
                      <span className="flex items-center gap-1">
                        <User className="w-3.5 h-3.5" />
                        {authorName}
                      </span>
                    </div>

                    <Link href={postUrl} className="block">
                      <h2 className="text-xl font-bold text-white mb-3 group-hover:text-cyan-400 transition-colors line-clamp-2">
                        {post.title}
                      </h2>
                    </Link>

                    <p className="text-zinc-400 text-sm leading-relaxed line-clamp-3 mb-6 flex-1">
                      {post.excerpt}
                    </p>

                    <div className="mt-auto pt-4 border-t border-zinc-800">
                      <Link href={postUrl} className="text-sm font-medium text-cyan-500 hover:text-cyan-400 flex items-center gap-2">
                        {tCommon('readArticle')} <span aria-hidden="true">&rarr;</span>
                      </Link>
                    </div>
                  </div>
                </article>
              )
            })}
          </div>
        ) : (
          <div className="text-center py-20 bg-zinc-900/30 rounded-2xl border border-zinc-800 border-dashed">
            <p className="text-zinc-500">
              {t('noArticles')}
            </p>
          </div>
        )}

      </div>
    </div>
  )
}

// =============== FIN ARCHIVO [26]: src/app/[locale]/blog/page.tsx =============== //

// =============== INICIO ARCHIVO [27]: src/app/[locale]/layout.tsx =============== //
import { NextIntlClientProvider } from 'next-intl';
import { getMessages } from 'next-intl/server';
import { notFound } from 'next/navigation';
import { routing } from '@/i18n/routing';
import { Header } from '@/components/layout/Header';
import { Footer } from '@/components/layout/Footer';
import { Toaster } from '@/components/ui/toaster';

export default async function LocaleLayout({
  children,
  params
}: {
  children: React.ReactNode;
  params: Promise<{ locale: string }>;
}) {
  // 1. En Next.js 15, los params son una Promesa que hay que esperar
  const { locale } = await params;

  // 2. Seguridad: Si el idioma no est√° en nuestra lista, devolvemos 404
  if (!routing.locales.includes(locale as any)) {
    notFound();
  }

  // 3. Cargamos los mensajes de traducci√≥n en el servidor
  const messages = await getMessages();

  return (
    <NextIntlClientProvider messages={messages} locale={locale}>
      <div className="flex min-h-screen flex-col">
        {/* El Header es Cliente, ahora funcionar√° porque est√° dentro del Provider */}
        <Header />
        
        <main className="flex-1">
          {children}
        </main>
        
        {/* El Footer es Servidor, le pasamos el locale expl√≠citamente */}
        <Footer locale={locale} />
      </div>
      
      {/* Toast para notificaciones (ej: "Copiado al portapapeles") */}
      <Toaster />
    </NextIntlClientProvider>
  );
}

// =============== FIN ARCHIVO [27]: src/app/[locale]/layout.tsx =============== //

// =============== INICIO ARCHIVO [28]: src/app/[locale]/page.tsx =============== //
import React from 'react'
import { getPayload } from 'payload'
import configPromise from '@payload-config'
import { getTranslations } from 'next-intl/server'
import type { LandingPage, CompanyInfo, Tool } from '@/payload-types'

// Componentes Corporativos
import { Hero } from '@/components/sections/Hero'
import { ProductsSection } from '@/components/sections/Products'
import { FeaturesSection } from '@/components/sections/Features'
import { Testimonials } from '@/components/sections/Testimonials'
import { TrustBar } from '@/components/sections/TrustBar'
import { FAQ } from '@/components/sections/FAQ'
import { ContactSection } from '@/components/sections/Contact'

// Componentes de UI
import Link from 'next/link'
import { Card, CardHeader, CardTitle, CardDescription, CardFooter } from '@/components/ui/card'
import { Badge } from '@/components/ui/badge'
import { 
  Lock, 
  Image as ImageIcon, 
  FileText, 
  Database, 
  QrCode, 
  ArrowRight, 
  Shield,
  ScanLine,
  Box,
  LucideIcon
} from 'lucide-react'

// Metadatos Din√°micos
export async function generateMetadata({ params }: { params: Promise<{ locale: string }> }) {
  const { locale } = await params
  const payload = await getPayload({ config: configPromise })
  
  const landing = (await payload.findGlobal({
    slug: 'landing-page' as any,
    locale: locale as any,
  })) as unknown as LandingPage
  
  const company = (await payload.findGlobal({
    slug: 'company-info' as any,
    locale: locale as any,
  })) as unknown as CompanyInfo

  return {
    title: landing?.heroTitle || company?.defaultTitle,
    description: landing?.heroSubtitle || company?.defaultDescription,
  }
}

// Mapa de Iconos (Conecta el string de la BD con el componente React)
const ICON_MAP: Record<string, LucideIcon> = {
  'lock': Lock,
  'image': ImageIcon,
  'file-text': FileText,
  'database': Database,
  'qr-code': QrCode,
  'scan': ScanLine,
  'box': Box
}

// Estilos de Badge por defecto seg√∫n el slug (para mantener la est√©tica visual bonita)
// Si a√±ades una herramienta nueva que no est√° aqu√≠, usar√° el estilo "default"
const BADGE_STYLES: Record<string, string> = {
  'vault': 'bg-cyan-900/50 text-cyan-400 border-cyan-800',
  'image-optimizer': 'bg-green-900/50 text-green-400 border-green-800',
  'pdf-studio': 'bg-purple-900/50 text-purple-400 border-purple-800',
  'data-station': 'bg-blue-900/50 text-blue-400 border-blue-800',
  'qr-factory': 'bg-pink-900/50 text-pink-400 border-pink-800',
  'ocr-vision': 'bg-amber-900/50 text-amber-400 border-amber-800',
  'default': 'bg-zinc-800 text-zinc-400 border-zinc-700'
}

export default async function HomePage({ params }: { params: Promise<{ locale: string }> }) {
  const { locale } = await params
  const payload = await getPayload({ config: configPromise })
  
  // Cargar Textos Est√°ticos (T√≠tulos de secci√≥n, botones)
  const tHome = await getTranslations({ locale, namespace: 'home' })

  // 1. Cargar Datos Globales
  const landing = (await payload.findGlobal({
    slug: 'landing-page' as any,
    locale: locale as any,
  })) as unknown as LandingPage

  const company = (await payload.findGlobal({
    slug: 'company-info' as any,
    locale: locale as any,
  })) as unknown as CompanyInfo

  // 2. Cargar HERRAMIENTAS directamente de la BD (Din√°mico)
  // Limitamos a 6 para mantener el grid perfecto de 3x2 en la home
  const { docs: tools } = await payload.find({
    collection: 'tools',
    sort: 'createdAt', // Orden de creaci√≥n (o puedes a√±adir un campo 'order' al CMS si prefieres)
    limit: 6, 
    locale: locale as any
  }) as unknown as { docs: Tool[] }

  return (
    <>
      {/* 1. HERO Corporativo */}
      <Hero 
        badge={landing?.heroBadge}
        title={landing?.heroTitle || "OHCodex Software Studio"}
        subtitle={landing?.heroSubtitle || "Engineering the future."}
      />

      {/* 2. Barra de Confianza */}
      <TrustBar 
        logos={landing?.trustLogos} 
        title={landing?.trustBarTitle || undefined} 
      />

      {/* 3. Secci√≥n de Productos (Portfolio) */}
      <ProductsSection locale={locale} />

      {/* 4. SECCI√ìN: Tools Suite (DIN√ÅMICA) */}
      <section id="tools" className="py-24 bg-zinc-900/30 border-y border-white/5">
        <div className="container px-4 mx-auto max-w-6xl">
          <div className="text-center mb-16">
            <Badge className="mb-6 bg-cyan-950 text-cyan-400 border-cyan-900/50">
              <Shield className="w-3 h-3 mr-2" />
              {tHome('hero.badge')}
            </Badge>
            <h2 className="text-3xl md:text-4xl font-bold tracking-tight mb-4 text-white">
              {tHome('ourTools.title')}
            </h2>
            <p className="text-lg text-zinc-400 max-w-2xl mx-auto">
              {tHome('ourTools.subtitle')}
            </p>
          </div>

          <div className="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
            {tools.map((tool) => {
              // Icono din√°mico desde la BD
              const iconKey = (tool.icon as string) || 'box'
              const Icon = ICON_MAP[iconKey] || Box
              
              // Estilo del Badge basado en el slug (o default)
              const badgeStyle = BADGE_STYLES[tool.slug] || BADGE_STYLES['default']
              
              return (
                <Link key={tool.id} href={`/${locale}/tools/${tool.slug}`} className="group block h-full">
                  <Card className="h-full border-zinc-800 bg-black/40 transition-all duration-300 hover:border-cyan-500/50 hover:bg-zinc-900/80 hover:-translate-y-1">
                    <CardHeader>
                      <div className="flex items-start justify-between mb-4">
                        <div className="p-3 rounded-lg bg-zinc-800 text-zinc-400 group-hover:text-cyan-400 group-hover:bg-cyan-950/30 transition-colors">
                          <Icon className="w-6 h-6" />
                        </div>
                        {/* El texto del badge viene de la BD */}
                        {tool.badge && (
                          <Badge className={`${badgeStyle} border`}>
                            {tool.badge}
                          </Badge>
                        )}
                      </div>
                      <CardTitle className="text-xl text-white group-hover:text-cyan-400 transition-colors">
                        {tool.title}
                      </CardTitle>
                      <CardDescription className="text-base text-zinc-400 line-clamp-2">
                        {tool.shortDescription}
                      </CardDescription>
                    </CardHeader>
                    <CardFooter className="text-sm text-zinc-500 font-medium mt-auto group-hover:text-cyan-500 transition-colors">
                      {tHome('ourTools.useTool')} <ArrowRight className="ml-2 w-4 h-4 transition-transform group-hover:translate-x-1" />
                    </CardFooter>
                  </Card>
                </Link>
              )
            })}
          </div>
        </div>
      </section>

      {/* 5. Metodolog√≠a */}
      <FeaturesSection locale={locale} />

      {/* 6. Testimonios */}
      <Testimonials 
        testimonials={landing?.testimonials}
        title={landing?.testimonialsTitle || undefined}
        subtitle={landing?.testimonialsSubtitle || undefined}
      />

      {/* 7. FAQ */}
      <FAQ 
        faqs={landing?.faqs}
        title={landing?.faqTitle || undefined}
        subtitle={landing?.faqSubtitle || undefined}
      />

      {/* 8. Contacto */}
      <ContactSection email={company?.contactEmail || 'info@ohcodex.com'} />
    </>
  )
}

// =============== FIN ARCHIVO [28]: src/app/[locale]/page.tsx =============== //

// =============== INICIO ARCHIVO [29]: src/app/[locale]/privacidad/page.tsx =============== //
import React from 'react'
import { Metadata } from 'next'
import { getPayload } from 'payload'
import configPromise from '@payload-config'
import type { LegalText } from '@/payload-types'
import { getTranslations } from 'next-intl/server'

export const revalidate = 86400

type Args = {
  params: Promise<{ locale: string }>
}

export async function generateMetadata({ params }: Args): Promise<Metadata> {
  const { locale } = await params
  const t = await getTranslations({ locale, namespace: 'common.legal' })

  return {
    title: t('privacy'),
    description: locale === 'en' 
      ? 'Privacy Policy and data protection at OHCodex.' 
      : 'Pol√≠tica de Privacidad y protecci√≥n de datos de OHCodex.',
    // üëá CORRECCI√ìN SEO: Permitimos que Google indexe la p√°gina de privacidad
    robots: {
      index: true, 
      follow: true,
    },
  }
}

// --- Helper para renderizar texto enriquecido (Lexical) ---
const SerializeLexical = ({ nodes }: { nodes: any[] }) => {
  if (!nodes || !Array.isArray(nodes)) return null
  return (
    <>
      {nodes.map((node, i) => {
        if (node.type === 'text') {
          let text = <span key={i}>{node.text}</span>
          if (node.format & 1) text = <strong key={i} className="font-bold text-white">{text}</strong>
          if (node.format & 2) text = <em key={i} className="italic">{text}</em>
          if (node.format & 8) text = <u key={i} className="underline">{text}</u>
          return text
        }
        if (!node) return null
        switch (node.type) {
          case 'heading':
            const Tag = node.tag as any
            return (
              <Tag key={i} className="text-xl font-semibold text-white mt-8 mb-4 block">
                <SerializeLexical nodes={node.children} />
              </Tag>
            )
          case 'paragraph':
            return <p key={i} className="mb-4 leading-relaxed text-zinc-400"><SerializeLexical nodes={node.children} /></p>
          case 'list':
            const ListTag = node.listType === 'number' ? 'ol' : 'ul'
            return <ListTag key={i} className={`mb-4 pl-6 ${node.listType === 'number' ? 'list-decimal' : 'list-disc'} text-zinc-400`}><SerializeLexical nodes={node.children} /></ListTag>
          case 'listitem':
            return <li key={i} className="mb-1"><SerializeLexical nodes={node.children} /></li>
          case 'link':
            return <a key={i} href={node.fields.url} className="text-cyan-400 hover:underline"><SerializeLexical nodes={node.children} /></a>
          default:
            return <SerializeLexical key={i} nodes={node.children} />
        }
      })}
    </>
  )
}

export default async function PrivacidadPage({ params }: Args) {
  const { locale } = await params
  const payload = await getPayload({ config: configPromise })
  
  // 1. Cargar traducciones para elementos est√°ticos
  const t = await getTranslations('common.legal')
  
  // 2. Consultar la global pasando el locale para obtener el contenido de la BD
  const legal = (await payload.findGlobal({
    slug: 'legal-texts' as any,
    locale: locale as any, 
  })) as unknown as LegalText

  return (
    <div className="bg-black min-h-screen py-24">
      <div className="container px-4 mx-auto max-w-4xl">
        <h1 className="text-3xl font-bold text-white mb-8">
          {t('privacy')}
        </h1>
        <div className="prose prose-invert prose-zinc max-w-none">
          {legal?.privacyPolicy && (legal.privacyPolicy as any).root ? (
            <SerializeLexical nodes={(legal.privacyPolicy as any).root.children} />
          ) : (
            <p className="text-zinc-500 italic">
              {locale === 'en' ? 'Privacy Policy content pending translation...' : 'Pol√≠tica de Privacidad pendiente de traducci√≥n...'}
            </p>
          )}
        </div>
      </div>
    </div>
  )
}

// =============== FIN ARCHIVO [29]: src/app/[locale]/privacidad/page.tsx =============== //

// =============== INICIO ARCHIVO [30]: src/app/[locale]/products/[slug]/page.tsx =============== //
// =============== INICIO ARCHIVO: src/app/[locale]/products/[slug]/page.tsx =============== //
import React from 'react'
import { getPayload } from 'payload'
import configPromise from '@payload-config'
import { notFound } from 'next/navigation'
import { Badge } from '@/components/ui/badge'
import { Button } from '@/components/ui/button'
import { ArrowLeft, ArrowRight, ExternalLink, Layers, Rocket, CheckCircle2, Timer, FlaskConical } from 'lucide-react'
import Link from 'next/link'
import Image from 'next/image'
import { Metadata } from 'next'
import type { Product } from '@/payload-types'
import { getTranslations } from 'next-intl/server'

export const revalidate = 600

// Configuraci√≥n visual est√°tica (Iconos y Colores no cambian por idioma)
const STATUS_VISUALS = {
  live: { color: 'bg-green-500/10 text-green-400 border-green-500/20', icon: CheckCircle2 },
  beta: { color: 'bg-cyan-500/10 text-cyan-400 border-cyan-500/20', icon: Rocket },
  development: { color: 'bg-yellow-500/10 text-yellow-400 border-yellow-500/20', icon: Timer },
  concept: { color: 'bg-zinc-500/10 text-zinc-400 border-zinc-500/20', icon: FlaskConical }
}

// --- Helper para renderizar texto enriquecido ---
const SerializeLexical = ({ nodes }: { nodes: any[] }) => {
  if (!nodes || !Array.isArray(nodes)) return null

  return (
    <>
      {nodes.map((node, i) => {
        if (node.type === 'text') {
          let text = <span key={i}>{node.text}</span>
          if (node.format & 1) text = <strong key={i} className="font-bold text-white">{text}</strong>
          if (node.format & 2) text = <em key={i} className="italic">{text}</em>
          if (node.format & 8) text = <u key={i} className="underline">{text}</u>
          return text
        }

        if (!node) return null

        switch (node.type) {
          case 'heading':
            const Tag = node.tag as any
            const sizes: Record<string, string> = { 
              h1: 'text-3xl mt-8 mb-4 text-white', 
              h2: 'text-2xl mt-8 mb-4 text-white', 
              h3: 'text-xl mt-6 mb-3 text-white', 
              h4: 'text-lg mt-4 mb-2 text-white', 
              h5: 'font-bold mt-4 text-white', 
              h6: 'font-bold mt-4 text-white' 
            }
            return (
              <Tag key={i} className={`font-bold tracking-tight ${sizes[node.tag] || ''}`}>
                <SerializeLexical nodes={node.children} />
              </Tag>
            )
          case 'paragraph':
            return <p key={i} className="mb-4 leading-relaxed text-zinc-400"><SerializeLexical nodes={node.children} /></p>
          case 'list':
            const ListTag = node.listType === 'number' ? 'ol' : 'ul'
            return <ListTag key={i} className={`mb-4 pl-6 ${node.listType === 'number' ? 'list-decimal' : 'list-disc'} text-zinc-400`}><SerializeLexical nodes={node.children} /></ListTag>
          case 'listitem':
            return <li key={i} className="mb-1"><SerializeLexical nodes={node.children} /></li>
          case 'link':
            return (
              <a key={i} href={node.fields.url} target={node.fields.newTab ? '_blank' : '_self'} rel="noopener noreferrer" className="text-cyan-400 hover:underline">
                <SerializeLexical nodes={node.children} />
              </a>
            )
          default:
            return <SerializeLexical key={i} nodes={node.children} />
        }
      })}
    </>
  )
}

interface Args {
  params: Promise<{ slug: string; locale: string }>
}

export async function generateMetadata({ params }: Args): Promise<Metadata> {
  const { slug, locale } = await params
  const payload = await getPayload({ config: configPromise })
  const { docs } = await payload.find({
    collection: 'products',
    where: { slug: { equals: slug } },
    locale: locale as any,
  })

  if (!docs[0]) return { title: 'Product Not Found' }
  const product = docs[0]

  const title = product.metaTitle || `${product.name} | OHCodex`
  const description = product.metaDescription || product.shortDescription

  return {
    title,
    description,
    openGraph: {
      title,
      description,
      images: typeof product.heroImage === 'object' && product.heroImage?.url 
        ? [{ url: product.heroImage.url }]
        : undefined,
    }
  }
}

export default async function ProductPage({ params }: Args) {
  const { slug, locale } = await params
  const payload = await getPayload({ config: configPromise })

  // 1. Cargar traducciones
  const t = await getTranslations('products')

  const { docs } = await payload.find({
    collection: 'products',
    where: { slug: { equals: slug } },
    depth: 2,
    locale: locale as any, // üëà Contenido localizado
  })

  const product = docs[0] as Product

  if (!product) return notFound()

  const heroUrl = typeof product.heroImage === 'object' && product.heroImage?.url ? product.heroImage.url : null
  const logoUrl = typeof product.logo === 'object' && product.logo?.url ? product.logo.url : null
  
  // Configuraci√≥n de estado
  const statusKey = product.status as keyof typeof STATUS_VISUALS
  const visuals = STATUS_VISUALS[statusKey] || STATUS_VISUALS.concept
  const StatusIcon = visuals.icon
  
  // Traducci√≥n del estado usando el JSON
  const statusLabel = t(`status.${product.status}`)

  // JSON-LD
  const softwareJsonLd = {
    '@context': 'https://schema.org',
    '@type': 'SoftwareApplication',
    name: product.name,
    description: product.shortDescription,
    applicationCategory: 'BusinessApplication',
    operatingSystem: 'Web, Cloud', 
    offers: {
      '@type': 'Offer',
      price: '0', 
      priceCurrency: 'EUR',
      availability: product.status === 'live' ? 'https://schema.org/InStock' : 'https://schema.org/PreOrder',
    },
    author: { '@type': 'Organization', name: 'OHCodex' },
    ...(heroUrl && { image: heroUrl }),
  }

  return (
    <article className="min-h-screen bg-black pt-24 pb-16">
      <script type="application/ld+json" dangerouslySetInnerHTML={{ __html: JSON.stringify(softwareJsonLd) }} />

      <div className="container px-4 mx-auto">
        <div className="mb-8">
          <Link href={`/${locale}/#productos`} className="inline-flex items-center text-sm text-zinc-500 hover:text-cyan-400 transition-colors">
            <ArrowLeft className="mr-2 h-4 w-4" /> 
            {/* üëá Texto traducido */}
            {t('backToPortfolio')}
          </Link>
        </div>

        <div className="grid grid-cols-1 lg:grid-cols-3 gap-12">
          
          {/* COLUMNA PRINCIPAL */}
          <div className="lg:col-span-2">
            <div className="flex items-center gap-4 mb-6">
              {logoUrl && (
                <div className="relative h-16 w-16 shrink-0 rounded-xl bg-zinc-900/50 border border-white/10 overflow-hidden p-2">
                    <Image src={logoUrl} alt={`Logo ${product.name}`} fill className="object-contain p-1" sizes="64px" />
                </div>
              )}
              <div>
                <h1 className="text-4xl font-extrabold tracking-tight text-white sm:text-5xl mb-2">
                  {product.name}
                </h1>
                <div className="flex flex-wrap gap-2">
                  <Badge className={`${visuals.color} flex items-center gap-1`}>
                    <StatusIcon className="w-3 h-3" />
                    {statusLabel}
                  </Badge>
                </div>
              </div>
            </div>

            {heroUrl ? (
              <div className="relative w-full aspect-video rounded-2xl border border-zinc-800 bg-zinc-900 overflow-hidden shadow-2xl shadow-cyan-900/10 mb-10 group">
                <Image 
                  src={heroUrl} 
                  alt={`Interfaz de ${product.name}`} 
                  fill 
                  className="object-cover transition-transform duration-700 group-hover:scale-105"
                  sizes="(max-width: 768px) 100vw, 800px"
                  priority 
                />
              </div>
            ) : (
              <div className="w-full h-64 rounded-2xl bg-zinc-900/50 border border-zinc-800 flex items-center justify-center mb-10">
                <p className="text-zinc-600">
                  {/* üëá Texto traducido */}
                  {t('noCover')}
                </p>
              </div>
            )}

            <div className="prose prose-invert max-w-none prose-p:text-zinc-400 prose-headings:text-white prose-a:text-cyan-400">
              <h2 className="text-2xl font-bold text-white mb-4">
                {/* üëá Texto traducido */}
                {t('aboutProject')}
              </h2>
              {product.description && 'root' in product.description && (
                <SerializeLexical nodes={(product.description.root as any).children} />
              )}
            </div>

            {/* PRODUCTOS RELACIONADOS */}
            {product.relatedProducts && product.relatedProducts.length > 0 && (
              <div className="mt-20 pt-10 border-t border-white/10">
                <h3 className="text-2xl font-bold text-white mb-6">
                  {/* üëá Texto traducido */}
                  {t('related')}
                </h3>
                <div className="grid grid-cols-1 md:grid-cols-2 gap-6">
                  {product.relatedProducts.map((related) => {
                    if (typeof related !== 'object' || related === null) return null
                    if (!('slug' in related)) return null

                    const relLogo = typeof related.logo === 'object' && related.logo?.url ? related.logo.url : null

                    return (
                      <Link 
                        key={related.id} 
                        href={`/${locale}/products/${related.slug}`}
                        className="group flex items-start gap-4 p-4 rounded-xl border border-zinc-800 bg-zinc-900/30 hover:bg-zinc-900 hover:border-cyan-500/30 transition-all"
                      >
                        <div className="h-12 w-12 shrink-0 rounded-lg bg-zinc-800 border border-zinc-700 flex items-center justify-center overflow-hidden p-2">
                           {relLogo ? (
                             <Image src={relLogo} alt={related.name} width={32} height={32} className="object-contain" />
                           ) : (
                             <Rocket className="h-6 w-6 text-zinc-500" />
                           )}
                        </div>
                        <div>
                          <h4 className="text-white font-semibold group-hover:text-cyan-400 transition-colors">
                            {related.name}
                          </h4>
                          <p className="text-sm text-zinc-500 line-clamp-2 mt-1">
                            {related.shortDescription}
                          </p>
                        </div>
                        <ArrowRight className="ml-auto h-5 w-5 text-zinc-600 group-hover:text-cyan-500 opacity-0 group-hover:opacity-100 transition-all self-center" />
                      </Link>
                    )
                  })}
                </div>
              </div>
            )}

          </div>

          {/* COLUMNA SIDEBAR */}
          <div className="lg:col-span-1 space-y-8">
            <div className="rounded-xl border border-zinc-800 bg-zinc-900/30 p-6 backdrop-blur-sm sticky top-24">
              <h3 className="text-white font-semibold mb-4">
                {/* üëá Texto traducido */}
                {t('technicalSheet')}
              </h3>
              
              {product.projectUrl ? (
                <Button className="w-full bg-cyan-600 hover:bg-cyan-500 text-white mb-6 shadow-lg shadow-cyan-900/20" asChild>
                  <a href={product.projectUrl} target="_blank" rel="noopener noreferrer">
                    {/* üëá Texto traducido */}
                    {t('visitWebsite')} 
                    <ExternalLink className="ml-2 h-4 w-4" />
                  </a>
                </Button>
              ) : (
                <Button disabled className="w-full bg-zinc-800 text-zinc-500 border border-zinc-700 mb-6">
                  {/* üëá Texto traducido */}
                  {t('inDevelopment')}
                </Button>
              )}

              <div className="space-y-4">
                <div>
                  <div className="flex items-center gap-2 text-white font-medium mb-3">
                    <Layers className="h-4 w-4 text-cyan-500" /> 
                    {/* üëá Texto traducido */}
                    {t('techStack')}
                  </div>
                  <div className="flex flex-wrap gap-2">
                    {product.technologies?.map((tech, i) => (
                      <span key={i} className="px-2.5 py-1 rounded text-xs bg-zinc-950 border border-zinc-800 text-zinc-400 font-mono">
                        {tech.name}
                      </span>
                    ))}
                  </div>
                </div>
              </div>
            </div>
          </div>

        </div>
      </div>
    </article>
  )
}
// =============== FIN ARCHIVO: src/app/[locale]/products/[slug]/page.tsx =============== //

// =============== FIN ARCHIVO [30]: src/app/[locale]/products/[slug]/page.tsx =============== //

// =============== INICIO ARCHIVO [31]: src/app/[locale]/terminos/page.tsx =============== //
import React from 'react'
import { Metadata } from 'next'
import { getPayload } from 'payload'
import configPromise from '@payload-config'
import type { LegalText } from '@/payload-types'
import { getTranslations } from 'next-intl/server'

export const revalidate = 86400

type Args = {
  params: Promise<{ locale: string }>
}

export async function generateMetadata({ params }: Args): Promise<Metadata> {
  const { locale } = await params
  const t = await getTranslations({ locale, namespace: 'common.legal' })

  return {
    title: t('terms'),
    description: locale === 'en' 
      ? 'Terms of use for OHCodex services and software.' 
      : 'Condiciones de uso de los servicios y software de OHCodex.',
    // üëá CORRECCI√ìN SEO: Habilitamos la indexaci√≥n en Google
    robots: {
      index: true, 
      follow: true,
    },
  }
}

// --- Helper para renderizar texto enriquecido (Lexical) ---
const SerializeLexical = ({ nodes }: { nodes: any[] }) => {
  if (!nodes || !Array.isArray(nodes)) return null
  return (
    <>
      {nodes.map((node, i) => {
        if (node.type === 'text') {
          let text = <span key={i}>{node.text}</span>
          if (node.format & 1) text = <strong key={i} className="font-bold text-white">{text}</strong>
          if (node.format & 2) text = <em key={i} className="italic">{text}</em>
          if (node.format & 8) text = <u key={i} className="underline">{text}</u>
          return text
        }
        if (!node) return null
        switch (node.type) {
          case 'heading':
            const Tag = node.tag as any
            return (
              <Tag key={i} className="text-xl font-semibold text-white mt-8 mb-4 block">
                <SerializeLexical nodes={node.children} />
              </Tag>
            )
          case 'paragraph':
            return <p key={i} className="mb-4 leading-relaxed text-zinc-400"><SerializeLexical nodes={node.children} /></p>
          case 'list':
            const ListTag = node.listType === 'number' ? 'ol' : 'ul'
            return <ListTag key={i} className={`mb-4 pl-6 ${node.listType === 'number' ? 'list-decimal' : 'list-disc'} text-zinc-400`}><SerializeLexical nodes={node.children} /></ListTag>
          case 'listitem':
            return <li key={i} className="mb-1"><SerializeLexical nodes={node.children} /></li>
          case 'link':
            return <a key={i} href={node.fields.url} className="text-cyan-400 hover:underline"><SerializeLexical nodes={node.children} /></a>
          default:
            return <SerializeLexical key={i} nodes={node.children} />
        }
      })}
    </>
  )
}

export default async function TerminosPage({ params }: Args) {
  const { locale } = await params
  const payload = await getPayload({ config: configPromise })
  
  // 1. Cargar traducciones
  const t = await getTranslations('common.legal')
  
  // 2. Consultar la global pasando el locale
  const legal = (await payload.findGlobal({
    slug: 'legal-texts' as any,
    locale: locale as any, 
  })) as unknown as LegalText

  return (
    <div className="bg-black min-h-screen py-24">
      <div className="container px-4 mx-auto max-w-4xl">
        <h1 className="text-3xl font-bold text-white mb-8">
          {t('terms')}
        </h1>
        <div className="prose prose-invert prose-zinc max-w-none">
          {legal?.termsConditions && (legal.termsConditions as any).root ? (
            <SerializeLexical nodes={(legal.termsConditions as any).root.children} />
          ) : (
            <p className="text-zinc-500 italic">
              {locale === 'en' ? 'Terms and Conditions pending translation...' : 'T√©rminos y Condiciones pendientes de traducci√≥n...'}
            </p>
          )}
        </div>
      </div>
    </div>
  )
}

// =============== FIN ARCHIVO [31]: src/app/[locale]/terminos/page.tsx =============== //

// =============== INICIO ARCHIVO [32]: src/app/[locale]/tools/[slug]/page.tsx =============== //
import React from 'react'
import { getPayload } from 'payload'
import configPromise from '@payload-config'
import { notFound } from 'next/navigation'
import { Metadata } from 'next'
import { getTranslations } from 'next-intl/server'

// Importamos los componentes funcionales de las herramientas
import { VaultTool } from '@/components/tools/vault/VaultTool'
import { ImageOptimizerTool } from '@/components/tools/image-optimizer/ImageOptimizerTool'
import { PDFStudioTool } from '@/components/tools/pdf-studio/PDFStudioTool'
import { DataStationTool } from '@/components/tools/data-station/DataStationTool'
import { QRFactoryTool } from '@/components/tools/qr-factory/QRFactoryTool'
import { OCRTool } from '@/components/tools/ocr/OCRTool'

// Componentes de UI
import { Breadcrumbs } from '@/components/shared/Breadcrumbs'
import { AdSlot } from '@/components/shared/AdSlot'
import { Accordion, AccordionContent, AccordionItem, AccordionTrigger } from '@/components/ui/accordion'
import { Button } from '@/components/ui/button'
import { 
  ArrowRight, 
  Sparkles, 
  Upload, 
  Settings, 
  Zap, 
  Download, 
  Lock, 
  PenLine,
  LucideIcon,
  ScanLine 
} from 'lucide-react'

// Tipos generados
import type { Tool } from '@/payload-types'

// --- MAPA DE HERRAMIENTAS ---
const TOOL_COMPONENTS: Record<string, React.ComponentType<any>> = {
  'vault': VaultTool,
  'image-optimizer': ImageOptimizerTool,
  'pdf-studio': PDFStudioTool,
  'data-station': DataStationTool,
  'qr-factory': QRFactoryTool,
  'ocr-vision': OCRTool,
}

// --- MAPA DE ICONOS PARA LOS PASOS ---
const STEP_ICONS: Record<string, LucideIcon> = {
  upload: Upload,
  settings: Settings,
  zap: Zap,
  download: Download,
  lock: Lock,
  edit: PenLine,
  scan: ScanLine
}

// --- SERIALIZADOR LEXICAL ---
const SerializeLexical = ({ nodes }: { nodes: any[] }) => {
  if (!nodes || !Array.isArray(nodes)) return null
  return (
    <>
      {nodes.map((node, i) => {
        if (node.type === 'text') {
          let text = <span key={i}>{node.text}</span>
          if (node.format & 1) text = <strong key={i} className="font-bold text-white">{text}</strong>
          if (node.format & 2) text = <em key={i} className="italic">{text}</em>
          if (node.format & 8) text = <u key={i} className="underline">{text}</u>
          if (node.format & 16) text = <code key={i} className="bg-zinc-800 text-cyan-400 px-1 rounded font-mono text-sm">{text}</code>
          return text
        }
        if (!node) return null
        switch (node.type) {
          case 'heading':
            const Tag = node.tag as any
            return <Tag key={i} className="text-2xl font-bold text-white mt-8 mb-4">{<SerializeLexical nodes={node.children} />}</Tag>
          case 'paragraph':
            return <p key={i} className="mb-4 leading-relaxed text-zinc-400"><SerializeLexical nodes={node.children} /></p>
          case 'list':
            const ListTag = node.listType === 'number' ? 'ol' : 'ul'
            return <ListTag key={i} className={`mb-4 pl-6 ${node.listType === 'number' ? 'list-decimal' : 'list-disc'} text-zinc-400 marker:text-cyan-500`}><SerializeLexical nodes={node.children} /></ListTag>
          case 'listitem':
            return <li key={i} className="mb-1"><SerializeLexical nodes={node.children} /></li>
          case 'link':
            return <a key={i} href={node.fields.url} target="_blank" className="text-cyan-400 hover:underline"><SerializeLexical nodes={node.children} /></a>
          default:
            return <SerializeLexical key={i} nodes={node.children} />
        }
      })}
    </>
  )
}

type Props = {
  params: Promise<{ slug: string; locale: string }>
}

export async function generateMetadata({ params }: Props): Promise<Metadata> {
  const { slug, locale } = await params
  const payload = await getPayload({ config: configPromise })
  
  const { docs } = await payload.find({
    collection: 'tools',
    where: { slug: { equals: slug } },
    locale: locale as any,
  })

  const tool = docs[0] as Tool
  if (!tool) return { title: 'Tool Not Found' }

  return {
    title: tool.metaTitle || `${tool.title} | OHCodex Tools`,
    description: tool.metaDescription || tool.shortDescription,
    alternates: {
      canonical: `https://ohcodex.com/${locale}/tools/${slug}`,
    }
  }
}

export default async function ToolPage({ params }: Props) {
  const { slug, locale } = await params
  const payload = await getPayload({ config: configPromise })
  const t = await getTranslations('common')
  // TRADUCCI√ìN: A√±adimos un namespace para textos de la UI de herramientas
  const tToolUI = await getTranslations('tools.ui') 

  const { docs } = await payload.find({
    collection: 'tools',
    where: { slug: { equals: slug } },
    locale: locale as any,
  })

  const tool = docs[0] as Tool

  if (!tool) return notFound()

  const ToolComponent = TOOL_COMPONENTS[tool.codeKey] || null

  const jsonLd = {
    '@context': 'https://schema.org',
    '@type': 'SoftwareApplication',
    name: tool.title,
    applicationCategory: 'UtilitiesApplication',
    operatingSystem: 'Web Browser',
    offers: {
      '@type': 'Offer',
      price: '0',
      priceCurrency: 'EUR'
    },
    description: tool.metaDescription || tool.shortDescription,
  }

  const faqJsonLd = tool.faqs && tool.faqs.length > 0 ? {
    '@context': 'https://schema.org',
    '@type': 'FAQPage',
    mainEntity: tool.faqs.map(f => ({
      '@type': 'Question',
      name: f.question,
      acceptedAnswer: {
        '@type': 'Answer',
        text: f.answer
      }
    }))
  } : null

  return (
    <div className="min-h-screen bg-black pt-24 pb-20">
      <script type="application/ld+json" dangerouslySetInnerHTML={{ __html: JSON.stringify(jsonLd) }} />
      {faqJsonLd && <script type="application/ld+json" dangerouslySetInnerHTML={{ __html: JSON.stringify(faqJsonLd) }} />}

      <div className="container px-4 mx-auto max-w-6xl">
        
        <Breadcrumbs
          items={[
            { label: t('tools'), href: '/tools' },
            { label: tool.title }
          ]}
          className="mb-8"
        />

        <div className="text-center mb-12">
          {tool.badge && (
            <span className="inline-block py-1 px-3 rounded-full bg-cyan-950/50 border border-cyan-900 text-cyan-400 text-xs font-medium mb-6">
              {tool.badge}
            </span>
          )}
          <h1 className="text-4xl md:text-6xl font-extrabold text-white mb-6 tracking-tight">
            {tool.title}
          </h1>
          <p className="text-xl text-zinc-400 max-w-2xl mx-auto leading-relaxed">
            {tool.shortDescription}
          </p>
        </div>

        {tool.steps && tool.steps.length > 0 && (
          <div className="grid grid-cols-1 md:grid-cols-3 gap-6 mb-16 relative">
            <div className="hidden md:block absolute top-1/2 left-0 w-full h-[2px] bg-gradient-to-r from-transparent via-zinc-800 to-transparent -z-10" />
            
            {tool.steps.map((step, index) => {
              const Icon = STEP_ICONS[step.stepIcon || 'zap'] || Zap
              return (
                <div key={step.id || index} className="relative flex flex-col items-center text-center group">
                  <div className="w-14 h-14 rounded-2xl bg-zinc-900 border border-zinc-800 flex items-center justify-center mb-4 group-hover:border-cyan-500/50 group-hover:shadow-[0_0_20px_-5px_rgba(6,182,212,0.3)] transition-all duration-300 z-10">
                    <Icon className="w-7 h-7 text-zinc-400 group-hover:text-cyan-400 transition-colors" />
                  </div>
                  <div className="bg-black/50 backdrop-blur-sm px-4 py-2 rounded-xl">
                    <h3 className="text-white font-semibold mb-1">{index + 1}. {step.stepTitle}</h3>
                    <p className="text-sm text-zinc-500">{step.stepDescription}</p>
                  </div>
                </div>
              )
            })}
          </div>
        )}

        <div className="mb-8 flex justify-center">
          <AdSlot position="top" />
        </div>

        <div className="mb-20 scroll-mt-24" id="app">
          {ToolComponent ? (
            <ToolComponent />
          ) : (
            <div className="p-8 text-center bg-red-900/20 border border-red-900 rounded-lg text-red-200">
              Error: Componente &quot;{tool.codeKey}&quot; no encontrado.
            </div>
          )}
        </div>

        {tool.ctaTitle && (
          <div className="relative overflow-hidden rounded-3xl border border-cyan-500/30 bg-gradient-to-br from-cyan-950/20 to-black p-8 md:p-12 text-center mb-20 group">
            <div className="absolute top-0 right-0 -mr-20 -mt-20 h-80 w-80 rounded-full bg-cyan-500/10 blur-[100px] transition-all duration-500 group-hover:bg-cyan-500/20" />
            
            <Sparkles className="h-10 w-10 text-cyan-400 mx-auto mb-6" />
            <h2 className="text-3xl font-bold text-white mb-4">
              {tool.ctaTitle}
            </h2>
            <p className="text-zinc-300 max-w-2xl mx-auto mb-8 text-lg leading-relaxed">
              {tool.ctaDescription}
            </p>
            <Button size="lg" asChild className="h-12 px-8 bg-cyan-600 hover:bg-cyan-500 text-white font-semibold text-base shadow-[0_0_20px_-5px_rgba(6,182,212,0.4)] hover:shadow-[0_0_30px_-5px_rgba(6,182,212,0.6)] transition-all">
              <a href={tool.ctaLink || "/#contacto"}>
                {/* TRADUCCI√ìN: Usamos tToolUI o un fallback si la clave falla */}
                {tToolUI('ctaButton') || "Hablemos de tu Proyecto"} 
                <ArrowRight className="ml-2 h-5 w-5" />
              </a>
            </Button>
          </div>
        )}

        {tool.content && (
          <div className="prose prose-invert prose-lg max-w-4xl mx-auto mb-20">
             {/* @ts-ignore */}
            <SerializeLexical nodes={tool.content.root.children} />
          </div>
        )}

        {tool.faqs && tool.faqs.length > 0 && (
          <div className="max-w-3xl mx-auto mb-16">
            {/* TRADUCCI√ìN: T√≠tulo din√°mico */}
            <h3 className="text-2xl font-bold text-white mb-8 text-center">{tToolUI('faqTitle')}</h3>
            <Accordion type="single" collapsible className="w-full space-y-4">
              {tool.faqs.map((faq, i) => (
                <AccordionItem key={i} value={`item-${i}`} className="border border-zinc-800 bg-zinc-900/20 rounded-xl px-4">
                  <AccordionTrigger className="text-zinc-200 hover:text-cyan-400 text-left hover:no-underline py-4">
                    {faq.question}
                  </AccordionTrigger>
                  <AccordionContent className="text-zinc-400 leading-relaxed pb-4">
                    {faq.answer}
                  </AccordionContent>
                </AccordionItem>
              ))}
            </Accordion>
          </div>
        )}

        <div className="flex justify-center">
          <AdSlot position="bottom" />
        </div>

      </div>
    </div>
  )
}

// =============== FIN ARCHIVO [32]: src/app/[locale]/tools/[slug]/page.tsx =============== //

// =============== INICIO ARCHIVO [33]: src/app/[locale]/tools/page.tsx =============== //
import React from 'react'
import { getPayload } from 'payload'
import configPromise from '@payload-config'
import Link from 'next/link'
import { Card, CardHeader, CardTitle, CardDescription, CardFooter } from '@/components/ui/card'
import { Badge } from '@/components/ui/badge'
import { Lock, Image as ImageIcon, FileText, Database, QrCode, ArrowRight, Shield, Box, LucideIcon } from 'lucide-react'
import { getTranslations } from 'next-intl/server'
import { Metadata } from 'next'
import type { Tool } from '@/payload-types'

export async function generateMetadata({ params }: { params: Promise<{ locale: string }> }): Promise<Metadata> {
  const { locale } = await params
  const t = await getTranslations({ locale, namespace: 'home.ourTools' })

  return {
    title: t('title'),
    description: t('subtitle'),
  }
}

// Mapa para conectar el string del CMS con el Icono React
const ICON_MAP: Record<string, LucideIcon> = {
  'lock': Lock,
  'image': ImageIcon,
  'file-text': FileText,
  'database': Database,
  'qr-code': QrCode,
  'box': Box
}

export default async function ToolsIndexPage({ params }: { params: Promise<{ locale: string }> }) {
  const { locale } = await params
  const payload = await getPayload({ config: configPromise })
  const t = await getTranslations('home.ourTools')

  // 1. Obtener herramientas desde el CMS (Ordenadas alfab√©ticamente)
  const { docs: tools } = await payload.find({
    collection: 'tools',
    sort: 'title',
    limit: 100,
    locale: locale as any,
  }) as unknown as { docs: Tool[] }

  return (
    <div className="min-h-screen bg-black pt-24 pb-20">
      <div className="container px-4 mx-auto max-w-6xl">
        
        {/* CABECERA */}
        <div className="text-center mb-16">
          <Badge className="mb-6 bg-cyan-950 text-cyan-400 border-cyan-900/50">
            <Shield className="w-3 h-3 mr-2" />
            Engineering Suite
          </Badge>
          <h1 className="text-4xl md:text-5xl font-bold tracking-tight mb-4 text-white">
            {t('title')}
          </h1>
          <p className="text-xl text-zinc-400 max-w-2xl mx-auto">
            {t('subtitle')}
          </p>
        </div>

        {/* GRID DE HERRAMIENTAS (DIN√ÅMICO) */}
        {tools.length > 0 ? (
          <div className="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
            {tools.map((tool) => {
              const Icon = ICON_MAP[tool.icon as string] || Box
              
              // URL localizada
              const toolUrl = `/${locale}/tools/${tool.slug}`

              return (
                <Link key={tool.id} href={toolUrl} className="group block h-full">
                  <Card className="h-full border-zinc-800 bg-zinc-900/30 transition-all duration-300 hover:border-cyan-500/50 hover:bg-zinc-900/80 hover:-translate-y-1">
                    <CardHeader>
                      <div className="flex items-start justify-between mb-4">
                        {/* Icono con efecto hover */}
                        <div className="p-3 rounded-lg bg-zinc-800 text-zinc-400 group-hover:text-cyan-400 group-hover:bg-cyan-950/30 transition-colors">
                          <Icon className="w-6 h-6" />
                        </div>
                        {/* Badge din√°mico del CMS */}
                        {tool.badge && (
                          <Badge variant="outline" className="bg-zinc-950/50 border-zinc-700 text-zinc-400 group-hover:border-cyan-900/50 group-hover:text-cyan-500 transition-colors">
                            {tool.badge}
                          </Badge>
                        )}
                      </div>
                      <CardTitle className="text-xl text-white group-hover:text-cyan-400 transition-colors">
                        {tool.title}
                      </CardTitle>
                      <CardDescription className="text-base text-zinc-400 line-clamp-2 mt-2">
                        {tool.shortDescription}
                      </CardDescription>
                    </CardHeader>
                    <CardFooter className="text-sm text-zinc-500 font-medium mt-auto group-hover:text-cyan-500 transition-colors">
                      {t('useTool')} <ArrowRight className="ml-2 w-4 h-4 transition-transform group-hover:translate-x-1" />
                    </CardFooter>
                  </Card>
                </Link>
              )
            })}
          </div>
        ) : (
          <div className="text-center py-20 bg-zinc-900/30 rounded-2xl border border-zinc-800 border-dashed">
            <p className="text-zinc-500">No tools found.</p>
          </div>
        )}
      </div>
    </div>
  )
}

// =============== FIN ARCHIVO [33]: src/app/[locale]/tools/page.tsx =============== //

// =============== INICIO ARCHIVO [34]: src/app/actions/get-translated-slug.ts =============== //
// =============== INICIO ARCHIVO: src/app/actions/get-translated-slug.ts =============== //
'use server'

import { getPayload } from 'payload'
import configPromise from '@payload-config'

export async function getTranslatedSlug(
  collection: 'products' | 'posts' | 'tools',
  currentSlug: string,
  targetLocale: string
): Promise<string | null> {
  const payload = await getPayload({ config: configPromise })

  try {
    // 1. Buscamos el documento original usando el slug actual (en cualquier idioma)
    // Payload no tiene una forma directa de buscar "por cualquier locale", as√≠ que buscamos en 'es' primero
    // o iteramos. Pero la forma m√°s eficiente es buscar por ID si lo tuvi√©ramos.
    // Como solo tenemos slug, haremos una b√∫squeda en la colecci√≥n.
    
    const result = await payload.find({
      collection,
      where: {
        slug: {
          equals: currentSlug
        }
      },
      limit: 1,
      depth: 0,
      locale: 'all' as any // Truco para traer todos los idiomas
    })

    if (!result.docs[0]) return null

    const doc = result.docs[0] as any

    // 2. Extraemos el slug del idioma objetivo
    // Al pedir locale='all', los campos localizados vienen como objetos { es: '...', en: '...' }
    const targetSlug = doc.slug[targetLocale]

    return targetSlug || null

  } catch (error) {
    console.error('Error resolving translated slug:', error)
    return null
  }
}
// =============== FIN ARCHIVO: src/app/actions/get-translated-slug.ts =============== //

// =============== FIN ARCHIVO [34]: src/app/actions/get-translated-slug.ts =============== //

// =============== INICIO ARCHIVO [35]: src/app/api/dump-content/route.ts =============== //
// =============== INICIO ARCHIVO: src/app/api/dump-content/route.ts =============== //
import { getPayload } from 'payload'
import configPromise from '@payload-config'
import { NextResponse } from 'next/server'

export const dynamic = 'force-dynamic' // Para asegurar que no se cachee

export async function GET() {
  try {
    const payload = await getPayload({ config: configPromise })
    
    // Extraemos todo el contenido en ESPA√ëOL ('es') para usarlo como base de traducci√≥n
    const locale = 'es'

    // 1. Colecci√≥n: TOOLS
    const toolsReq = await payload.find({
      collection: 'tools',
      limit: 100,
      locale: locale as any,
      depth: 1, // Depth 1 para traer info b√°sica, si hay relaciones
    })

    // 2. Colecci√≥n: PRODUCTS
    const productsReq = await payload.find({
      collection: 'products',
      limit: 100,
      locale: locale as any,
      depth: 1,
    })

    // 3. Colecci√≥n: POSTS
    const postsReq = await payload.find({
      collection: 'posts',
      limit: 100,
      locale: locale as any,
      depth: 1,
    })

    // 4. Global: LANDING PAGE
    const landing = await payload.findGlobal({
      slug: 'landing-page' as any,
      locale: locale as any,
    })

    // 5. Global: COMPANY INFO
    const company = await payload.findGlobal({
      slug: 'company-info' as any,
      locale: locale as any,
    })

    // 6. Global: LEGAL TEXTS
    const legal = await payload.findGlobal({
      slug: 'legal-texts' as any,
      locale: locale as any,
    })

    return NextResponse.json({
      timestamp: new Date().toISOString(),
      message: "COPY THIS JSON CONTENT TO THE AI",
      data: {
        tools: toolsReq.docs.map(t => ({
          slug: t.slug,
          title: t.title,
          badge: t.badge,
          shortDescription: t.shortDescription,
          steps: t.steps,
          ctaTitle: t.ctaTitle,
          ctaDescription: t.ctaDescription,
          faqs: t.faqs,
          // Omitimos 'content' largo para no saturar el chat, 
          // a menos que sea necesario. Si lo necesitas, quita este comentario.
          // content: t.content 
        })),
        products: productsReq.docs.map(p => ({
          slug: p.slug,
          name: p.name,
          shortDescription: p.shortDescription,
          status: p.status,
          technologies: p.technologies
        })),
        posts: postsReq.docs.map(p => ({
          slug: p.slug,
          title: p.title,
          excerpt: p.excerpt
        })),
        landing: {
          heroTitle: landing.heroTitle,
          heroSubtitle: landing.heroSubtitle,
          heroBadge: landing.heroBadge,
          productsTitle: landing.productsTitle,
          productsDescription: landing.productsDescription,
          featuresTitle: landing.featuresTitle,
          featuresDescription: landing.featuresDescription,
          featuresList: landing.featuresList,
          testimonialsTitle: landing.testimonialsTitle,
          testimonialsSubtitle: landing.testimonialsSubtitle,
          testimonials: landing.testimonials,
          faqTitle: landing.faqTitle,
          faqSubtitle: landing.faqSubtitle,
          faqs: landing.faqs
        },
        company: {
          tagline: company.tagline,
          description: company.description,
          defaultTitle: company.defaultTitle,
          defaultDescription: company.defaultDescription,
          address: company.address,
          schedule: company.schedule
        }
      }
    }, { status: 200 })

  } catch (error: any) {
    console.error('Dump error:', error)
    return NextResponse.json({ error: error.message }, { status: 500 })
  }
}
// =============== FIN ARCHIVO: src/app/api/dump-content/route.ts =============== //

// =============== FIN ARCHIVO [35]: src/app/api/dump-content/route.ts =============== //

// =============== INICIO ARCHIVO [36]: src/app/api/seed-all/route.ts =============== //
// =============== INICIO ARCHIVO: src/app/api/seed-all/route.ts =============== //
import { getPayload } from 'payload'
import configPromise from '@payload-config'
import { NextResponse } from 'next/server'

export const dynamic = 'force-dynamic'

const TRANSLATIONS: any = {
  fr: {
    landing: {
      heroTitle: "Architecture & D√©veloppement Logiciel",
      heroSubtitle: "Ing√©nierie pour le futur des √©cosyst√®mes num√©riques.",
      productsTitle: "Produits et Solutions",
      productsDescription: "Outils pr√™ts √† int√©grer pour op√©rations r√©elles.",
      featuresTitle: "Ce Que Nous Faisons",
      featuresDescription: "Services : PWA, SaaS et int√©grations.",
      testimonialsTitle: "Ce que disent nos clients",
      testimonialsSubtitle: "Avis r√©els de clients satisfaits.",
      faqTitle: "Questions Fr√©quentes",
      faqSubtitle: "R√©ponses aux doutes courants.",
    },
    company: {
      tagline: "D√©veloppement de Logiciels sur Mesure",
      description: "Solutions fiables et √©volutives pour entreprises.",
      defaultTitle: "OHCodex | D√©veloppement Logiciel",
      // FIX: Texto extendido para cumplir minLength: 50
      defaultDescription: "OHCodex d√©veloppe des solutions logicielles sur mesure : PWA performantes, plateformes SaaS √©volutives et API robustes pour les entreprises modernes.",
      address: "J√°vea, Alicante, Espagne",
      schedule: "L-V: 09:00 - 18:00"
    }
  },
  de: {
    landing: {
      heroTitle: "Software-Architektur & Entwicklung",
      heroSubtitle: "Engineering f√ºr die Zukunft digitaler √ñkosysteme.",
      productsTitle: "Produkte und L√∂sungen",
      productsDescription: "Integrationsbereite Tools f√ºr den realen Betrieb.",
      featuresTitle: "Was Wir Tun",
      featuresDescription: "Dienstleistungen: PWAs, SaaS und Integrationen.",
      testimonialsTitle: "Was unsere Kunden sagen",
      testimonialsSubtitle: "Echte Meinungen von zufriedenen Kunden.",
      faqTitle: "H√§ufig gestellte Fragen",
      faqSubtitle: "Antworten auf h√§ufige Fragen.",
    },
    company: {
      tagline: "Ma√ügeschneiderte Softwareentwicklung",
      description: "Zuverl√§ssige und skalierbare L√∂sungen f√ºr Unternehmen.",
      defaultTitle: "OHCodex | Softwareentwicklung",
      // FIX: Texto extendido para cumplir minLength: 50
      defaultDescription: "OHCodex entwickelt ma√ügeschneiderte Softwarel√∂sungen: Hochleistungs-PWAs, skalierbare SaaS-Plattformen und APIs f√ºr moderne Unternehmen.",
      address: "J√°vea, Alicante, Spanien",
      schedule: "Mo-Fr: 09:00 - 18:00"
    }
  },
  it: {
    landing: {
      heroTitle: "Architettura & Sviluppo Software",
      heroSubtitle: "Ingegneria per il futuro degli ecosistemi digitali.",
      productsTitle: "Prodotti e Soluzioni",
      productsDescription: "Strumenti pronti all'uso per operazioni reali.",
      featuresTitle: "Cosa Facciamo",
      featuresDescription: "Servizi: PWA, SaaS e integrazioni.",
      testimonialsTitle: "Cosa dicono i nostri clienti",
      testimonialsSubtitle: "Opinioni reali di clienti soddisfatti.",
      faqTitle: "Domande Frequenti",
      faqSubtitle: "Risposte ai dubbi comuni.",
    },
    company: {
      tagline: "Sviluppo Software su Misura",
      description: "Soluzioni affidabili e scalabili per le aziende.",
      defaultTitle: "OHCodex | Sviluppo Software",
      // FIX: Texto extendido para cumplir minLength: 50
      defaultDescription: "OHCodex sviluppa soluzioni software su misura: PWA ad alte prestazioni, piattaforme SaaS scalabili e API robuste per le aziende moderne.",
      address: "J√°vea, Alicante, Spagna",
      schedule: "L-V: 09:00 - 18:00"
    }
  },
  pt: {
    landing: {
      heroTitle: "Arquitetura e Desenvolvimento de Software",
      heroSubtitle: "Engenharia para o futuro dos ecossistemas digitais.",
      productsTitle: "Produtos e Solu√ß√µes",
      productsDescription: "Ferramentas prontas para integrar em opera√ß√µes reais.",
      featuresTitle: "O Que Fazemos",
      featuresDescription: "Servi√ßos: PWAs, SaaS e integra√ß√µes.",
      testimonialsTitle: "O que dizem nossos clientes",
      testimonialsSubtitle: "Opini√µes reais de clientes satisfeitos.",
      faqTitle: "Perguntas Frequentes",
      faqSubtitle: "Respostas para d√∫vidas comuns.",
    },
    company: {
      tagline: "Desenvolvimento de Software Sob Medida",
      description: "Solu√ß√µes confi√°veis e escal√°veis para empresas.",
      defaultTitle: "OHCodex | Desenvolvimento de Software",
      // FIX: Texto extendido para cumplir minLength: 50
      defaultDescription: "A OHCodex desenvolve solu√ß√µes de software sob medida: PWAs de alto desempenho, plataformas SaaS escal√°veis e APIs robustas para empresas modernas.",
      address: "J√°vea, Alicante, Espanha",
      schedule: "Seg-Sex: 09:00 - 18:00"
    }
  }
}

export async function GET() {
  const payload = await getPayload({ config: configPromise })
  const locales = ['fr', 'de', 'it', 'pt']
  const results = []

  try {
    console.log('üöÄ Iniciando Seed V3 (Length fix)...')

    const companyEs = await payload.findGlobal({ slug: 'company-info' as any, locale: 'es' })
    const landingEs = await payload.findGlobal({ slug: 'landing-page' as any, locale: 'es' })
    const categoriesEs = await payload.find({ collection: 'categories', limit: 100, locale: 'es' })
    const postsEs = await payload.find({ collection: 'posts', limit: 100, locale: 'es' })
    const productsEs = await payload.find({ collection: 'products', limit: 100, locale: 'es' })
    const toolsEs = await payload.find({ collection: 'tools', limit: 100, locale: 'es' })

    for (const locale of locales) {
      console.log(`üåç Procesando idioma: ${locale}...`)
      const t = TRANSLATIONS[locale]
      const prefix = `[${locale.toUpperCase()}] ` 

      // 1. COMPANY INFO
      try {
        const logoId = typeof companyEs.logo === 'object' ? companyEs.logo?.id : companyEs.logo
        const logoDarkId = typeof companyEs.logoDark === 'object' ? companyEs.logoDark?.id : companyEs.logoDark

        await payload.updateGlobal({
          slug: 'company-info' as any,
          locale: locale as any,
          data: {
            logo: logoId,
            logoDark: logoDarkId,
            tagline: t.company.tagline,
            description: t.company.description,
            defaultTitle: t.company.defaultTitle,
            titleTemplate: companyEs.titleTemplate || '%s | OHCodex',
            defaultDescription: t.company.defaultDescription,
            keywords: companyEs.keywords || [],
            contactEmail: companyEs.contactEmail || 'info@ohcodex.com',
            phoneNumber: companyEs.phoneNumber,
            address: t.company.address,
            schedule: t.company.schedule,
            linkedin: companyEs.linkedin,
            github: companyEs.github,
            twitter: companyEs.twitter,
          }
        })
        results.push({ locale, step: 'company', status: 'ok' })
      } catch (e: any) {
        console.error(`‚ùå Error en Company (${locale}):`, e.message)
        results.push({ locale, step: 'company', status: 'error', details: e.message })
      }

      // 2. LANDING PAGE
      try {
        await payload.updateGlobal({
          slug: 'landing-page' as any,
          locale: locale as any,
          data: {
            heroTitle: t.landing.heroTitle,
            heroSubtitle: t.landing.heroSubtitle,
            heroBadge: landingEs.heroBadge,
            productsTitle: t.landing.productsTitle,
            productsDescription: t.landing.productsDescription,
            featuresTitle: t.landing.featuresTitle,
            featuresDescription: t.landing.featuresDescription,
            testimonialsTitle: t.landing.testimonialsTitle,
            testimonialsSubtitle: t.landing.testimonialsSubtitle,
            faqTitle: t.landing.faqTitle,
            faqSubtitle: t.landing.faqSubtitle,
            featuresList: landingEs.featuresList?.map((f: any) => ({ 
              icon: f.icon,
              title: `${prefix}${f.title}`, 
              description: `${prefix}${f.description}` 
            })) || [],
            testimonials: landingEs.testimonials?.map((t: any) => ({ 
              authorName: t.authorName,
              authorRole: t.authorRole,
              companyName: t.companyName,
              quote: `${prefix}${t.quote}`,
              authorImage: typeof t.authorImage === 'object' ? t.authorImage?.id : t.authorImage
            })) || [],
            faqs: landingEs.faqs?.map((f: any) => ({ 
              question: `${prefix}${f.question}`, 
              answer: `${prefix}${f.answer}` 
            })) || []
          }
        })
        results.push({ locale, step: 'landing', status: 'ok' })
      } catch (e: any) {
        console.error(`‚ùå Error en Landing (${locale}):`, e.message)
        results.push({ locale, step: 'landing', status: 'error', details: e.message })
      }

      // 3. COLECCIONES (Sin cambios)
      for (const cat of categoriesEs.docs) {
        try {
          await payload.update({
            collection: 'categories',
            id: cat.id,
            locale: locale as any,
            data: { name: `${prefix}${cat.name}` }
          })
        } catch (e) {}
      }

      for (const post of postsEs.docs) {
        try {
          await payload.update({
            collection: 'posts',
            id: post.id,
            locale: locale as any,
            data: {
              title: `${prefix}${post.title}`,
              slug: `${post.slug}-${locale}`,
              excerpt: `${prefix}${post.excerpt}`,
              content: post.content,
              metaTitle: `${prefix}${post.metaTitle || post.title}`,
              metaDescription: `${prefix}${post.metaDescription || post.excerpt}`
            }
          })
        } catch (e) {}
      }

      for (const prod of productsEs.docs) {
        try {
          await payload.update({
            collection: 'products',
            id: prod.id,
            locale: locale as any,
            data: {
              name: prod.name,
              slug: `${prod.slug}-${locale}`,
              shortDescription: `${prefix}${prod.shortDescription}`,
              description: prod.description,
              metaTitle: `${prefix}${prod.name}`,
              metaDescription: `${prefix}${prod.shortDescription}`
            }
          })
        } catch (e) {}
      }

      for (const tool of toolsEs.docs) {
        try {
          await payload.update({
            collection: 'tools',
            id: tool.id,
            locale: locale as any,
            data: {
              title: tool.title,
              slug: `${tool.slug}`,
              badge: `${prefix}${tool.badge}`,
              shortDescription: `${prefix}${tool.shortDescription}`,
              steps: tool.steps?.map((s: any) => ({ ...s, stepTitle: `${prefix}${s.stepTitle}`, stepDescription: `${prefix}${s.stepDescription || ''}` })),
              ctaTitle: `${prefix}${tool.ctaTitle}`,
              ctaDescription: `${prefix}${tool.ctaDescription}`,
              content: tool.content,
              faqs: tool.faqs?.map((f: any) => ({ ...f, question: `${prefix}${f.question}`, answer: `${prefix}${f.answer}` })),
              metaTitle: `${prefix}${tool.metaTitle || tool.title}`,
              metaDescription: `${prefix}${tool.metaDescription || tool.shortDescription}`
            }
          })
        } catch (e) {}
      }

      results.push({ locale, step: 'collections', status: 'ok' })
    }

    return NextResponse.json({ success: true, message: "Seed process finished successfully", results })

  } catch (error: any) {
    console.error('Fatal Seed error:', error)
    return NextResponse.json({ success: false, error: error.message }, { status: 500 })
  }
}
// =============== FIN ARCHIVO: src/app/api/seed-all/route.ts =============== //

// =============== FIN ARCHIVO [36]: src/app/api/seed-all/route.ts =============== //

// =============== INICIO ARCHIVO [37]: src/app/api/seed-tools/route.ts =============== //
import { getPayload } from 'payload'
import configPromise from '@payload-config'
import { NextResponse } from 'next/server'

// Importamos los datos maestros de cada herramienta
import { vaultData } from '@/scripts/data/vault-data'
import { imageOptimizerData } from '@/scripts/data/image-optimizer-data'
import { pdfStudioData } from '@/scripts/data/pdf-studio-data'
import { dataStationData } from '@/scripts/data/data-station-data'
import { qrFactoryData } from '@/scripts/data/qr-factory-data'
import { ocrVisionData } from '@/scripts/data/ocr-vision-data'

// Lista completa de herramientas a procesar
const ALL_TOOLS = [
  vaultData,
  imageOptimizerData,
  pdfStudioData,
  dataStationData,
  qrFactoryData,
  ocrVisionData
]

export async function GET() {
  try {
    const payload = await getPayload({ config: configPromise })
    console.log('üå± SEED V4: Iniciando actualizaci√≥n masiva de herramientas...')
    
    const results = []

    for (const tool of ALL_TOOLS) {
      console.log(`Processing: ${tool.title.es}...`)

      // 1. Buscar si la herramienta ya existe
      const existing = await payload.find({
        collection: 'tools',
        where: { slug: { equals: tool.slug } },
      })

      if (existing.docs.length > 0) {
        const id = existing.docs[0].id
        
        // --- ACTUALIZACI√ìN (ESPA√ëOL) ---
        await payload.update({
          collection: 'tools',
          id,
          data: {
            codeKey: tool.codeKey as any, // üëà FIX: Forzamos el tipo
            icon: tool.icon as any,       // üëà FIX: Forzamos el tipo
            title: tool.title.es,
            badge: tool.badge.es,
            shortDescription: tool.shortDescription.es,
            steps: tool.steps.es,
            ctaTitle: tool.cta.es.title,
            ctaDescription: tool.cta.es.desc,
            content: tool.content.es,
            faqs: tool.faqs.es
          },
          locale: 'es'
        })

        // --- ACTUALIZACI√ìN (INGL√âS) ---
        await payload.update({
          collection: 'tools',
          id,
          data: {
            title: tool.title.en,
            badge: tool.badge.en,
            shortDescription: tool.shortDescription.en,
            steps: tool.steps.en,
            ctaTitle: tool.cta.en.title,
            ctaDescription: tool.cta.en.desc,
            content: tool.content.en,
            faqs: tool.faqs.en
          },
          locale: 'en'
        })
        
        results.push({ slug: tool.slug, status: 'updated' })

      } else {
        // --- CREACI√ìN (Si es nueva, como OCR Vision) ---
        // Primero creamos en Espa√±ol (idioma base)
        const newDoc = await payload.create({
          collection: 'tools',
          data: {
            slug: tool.slug,
            codeKey: tool.codeKey as any, // üëà FIX
            icon: tool.icon as any,       // üëà FIX
            title: tool.title.es,
            badge: tool.badge.es,
            shortDescription: tool.shortDescription.es,
            steps: tool.steps.es,
            ctaTitle: tool.cta.es.title,
            ctaDescription: tool.cta.es.desc,
            content: tool.content.es,
            faqs: tool.faqs.es
          },
          locale: 'es'
        })

        // Luego actualizamos con los datos en Ingl√©s
        await payload.update({
          collection: 'tools',
          id: newDoc.id,
          data: {
            title: tool.title.en,
            badge: tool.badge.en,
            shortDescription: tool.shortDescription.en,
            steps: tool.steps.en,
            ctaTitle: tool.cta.en.title,
            ctaDescription: tool.cta.en.desc,
            content: tool.content.en,
            faqs: tool.faqs.en
          },
          locale: 'en'
        })

        results.push({ slug: tool.slug, status: 'created' })
      }
    }

    return NextResponse.json({ 
      success: true, 
      message: 'Base de datos actualizada correctamente con textos SEO y Gu√≠as de 3 pasos.',
      results 
    })

  } catch (error: any) {
    console.error('Seed error:', error)
    return NextResponse.json({ success: false, error: error.message }, { status: 500 })
  }
}

// =============== FIN ARCHIVO [37]: src/app/api/seed-tools/route.ts =============== //

// =============== INICIO ARCHIVO [38]: src/app/api/tracking/route.ts =============== //
import { getPayload } from 'payload'
import configPromise from '@payload-config'
import { NextResponse } from 'next/server'
import crypto from 'crypto'

// ‚ö†Ô∏è No importamos geoip-lite aqu√≠ arriba para evitar el error de build

export async function POST(req: Request) {
  try {
    const body = await req.json()
    const { page, referrer, device, browser } = body

    // 1. Obtener la IP real
    const forwardedFor = req.headers.get('x-forwarded-for')
    let ip = forwardedFor ? forwardedFor.split(',')[0].trim() : '127.0.0.1'

    // 2. Geolocalizaci√≥n (Lazy Loading / Importaci√≥n Din√°mica)
    let country = 'Unknown'
    let city = 'Unknown'

    try {
      // üëá Importamos la librer√≠a SOLO cuando se ejecuta esta funci√≥n
      // Esto evita que rompa el build si faltan archivos .dat en tiempo de construcci√≥n
      const geoipModule = await import('geoip-lite')
      // Soporte para CommonJS/ESM interop
      const geoip = geoipModule.default || geoipModule
      
      const geo = geoip.lookup(ip)
      
      if (geo) {
        country = geo.country || 'Unknown'
        city = geo.city || 'Unknown'
      }
    } catch (e) {
      console.warn('GeoIP lookup failed:', e)
      // Si falla, seguimos con "Unknown" pero no rompemos la petici√≥n
    }

    // 3. Anonimizar IP
    const ipHash = crypto.createHash('sha256').update(ip).digest('hex')

    // 4. Inicializar Payload
    const payload = await getPayload({ config: configPromise })

    // 5. Guardar
    await payload.create({
      collection: 'analytics', 
      data: {
        timestamp: new Date().toISOString(),
        page: page || '/',
        country,
        city,
        device: device || 'Desktop',
        browser: browser || 'Chrome',
        source: referrer || 'Direct',
        ipHash,
        companyName: null,
      },
    })

    return NextResponse.json({ success: true })
  } catch (error) {
    console.error('Error tracking visit:', error)
    return NextResponse.json({ error: 'Internal Server Error' }, { status: 500 })
  }
}

// =============== FIN ARCHIVO [38]: src/app/api/tracking/route.ts =============== //

// =============== INICIO ARCHIVO [39]: src/app/globals.css =============== //
@tailwind base;
@tailwind components;
@tailwind utilities;

@import 'tw-animate-css';

@layer base {
  :root {
    /* --- CONFIGURACI√ìN BASE (Modo Oscuro por defecto - Zinc) --- */
    --background: 0 0% 9%;
    --foreground: 0 0% 98%;

    --card: 0 0% 3.9%;
    --card-foreground: 0 0% 98%;

    --popover: 0 0% 3.9%;
    --popover-foreground: 0 0% 98%;

    /* Cyan Corporativo */
    --primary: 188 94% 42%;
    --primary-foreground: 0 0% 98%;

    --secondary: 0 0% 14.9%;
    --secondary-foreground: 0 0% 98%;

    --muted: 0 0% 14.9%;
    --muted-foreground: 0 0% 63.9%;

    --accent: 0 0% 14.9%;
    --accent-foreground: 0 0% 98%;

    --destructive: 0 62.8% 30.6%;
    --destructive-foreground: 0 0% 98%;

    --border: 0 0% 14.9%;
    --input: 0 0% 14.9%;
    --ring: 188 94% 42%;

    --radius: 0.5rem;

    /* --- VARIABLES PARA GR√ÅFICOS (Charts) --- */
    --chart-1: 188 94% 42%;
    --chart-2: 173 58% 39%;
    --chart-3: 197 37% 24%;
    --chart-4: 43 74% 66%;
    --chart-5: 27 87% 67%;

    /* --- VARIABLES PARA SIDEBAR (Admin/Tools) --- */
    --sidebar-background: 240 5.9% 10%;
    --sidebar-foreground: 240 4.8% 95.9%;
    --sidebar-primary: 224.3 76.3% 48%;
    --sidebar-primary-foreground: 0 0% 100%;
    --sidebar-accent: 240 3.7% 15.9%;
    --sidebar-accent-foreground: 240 4.8% 95.9%;
    --sidebar-border: 240 3.7% 15.9%;
    --sidebar-ring: 217.2 91.2% 59.8%;
  }

  /* 
     Aunque :root ya tiene los valores oscuros, mantenemos la clase .dark 
     completa por si alguna librer√≠a (como next-themes) la fuerza.
  */
  .dark {
    --background: 0 0% 9%;
    --foreground: 0 0% 98%;
    --card: 0 0% 3.9%;
    --card-foreground: 0 0% 98%;
    --popover: 0 0% 3.9%;
    --popover-foreground: 0 0% 98%;
    --primary: 188 94% 42%;
    --primary-foreground: 0 0% 98%;
    --secondary: 0 0% 14.9%;
    --secondary-foreground: 0 0% 98%;
    --muted: 0 0% 14.9%;
    --muted-foreground: 0 0% 63.9%;
    --accent: 0 0% 14.9%;
    --accent-foreground: 0 0% 98%;
    --destructive: 0 62.8% 30.6%;
    --destructive-foreground: 0 0% 98%;
    --border: 0 0% 14.9%;
    --input: 0 0% 14.9%;
    --ring: 188 94% 42%;

    --chart-1: 188 94% 42%;
    --chart-2: 173 58% 39%;
    --chart-3: 197 37% 24%;
    --chart-4: 43 74% 66%;
    --chart-5: 27 87% 67%;

    --sidebar-background: 240 5.9% 10%;
    --sidebar-foreground: 240 4.8% 95.9%;
    --sidebar-primary: 224.3 76.3% 48%;
    --sidebar-primary-foreground: 0 0% 100%;
    --sidebar-accent: 240 3.7% 15.9%;
    --sidebar-accent-foreground: 240 4.8% 95.9%;
    --sidebar-border: 240 3.7% 15.9%;
    --sidebar-ring: 217.2 91.2% 59.8%;
  }
}

@layer base {
  * {
    @apply border-border;
  }
  body {
    @apply bg-background text-foreground;
  }
}

/* Scrollbar Personalizada */
::-webkit-scrollbar {
  width: 10px;
  height: 10px;
}

::-webkit-scrollbar-track {
  background: hsl(var(--background));
}

::-webkit-scrollbar-thumb {
  background: hsl(var(--muted-foreground) / 0.3);
  border-radius: 5px;
}

::-webkit-scrollbar-thumb:hover {
  background: hsl(var(--muted-foreground) / 0.5);
}

// =============== FIN ARCHIVO [39]: src/app/globals.css =============== //

// =============== INICIO ARCHIVO [40]: src/app/layout.tsx =============== //
import { Inter } from "next/font/google";
import "./globals.css";
import { GoogleAnalytics } from '@next/third-parties/google';

const inter = Inter({
  subsets: ["latin"],
  variable: "--font-sans",
});

export const metadata = {
  title: "OHCodex",
  description: "Software Architecture & Development",
};

export default function RootLayout({
  children,
}: {
  children: React.ReactNode;
}) {
  // Obtenemos el ID desde las variables de entorno
  // Si no existe (ej: en desarrollo local sin .env), usamos string vac√≠o para no romper
  const gaId = process.env.NEXT_PUBLIC_GOOGLE_ANALYTICS_ID || '';

  return (
    // Definimos el idioma base como 'es' por defecto para la ra√≠z t√©cnica
    <html lang="es" suppressHydrationWarning>
      <body className={`${inter.variable} font-sans antialiased bg-black text-white`}>
        {/* 
          IMPORTANTE:
          Aqu√≠ NO cargamos Header, Footer ni Toaster.
          Este layout solo sirve de contenedor base.
          Toda la interfaz de usuario se carga en src/app/[locale]/layout.tsx
        */}
        {children}
      </body>

      {/* Google Analytics 4: Solo se carga si existe el ID */}
      {gaId && <GoogleAnalytics gaId={gaId} />}
    </html>
  );
}

// =============== FIN ARCHIVO [40]: src/app/layout.tsx =============== //

// =============== INICIO ARCHIVO [41]: src/app/robots.ts =============== //
// ========== src/app/robots.ts ========== //

// -----------------------------------------------------------------------------
// Archivo: src/app/robots.ts
// Versi√≥n: 1.0.0
// Descripci√≥n: Generador din√°mico del archivo robots.txt.
// Indica a Google qu√© partes de la web debe indexar y cu√°les ignorar.
// -----------------------------------------------------------------------------

import { MetadataRoute } from 'next'

export default function robots(): MetadataRoute.Robots {
  // URL base din√°mica (debe coincidir con la de sitemap.ts)
  const baseUrl = process.env.NEXT_PUBLIC_SERVER_URL || 'https://ohcodex.com'

  return {
    rules: {
      userAgent: '*', // Reglas para todos los bots (Google, Bing, etc.)
      allow: '/',     // Permitir indexar la web p√∫blica
      disallow: [
        '/admin/',    // ‚õî PROHIBIDO: Panel de administraci√≥n
        '/api/',      // ‚õî PROHIBIDO: Endpoints de la API (para no gastar recursos de crawling)
      ],
    },
    // Enlace al sitemap para facilitar el descubrimiento
    sitemap: `${baseUrl}/sitemap.xml`,
  }
}

// ========== Fin de src/app/robots.ts ========== //

// =============== FIN ARCHIVO [41]: src/app/robots.ts =============== //

// =============== INICIO ARCHIVO [42]: src/app/sitemap.ts =============== //
// =============== INICIO ARCHIVO: src/app/sitemap.ts =============== //
import { MetadataRoute } from 'next'
import { getPayload } from 'payload'
import configPromise from '@payload-config'
import { Tool, Product, Post } from '@/payload-types'
import { routing } from '@/i18n/routing'

export default async function sitemap(): Promise<MetadataRoute.Sitemap> {
  const payload = await getPayload({ config: configPromise })
  const baseUrl = process.env.NEXT_PUBLIC_SERVER_URL || 'https://ohcodex.com'
  
  // Usamos la lista centralizada (es, en, fr, de, it, pt)
  const locales = routing.locales 

  let sitemapEntries: MetadataRoute.Sitemap = []

  // Iteramos por cada idioma
  for (const locale of locales) {
    
    // 1. Consultar PRODUCTOS
    const { docs: products } = await payload.find({
      collection: 'products',
      depth: 0,
      limit: 1000,
      // Usamos 'as any' temporalmente porque los tipos internos de Payload 
      // a√∫n no se han regenerado para reconocer los nuevos idiomas.
      locale: locale as any, 
    }) as unknown as { docs: Product[] }

    // 2. Consultar POSTS
    const { docs: posts } = await payload.find({
      collection: 'posts',
      depth: 0,
      limit: 1000,
      locale: locale as any,
    }) as unknown as { docs: Post[] }

    // 3. Consultar HERRAMIENTAS
    const { docs: tools } = await payload.find({
      collection: 'tools',
      depth: 0,
      limit: 1000,
      locale: locale as any,
    }) as unknown as { docs: Tool[] }

    // --- HELPER PARA ALTERNATES (HREFLANG) ---
    // Genera autom√°ticamente los enlaces a todos los idiomas disponibles
    const generateAlternates = (path: string) => {
      const languages: Record<string, string> = {}
      locales.forEach((lang) => {
        languages[lang] = `${baseUrl}/${lang}${path}`
      })
      return { languages }
    }

    // --- GENERACI√ìN DE RUTAS ---

    // A. Rutas Est√°ticas
    const staticRoutes = [
      '',              // Home
      '/blog',         // Blog Index
      '/tools',        // Tools Hub
      '/aviso-legal',
      '/privacidad',
      '/terminos',
    ].map(route => ({
      url: `${baseUrl}/${locale}${route}`,
      lastModified: new Date(),
      changeFrequency: 'monthly' as const,
      priority: route === '' ? 1 : 0.8,
      alternates: generateAlternates(route),
    }))

    // B. Rutas de Herramientas
    const toolsRoutes = tools.map((tool) => ({
      url: `${baseUrl}/${locale}/tools/${tool.slug}`,
      lastModified: new Date(tool.updatedAt),
      changeFrequency: 'weekly' as const,
      priority: 0.9,
      alternates: generateAlternates(`/tools/${tool.slug}`),
    }))

    // C. Rutas de Productos
    const productUrls = products.map((product) => ({
      url: `${baseUrl}/${locale}/products/${product.slug}`,
      lastModified: new Date(product.updatedAt),
      changeFrequency: 'weekly' as const,
      priority: 0.7,
      alternates: generateAlternates(`/products/${product.slug}`),
    }))

    // D. Rutas de Posts
    const postUrls = posts.map((post) => ({
      url: `${baseUrl}/${locale}/blog/${post.slug}`,
      lastModified: new Date(post.updatedAt),
      changeFrequency: 'monthly' as const,
      priority: 0.6,
      alternates: generateAlternates(`/blog/${post.slug}`),
    }))

    sitemapEntries.push(
      ...staticRoutes, 
      ...toolsRoutes, 
      ...productUrls, 
      ...postUrls
    )
  }

  return sitemapEntries
}
// =============== FIN ARCHIVO: src/app/sitemap.ts =============== //

// =============== FIN ARCHIVO [42]: src/app/sitemap.ts =============== //

// =============== INICIO ARCHIVO [43]: src/collections/Analytics.ts =============== //
import type { CollectionConfig } from 'payload'

export const Analytics: CollectionConfig = {
  slug: 'analytics',
  labels: {
    singular: 'Visita',
    plural: 'Anal√≠tica Web',
  },
  admin: {
    // La ocultamos del men√∫ lateral porque crearemos un Dashboard visual personalizado despu√©s
    hidden: true, 
    useAsTitle: 'timestamp',
    defaultColumns: ['timestamp', 'page', 'country', 'companyName'],
  },
  access: {
    // Permitimos crear (para que la API pueda guardar datos)
    create: () => true,
    // Solo los administradores pueden leer o borrar estos datos
    read: ({ req: { user } }) => Boolean(user),
    update: () => false, // Los logs de visitas no se deben editar
    delete: ({ req: { user } }) => Boolean(user),
  },
  fields: [
    {
      name: 'timestamp',
      type: 'date',
      required: true,
      index: true, // Indexado para filtrar por fechas r√°pidamente en los gr√°ficos
      admin: {
        date: {
          pickerAppearance: 'dayAndTime',
        },
      },
    },
    {
      name: 'page',
      type: 'text',
      label: 'P√°gina Visitada',
      index: true,
    },
    {
      name: 'country',
      type: 'text',
      label: 'Pa√≠s (C√≥digo)',
      index: true,
    },
    {
      name: 'city',
      type: 'text',
      label: 'Ciudad',
    },
    {
      name: 'device',
      type: 'text',
      label: 'Dispositivo', // Desktop, Mobile, Tablet
    },
    {
      name: 'browser',
      type: 'text',
      label: 'Navegador',
    },
    {
      name: 'source',
      type: 'text',
      label: 'Fuente / Referer', // De d√≥nde vienen (Google, LinkedIn, Directo)
    },
    // --- INTELIGENCIA B2B ---
    {
      name: 'companyName',
      type: 'text',
      label: 'Empresa / ISP Detectado',
      index: true,
    },
    {
      name: 'ipHash',
      type: 'text',
      label: 'Hash IP', // IP anonimizada para contar usuarios √∫nicos sin violar privacidad
    },
  ],
}

// =============== FIN ARCHIVO [43]: src/collections/Analytics.ts =============== //

// =============== INICIO ARCHIVO [44]: src/collections/Categories.ts =============== //
import type { CollectionConfig } from 'payload'

export const Categories: CollectionConfig = {
  slug: 'categories',
  labels: {
    singular: 'Categor√≠a',
    plural: 'Categor√≠as',
  },
  admin: {
    useAsTitle: 'name',
  },
  access: {
    read: () => true, // Lectura p√∫blica para la web
  },
  fields: [
    {
      name: 'name',
      type: 'text',
      required: true,
      localized: true, // üëà ¬°ESTA ES LA CLAVE! A√±adido para habilitar traducci√≥n
      label: 'Nombre',
    },
    {
      name: 'slug',
      type: 'text',
      label: 'Slug URL (Opcional)',
      // El slug suele ser mejor no traducirlo si queremos mantener IDs consistentes, 
      // pero si quieres URLs traducidas tipo /es/noticias y /en/news, a√±√°delo aqu√≠ tambi√©n.
      // Por simplicidad, lo dejar√© com√∫n, pero el nombre s√≠ cambia.
      admin: {
        description: 'Identificador para la URL (ej: tecnologia).',
      },
    },
  ],
}

// =============== FIN ARCHIVO [44]: src/collections/Categories.ts =============== //

// =============== INICIO ARCHIVO [45]: src/collections/ContactSubmissions.ts =============== //
import type { CollectionConfig } from 'payload'
import nodemailer from 'nodemailer'
// ‚ö†Ô∏è COMENTADO TEMPORALMENTE PARA ARREGLAR EL BUILD
// import ReadStatusHandler from '../components/admin/ReadStatusHandler'

export const ContactSubmissions: CollectionConfig = {
  slug: 'contact-submissions',
  labels: {
    singular: 'Mensaje de Contacto',
    plural: 'Bandeja de Entrada',
  },
  admin: {
    defaultColumns: ['name', 'email', 'serviceType', 'createdAt', 'isRead'],
  },
  access: {
    create: () => true,
    read: () => true, 
  },
  hooks: {
    afterChange: [
      async ({ doc, operation, req }) => {
        if (operation === 'create') {
          try {
            const emailSettings = await req.payload.findGlobal({
              slug: 'email-settings' as any,
            }) as any

            if (!emailSettings?.smtpHost || !emailSettings?.smtpUser || !emailSettings?.toEmail) {
              console.warn('‚ö†Ô∏è No se ha configurado el SMTP en el panel. No se envi√≥ el correo.')
              return
            }

            const transporter = nodemailer.createTransport({
              host: emailSettings.smtpHost,
              port: emailSettings.smtpPort,
              secure: emailSettings.smtpPort === 465,
              auth: {
                user: emailSettings.smtpUser,
                pass: emailSettings.smtpPass,
              },
            })

            const mailOptions = {
              from: `"${emailSettings.fromName}" <${emailSettings.fromEmail}>`,
              to: emailSettings.toEmail,
              replyTo: doc.email,
              subject: `üîî Nuevo Lead OHCodex: ${doc.name}`,
              html: `
                <div style="font-family: sans-serif; max-width: 600px; margin: 0 auto;">
                  <h2 style="color: #06b6d4;">Nuevo mensaje recibido</h2>
                  <p>Has recibido una nueva solicitud de contacto desde la web.</p>
                  
                  <div style="background: #f4f4f5; padding: 20px; border-radius: 8px; margin: 20px 0;">
                    <p><strong>Nombre:</strong> ${doc.name}</p>
                    <p><strong>Email:</strong> ${doc.email}</p>
                    <p><strong>Inter√©s:</strong> ${doc.serviceType}</p>
                    <p><strong>Mensaje:</strong></p>
                    <p style="white-space: pre-wrap;">${doc.message}</p>
                  </div>

                  <p style="font-size: 12px; color: #71717a;">
                    Este mensaje se ha guardado en la base de datos de Payload CMS.
                  </p>
                </div>
              `,
            }

            await transporter.sendMail(mailOptions)
            console.log(`‚úÖ Notificaci√≥n enviada a ${emailSettings.toEmail}`)

          } catch (error) {
            console.error('‚ùå Error enviando notificaci√≥n de correo:', error)
          }
        }
      },
    ],
  },
  fields: [
    // ‚ö†Ô∏è COMENTADO: Este campo UI es el que rompe el generador en la versi√≥n Beta actual
    /*
    {
      name: 'autoReadLogic',
      type: 'ui',
      admin: {
        position: 'sidebar',
        components: {
          Field: ReadStatusHandler as any,
        },
      },
    },
    */

    {
      name: 'isRead',
      type: 'checkbox',
      label: 'Le√≠do',
      defaultValue: false,
      admin: {
        position: 'sidebar',
        description: 'Desm√°rcalo si quieres revisarlo m√°s tarde (aparecer√° de nuevo en la campana).',
      },
    },
    {
      name: 'name',
      type: 'text',
      label: 'Nombre',
      required: true,
    },
    {
      name: 'email',
      type: 'email',
      label: 'Correo Electr√≥nico',
      required: true,
    },
    {
      name: 'serviceType',
      type: 'select',
      label: 'Interesado en',
      defaultValue: 'other',
      options: [
        { label: 'Desarrollo PWA / App', value: 'pwa' },
        { label: 'Plataforma SaaS', value: 'saas' },
        { label: 'Integraciones / API', value: 'api' },
        { label: 'Otro', value: 'other' },
      ],
    },
    {
      name: 'message',
      type: 'textarea',
      label: 'Mensaje',
      required: true,
    },
    {
      name: 'privacyAccepted',
      type: 'checkbox',
      label: 'Acept√≥ Pol√≠tica de Privacidad',
      required: true,
      defaultValue: false,
      admin: {
        readOnly: true, // No editable por el admin para preservar registro legal
      },
    },
  ],
}

// =============== FIN ARCHIVO [45]: src/collections/ContactSubmissions.ts =============== //

// =============== INICIO ARCHIVO [46]: src/collections/Media.ts =============== //
// ========== src/collections/Media.ts ========== //

import type { CollectionConfig } from 'payload'
import { uploadToCloudinary, deleteFromCloudinary, useCloudinaryUrl } from '../lib/cloudinaryAdapter'

export const Media: CollectionConfig = {
  slug: 'media',
  labels: {
    singular: 'Archivo Multimedia',
    plural: 'Archivos Multimedia',
  },
  access: {
    read: () => true,
  },
  hooks: {
    beforeChange: [uploadToCloudinary],
    afterRead: [useCloudinaryUrl],
    afterDelete: [deleteFromCloudinary],
  },
  fields: [
    {
      name: 'alt',
      type: 'text',
      required: true,
      label: 'Texto Alternativo (Alt)',
    },
    {
      name: 'publicId',
      type: 'text',
      admin: {
        hidden: true,
      },
    },
    // CAMBIO: Usamos 'externalUrl'
    {
      name: 'externalUrl',
      type: 'text',
      admin: {
        hidden: true,
      },
    },
  ],
  upload: {
    staticDir: 'media',
    adminThumbnail: 'thumbnail',
    mimeTypes: ['image/*', 'application/pdf'],
    disableLocalStorage: true,
  },
}

// ========== Fin de src/collections/Media.ts ========== //

// =============== FIN ARCHIVO [46]: src/collections/Media.ts =============== //

// =============== INICIO ARCHIVO [47]: src/collections/Posts.ts =============== //
import type { CollectionConfig } from 'payload'
import { revalidatePath } from 'next/cache'

export const Posts: CollectionConfig = {
  slug: 'posts',
  labels: {
    singular: 'Art√≠culo',
    plural: 'Art√≠culos del Blog',
  },
  admin: {
    useAsTitle: 'title',
    defaultColumns: ['title', 'publishedDate', 'category', 'status'],
  },
  access: {
    read: () => true, // Lectura p√∫blica
  },
  // --- MAGIA: Revalidaci√≥n bajo demanda ---
  hooks: {
    afterChange: [
      async ({ doc }) => {
        // 1. Regenerar el √≠ndice del blog
        revalidatePath('/blog')
        
        // 2. Regenerar el art√≠culo espec√≠fico
        if (doc.slug) {
          revalidatePath(`/blog/${doc.slug}`)
        }

        // 3. Regenerar la home (por si mostramos "√öltimos posts" all√≠)
        revalidatePath('/')

        console.log(`üîÑ Blog actualizado: ${doc.title}`)
      },
    ],
  },
  // ----------------------------------------
  fields: [
    {
      type: 'tabs',
      tabs: [
        // --- PESTA√ëA 1: CONTENIDO ---
        {
          label: 'Contenido',
          fields: [
            {
              name: 'title',
              type: 'text',
              required: true,
              localized: true, // ‚úÖ AHORA TRADUCIBLE
              label: 'T√≠tulo del Art√≠culo',
            },
            {
              name: 'slug',
              type: 'text',
              required: true,
              unique: true,
              localized: true, // ‚úÖ URL DIFERENTE POR IDIOMA
              admin: {
                position: 'sidebar',
                description: 'URL amigable (ej: arquitectura-saas / saas-architecture)',
              },
            },
            {
              name: 'publishedDate',
              type: 'date',
              required: true,
              label: 'Fecha de Publicaci√≥n',
              defaultValue: () => new Date(),
              admin: {
                position: 'sidebar',
              },
            },
            {
              name: 'author',
              type: 'relationship',
              relationTo: 'users' as any,
              required: true,
              label: 'Autor',
              admin: {
                position: 'sidebar',
              },
            },
            {
              name: 'category',
              type: 'relationship',
              relationTo: 'categories' as any,
              required: true,
              label: 'Categor√≠a',
              admin: {
                position: 'sidebar',
              },
            },
            {
              name: 'coverImage',
              type: 'upload',
              relationTo: 'media',
              required: true,
              label: 'Imagen Principal (Cover)',
            },
            {
              name: 'excerpt',
              type: 'textarea',
              required: true,
              localized: true, // ‚úÖ AHORA TRADUCIBLE
              label: 'Extracto / Resumen',
              maxLength: 300,
              admin: {
                description: 'Texto breve que aparecer√° en la tarjeta del blog.',
              },
            },
            {
              name: 'content',
              type: 'richText',
              required: true,
              localized: true, // ‚úÖ AHORA TRADUCIBLE
              label: 'Cuerpo del Art√≠culo',
            },
          ],
        },

        // --- PESTA√ëA 2: SEO ---
        {
          label: 'SEO',
          fields: [
            {
              name: 'metaTitle',
              type: 'text',
              localized: true, // ‚úÖ AHORA TRADUCIBLE
              label: 'Meta T√≠tulo (Opcional)',
              admin: {
                description: 'Si se deja vac√≠o, se usar√° el t√≠tulo del art√≠culo.',
              },
            },
            {
              name: 'metaDescription',
              type: 'textarea',
              localized: true, // ‚úÖ AHORA TRADUCIBLE
              label: 'Meta Descripci√≥n (Opcional)',
              minLength: 50,
              maxLength: 160,
              admin: {
                description: 'Si se deja vac√≠o, se usar√° el extracto.',
              },
            },
          ],
        },
      ],
    },
  ],
}

// =============== FIN ARCHIVO [47]: src/collections/Posts.ts =============== //

// =============== INICIO ARCHIVO [48]: src/collections/Products.ts =============== //
import type { CollectionConfig } from 'payload'
import { revalidatePath } from 'next/cache'

export const Products: CollectionConfig = {
  slug: 'products',
  labels: {
    singular: 'Producto',
    plural: 'Productos',
  },
  defaultSort: 'order',
  
  admin: {
    useAsTitle: 'name',
    defaultColumns: ['name', 'order', 'status', 'isFeatured'],
  },
  access: {
    read: () => true, // Acceso p√∫blico para la web
  },
  // --- REVALIDACI√ìN BAJO DEMANDA ---
  hooks: {
    afterChange: [
      async ({ doc }) => {
        // 1. Regenerar la Home (donde sale la lista de productos)
        revalidatePath('/')
        
        // 2. Regenerar la p√°gina de detalle del producto
        if (doc.slug) {
          revalidatePath(`/products/${doc.slug}`)
        }

        console.log(`üîÑ Producto actualizado: ${doc.name}`)
      },
    ],
  },
  // ---------------------------------
  fields: [
    {
      type: 'tabs',
      tabs: [
        // --- PESTA√ëA 1: INFORMACI√ìN PRINCIPAL ---
        {
          label: 'Informaci√≥n General',
          fields: [
            {
              name: 'name',
              type: 'text',
              required: true,
              localized: true, // ‚úÖ AHORA TRADUCIBLE
              label: 'Nombre del Producto',
            },
            {
              name: 'slug',
              type: 'text',
              required: true,
              unique: true,
              localized: true, // ‚úÖ AHORA TRADUCIBLE
              admin: {
                description: 'Identificador URL (ej: pool-control)',
              },
            },
            {
              name: 'order',
              type: 'number',
              label: 'Orden de Aparici√≥n',
              required: true,
              defaultValue: 10,
              admin: {
                position: 'sidebar',
                description: '1 aparece primero, 2 segundo, etc.',
              },
            },
            {
              type: 'row',
              fields: [
                {
                  name: 'status',
                  type: 'select',
                  required: true,
                  defaultValue: 'development',
                  options: [
                    { label: 'Concepto', value: 'concept' },
                    { label: 'En Desarrollo', value: 'development' },
                    { label: 'Beta P√∫blica', value: 'beta' },
                    { label: 'En Producci√≥n (Live)', value: 'live' },
                  ],
                  admin: {
                    width: '50%',
                  },
                },
                {
                  name: 'isFeatured',
                  type: 'checkbox',
                  label: '¬øProducto Destacado?',
                  defaultValue: false,
                  admin: {
                    width: '50%',
                    description: 'Si se marca, saldr√° m√°s grande en la home (dependiendo del dise√±o).',
                  },
                },
              ],
            },
            {
              name: 'shortDescription',
              type: 'textarea',
              required: true,
              localized: true, // ‚úÖ AHORA TRADUCIBLE
              label: 'Descripci√≥n Corta (Tarjeta)',
              maxLength: 250,
            },
            {
              name: 'description',
              type: 'richText', 
              localized: true, // ‚úÖ AHORA TRADUCIBLE
              label: 'Caso de √âxito / Detalle',
            },
            {
              type: 'row',
              fields: [
                {
                  name: 'logo',
                  type: 'upload',
                  relationTo: 'media',
                  label: 'Logo o Icono',
                  admin: { width: '50%' },
                },
                {
                  name: 'heroImage',
                  type: 'upload',
                  relationTo: 'media',
                  label: 'Imagen de Fondo (Card)',
                  admin: { width: '50%' },
                },
              ],
            },
            {
              name: 'projectUrl',
              type: 'text',
              label: 'Enlace externo (si existe)',
            },
            {
              name: 'technologies',
              type: 'array',
              label: 'Tecnolog√≠as Usadas',
              fields: [
                {
                  name: 'name',
                  type: 'text',
                  label: 'Tecnolog√≠a (ej: React, IoT)',
                },
              ],
            },
          ],
        },
        
        // --- PESTA√ëA 2: SEO ESPEC√çFICO ---
        {
          label: 'SEO',
          fields: [
            {
              name: 'metaTitle',
              type: 'text',
              localized: true, // ‚úÖ AHORA TRADUCIBLE
              label: 'Meta T√≠tulo (Opcional)',
              admin: {
                description: 'Si se deja vac√≠o, se usar√° el nombre del producto.',
              },
            },
            {
              name: 'metaDescription',
              type: 'textarea',
              localized: true, // ‚úÖ AHORA TRADUCIBLE
              label: 'Meta Descripci√≥n (Opcional)',
              admin: {
                description: 'Si se deja vac√≠o, se usar√° la descripci√≥n corta.',
              },
              minLength: 50,
              maxLength: 160,
            },
          ],
        },

        // --- PESTA√ëA 3: RELACIONADOS ---
        {
          label: 'Relacionados',
          fields: [
            {
              name: 'relatedProducts',
              type: 'relationship',
              relationTo: 'products',
              hasMany: true,
              label: 'Productos Relacionados',
              admin: {
                description: 'Selecciona otros productos para mostrar al final de la p√°gina y mejorar el enlazado interno.',
              },
            },
          ],
        },
      ],
    },
  ],
}

// =============== FIN ARCHIVO [48]: src/collections/Products.ts =============== //

// =============== INICIO ARCHIVO [49]: src/collections/Tools.ts =============== //
import type { CollectionConfig } from 'payload'
import { revalidatePath } from 'next/cache'

export const Tools: CollectionConfig = {
  slug: 'tools',
  labels: {
    singular: 'Herramienta',
    plural: 'Suite de Herramientas',
  },
  admin: {
    useAsTitle: 'title',
    defaultColumns: ['title', 'codeKey', 'status'],
    description: 'Gestiona las Landing Pages de las herramientas (SEO, Textos y Marketing).',
  },
  access: {
    read: () => true, // Lectura p√∫blica para la web
  },
  // --- REVALIDACI√ìN AUTOM√ÅTICA ---
  hooks: {
    afterChange: [
      async ({ doc, req }) => {
        try {
          if (req.locale) {
             revalidatePath(`/${req.locale}/tools`)
          }
          revalidatePath('/tools')
          
          if (doc.slug && req.locale) {
            revalidatePath(`/${req.locale}/tools/${doc.slug}`)
          }

          console.log(`üîÑ Herramienta regenerada: ${doc.title}`)
        } catch (error) {
          console.log(`‚ö†Ô∏è Skip revalidate: Contexto externo detectado para ${doc.title}`)
        }
      },
    ],
  },
  // -------------------------------
  fields: [
    {
      type: 'tabs',
      tabs: [
        // --- PESTA√ëA 1: CONFIGURACI√ìN ---
        {
          label: 'Configuraci√≥n General',
          fields: [
            {
              name: 'title',
              type: 'text',
              required: true,
              localized: true,
              label: 'Nombre P√∫blico (H1)',
            },
            {
              type: 'row',
              fields: [
                {
                  name: 'slug',
                  type: 'text',
                  required: true,
                  unique: true,
                  label: 'Slug URL', 
                  admin: {
                    description: 'Identificador en la URL (ej: vault, pdf-studio).',
                  },
                },
                {
                  name: 'codeKey',
                  type: 'select',
                  required: true,
                  label: 'Motor T√©cnico (Componente React)',
                  admin: {
                    description: 'Selecciona qu√© herramienta funcional cargar aqu√≠.',
                  },
                  options: [
                    { label: 'Vault (Encriptaci√≥n)', value: 'vault' },
                    { label: 'Image Optimizer', value: 'image-optimizer' },
                    { label: 'PDF Studio', value: 'pdf-studio' },
                    { label: 'Data Station (JSON/SQL)', value: 'data-station' },
                    { label: 'QR Factory', value: 'qr-factory' },
                    { label: 'OCR Vision (IA)', value: 'ocr-vision' }, // <--- NUEVA OPCI√ìN A√ëADIDA
                  ],
                },
              ],
            },
            {
              type: 'row',
              fields: [
                {
                  name: 'badge',
                  type: 'text',
                  localized: true,
                  label: 'Etiqueta (Badge)',
                  admin: {
                    description: 'Ej: Nuevo, Beta, Popular, Privado.',
                    width: '50%',
                  },
                },
                {
                  name: 'icon',
                  type: 'select',
                  label: 'Icono Visual',
                  defaultValue: 'box',
                  options: [
                    { label: 'Candado (Vault)', value: 'lock' },
                    { label: 'Imagen/Foto', value: 'image' },
                    { label: 'Documento PDF', value: 'file-text' },
                    { label: 'Base de Datos', value: 'database' },
                    { label: 'C√≥digo QR', value: 'qr-code' },
                    { label: 'Esc√°ner OCR', value: 'scan' }, // <--- NUEVA OPCI√ìN A√ëADIDA
                    { label: 'Caja Gen√©rica', value: 'box' },
                  ],
                  admin: { width: '50%' },
                },
              ],
            },
            {
              name: 'shortDescription',
              type: 'textarea',
              localized: true,
              label: 'Descripci√≥n Corta (Card)',
              required: true,
              maxLength: 180,
              admin: {
                description: 'Aparece en la tarjeta del Hub de herramientas.',
              },
            },
          ],
        },

        // --- PESTA√ëA 2: GU√çA DE USO (3 PASOS) ---
        // Nuevo campo para mejorar UX
        {
          label: 'Gu√≠a de Uso (Pasos)',
          fields: [
            {
              name: 'steps',
              type: 'array',
              label: 'Pasos (Exactamente 3)',
              minRows: 3,
              maxRows: 3,
              required: true,
              localized: true,
              labels: {
                singular: 'Paso',
                plural: 'Pasos',
              },
              fields: [
                {
                  name: 'stepTitle',
                  type: 'text',
                  label: 'T√≠tulo del Paso',
                  required: true,
                },
                {
                  name: 'stepDescription',
                  type: 'textarea',
                  label: 'Breve explicaci√≥n',
                },
                {
                  name: 'stepIcon',
                  type: 'select',
                  label: 'Icono del Paso',
                  defaultValue: 'upload',
                  options: [
                    { label: 'Subir / Cargar', value: 'upload' },
                    { label: 'Ajustes / Config', value: 'settings' },
                    { label: 'Procesar / Rayo', value: 'zap' },
                    { label: 'Descargar', value: 'download' },
                    { label: 'Candado / Seguridad', value: 'lock' },
                    { label: 'Escribir / Editar', value: 'edit' },
                  ],
                },
              ],
            },
          ],
        },

        // --- PESTA√ëA 3: CONTENIDO SEO (Below the fold) ---
        {
          label: 'Contenido SEO',
          fields: [
            {
              name: 'content',
              type: 'richText',
              localized: true,
              label: 'Explicaci√≥n Larga (Debajo de la herramienta)',
              admin: {
                description: 'Usa esto para explicar c√≥mo funciona, ventajas, tutorial, etc.',
              },
            },
            {
              name: 'faqs',
              type: 'array',
              label: 'Preguntas Frecuentes (Schema FAQ)',
              localized: true,
              fields: [
                {
                  name: 'question',
                  type: 'text',
                  label: 'Pregunta',
                },
                {
                  name: 'answer',
                  type: 'textarea',
                  label: 'Respuesta',
                },
              ],
            },
          ],
        },

        // --- PESTA√ëA 4: MARKETING (Cross-Selling) ---
        {
          label: 'Marketing & Venta',
          fields: [
            {
              name: 'ctaTitle',
              type: 'text',
              localized: true,
              label: 'T√≠tulo del Banner de Venta',
              defaultValue: '¬øNecesitas una soluci√≥n a medida?',
            },
            {
              name: 'ctaDescription',
              type: 'textarea',
              localized: true,
              label: 'Texto del Banner',
              defaultValue: 'Nuestro equipo de ingenier√≠a puede integrar esta tecnolog√≠a en tu empresa.',
            },
            {
              name: 'ctaLink',
              type: 'text',
              label: 'Enlace del Bot√≥n (Opcional)',
              admin: {
                description: 'Por defecto lleva al formulario de contacto (#contact).',
              },
            },
          ],
        },

        // --- PESTA√ëA 5: META TAGS ---
        {
          label: 'Metadatos',
          fields: [
            {
              name: 'metaTitle',
              type: 'text',
              localized: true,
              label: 'Meta Title',
            },
            {
              name: 'metaDescription',
              type: 'textarea',
              localized: true,
              label: 'Meta Description',
              minLength: 50,
              maxLength: 160,
            },
          ],
        },
      ],
    },
  ],
}

// =============== FIN ARCHIVO [49]: src/collections/Tools.ts =============== //

// =============== INICIO ARCHIVO [50]: src/collections/Users.ts =============== //
import type { CollectionConfig } from 'payload'

export const Users: CollectionConfig = {
  slug: 'users',
  admin: {
    useAsTitle: 'email',
  },
  auth: true,
  fields: [
    // Email added by default
    // Add more fields as needed
  ],
}

// =============== FIN ARCHIVO [50]: src/collections/Users.ts =============== //

// =============== INICIO ARCHIVO [51]: src/components/AnalyticsTracker.tsx =============== //
'use client'

import { useEffect, useRef } from 'react'
import { usePathname, useSearchParams } from 'next/navigation'

export const AnalyticsTracker = () => {
  const pathname = usePathname()
  const searchParams = useSearchParams()
  // Usamos un ref para evitar doble conteo en modo desarrollo estricto
  const initialized = useRef(false)

  useEffect(() => {
    // Funci√≥n para registrar la visita
    const trackPage = async () => {
      try {
        // Datos del navegador
        const userAgent = window.navigator.userAgent
        const referrer = document.referrer
        const isMobile = /mobile/i.test(userAgent)
        
        // Enviamos a tu API
        await fetch('/api/tracking', {
          method: 'POST',
          headers: { 'Content-Type': 'application/json' },
          body: JSON.stringify({
            page: pathname,
            referrer: referrer || 'Direct',
            device: isMobile ? 'Mobile' : 'Desktop',
            browser: userAgent,
            // La IP la resolver√° el servidor, no hace falta enviarla desde aqu√≠
          })
        })
        console.log('üì° Analytics: Visita registrada', pathname)
      } catch (err) {
        console.error('Error tracking:', err)
      }
    }

    // Peque√±o timeout para no bloquear el renderizado inicial y asegurar que la navegaci√≥n ha terminado
    const timeoutId = setTimeout(() => {
      trackPage()
    }, 1000)

    return () => clearTimeout(timeoutId)
    
  }, [pathname, searchParams]) // Se ejecuta cada vez que cambia la URL

  return null // Este componente no renderiza nada visual
}

// =============== FIN ARCHIVO [51]: src/components/AnalyticsTracker.tsx =============== //

// =============== INICIO ARCHIVO [52]: src/components/admin/Analytics/AnalyticsView.tsx =============== //
'use client'

import React, { useEffect, useState } from 'react'
import { Activity, Users, Clock, MousePointer2, RefreshCw, Laptop, Smartphone, Tablet } from 'lucide-react'
import { Area, AreaChart, CartesianGrid, ResponsiveContainer, Tooltip as RechartsTooltip, XAxis, PieChart, Pie, Cell, Legend } from 'recharts'
import { StatsCard } from './StatsCard'

// Definimos tipos
interface VisitData {
  id: string
  timestamp: string
  page: string
  country: string
  city: string
  device: string
  companyName?: string | null
  source: string
}

interface DeviceData {
  name: string
  value: number
  color: string
  [key: string]: any 
}

// Colores para el gr√°fico de Donut
const COLORS = ['#06b6d4', '#3b82f6', '#6366f1', '#8b5cf6']

const AnalyticsView = () => {
  const [loading, setLoading] = useState(true)
  const [visits, setVisits] = useState<VisitData[]>([])
  const [stats, setStats] = useState({
    totalVisits: 0,
    activeUsers: 0,
    avgTime: '0m',
    conversionRate: 0
  })
  const [chartData, setChartData] = useState<any[]>([])
  const [deviceData, setDeviceData] = useState<DeviceData[]>([])

  const fetchData = async () => {
    try {
      const res = await fetch('/api/analytics?limit=500&sort=-timestamp')
      const data = await res.json()
      
      // 1. Filtrado de datos "basura"
      const rawDocs = data.docs || []
      const cleanDocs = rawDocs.filter((doc: any) => {
        const p = doc.page || ''
        return !p.startsWith('/_next') && 
               !p.startsWith('/api') && 
               !p.startsWith('/favicon') && 
               !p.includes('.json') &&
               !p.includes('.png') &&
               !p.includes('.ico')
      })

      // 2. KPIs
      const now = new Date()
      const fiveMinAgo = new Date(now.getTime() - 5 * 60 * 1000)
      const active = cleanDocs.filter((v: any) => new Date(v.timestamp) > fiveMinAgo).length

      setStats({
        totalVisits: cleanDocs.length,
        activeUsers: active,
        avgTime: '1m 32s', 
        conversionRate: 2.4
      })

      // 3. Tabla Reciente (Mapeo)
      // Tomamos los √∫ltimos 15 para tener m√°s contexto
      setVisits(cleanDocs.slice(0, 15).map((doc: any) => ({
        id: doc.id,
        timestamp: doc.timestamp,
        page: doc.page,
        country: doc.country === 'Unknown' ? 'Local / Privado' : doc.country,
        city: doc.city,
        device: doc.device,
        companyName: doc.companyName,
        source: doc.source
      })))

      // 4. Gr√°fico de √Årea (Tr√°fico)
      const visitsByDate: Record<string, number> = {}
      cleanDocs.forEach((doc: any) => {
        const date = new Date(doc.timestamp).toLocaleDateString('es-ES', { day: '2-digit', month: '2-digit' })
        visitsByDate[date] = (visitsByDate[date] || 0) + 1
      })
      
      const chartArray = Object.keys(visitsByDate).map(date => ({
        date,
        visits: visitsByDate[date]
      })).reverse() 

      setChartData(chartArray)

      // 5. Gr√°fico de Donut (Dispositivos)
      const devicesCount: Record<string, number> = {}
      cleanDocs.forEach((doc: any) => {
        const d = doc.device || 'Desktop'
        devicesCount[d] = (devicesCount[d] || 0) + 1
      })

      const deviceChartArray = Object.keys(devicesCount).map((key, index) => ({
        name: key,
        value: devicesCount[key],
        color: COLORS[index % COLORS.length]
      }))
      
      setDeviceData(deviceChartArray)
      setLoading(false)

    } catch (error) {
      console.error('Error fetching analytics:', error)
      setLoading(false)
    }
  }

  useEffect(() => {
    fetchData()
    const interval = setInterval(fetchData, 15000)
    return () => clearInterval(interval)
  }, [])

  return (
    <div className="bg-black text-white p-4 md:p-6 space-y-6 font-sans min-h-full">
      
      {/* HEADER COMPACTO */}
      <div className="flex items-center justify-between">
        <div>
          <h2 className="text-xl font-bold text-white">Resumen de Actividad</h2>
          <p className="text-sm text-zinc-500">M√©tricas en tiempo real</p>
        </div>
        <button 
          onClick={() => { setLoading(true); fetchData(); }}
          className="p-2 rounded-lg bg-zinc-900 border border-zinc-800 text-zinc-400 hover:text-cyan-400 hover:border-cyan-500/50 transition-all"
          title="Actualizar datos"
        >
          <RefreshCw className={`h-4 w-4 ${loading ? 'animate-spin' : ''}`} />
        </button>
      </div>

      {/* KPI GRID */}
      <div className="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4">
        <StatsCard 
          title="Usuarios Activos" 
          value={stats.activeUsers} 
          icon={Activity} 
          loading={loading}
          trend={stats.activeUsers > 0 ? { value: stats.activeUsers, label: 'online' } : undefined}
        />
        <StatsCard 
          title="Visitas Totales" 
          value={stats.totalVisits} 
          icon={Users} 
          loading={loading}
        />
        <StatsCard 
          title="Tiempo Medio" 
          value={stats.avgTime} 
          icon={Clock} 
          loading={loading}
        />
        <StatsCard 
          title="Tasa Conversi√≥n" 
          value={`${stats.conversionRate}%`} 
          icon={MousePointer2} 
          loading={loading}
        />
      </div>

      {/* CHART SECTION */}
      <div className="rounded-xl border border-zinc-800 bg-zinc-900/50 p-6 backdrop-blur-sm">
        <h3 className="text-sm font-semibold text-zinc-300 mb-4">Tr√°fico (√öltimos d√≠as)</h3>
        <div className="h-[250px] w-full">
          {loading ? (
             <div className="h-full w-full animate-pulse bg-zinc-800/30 rounded" />
          ) : chartData.length > 0 ? (
            <ResponsiveContainer width="100%" height="100%">
              <AreaChart data={chartData}>
                <defs>
                  <linearGradient id="colorVisits" x1="0" y1="0" x2="0" y2="1">
                    <stop offset="5%" stopColor="#06b6d4" stopOpacity={0.3} />
                    <stop offset="95%" stopColor="#06b6d4" stopOpacity={0} />
                  </linearGradient>
                </defs>
                <CartesianGrid strokeDasharray="3 3" stroke="#27272a" vertical={false} />
                <XAxis dataKey="date" stroke="#52525b" fontSize={12} tickLine={false} axisLine={false} />
                <RechartsTooltip 
                  contentStyle={{ backgroundColor: '#09090b', borderColor: '#27272a', borderRadius: '8px', color: '#fff' }}
                  itemStyle={{ color: '#fff' }}
                />
                <Area type="monotone" dataKey="visits" stroke="#06b6d4" strokeWidth={2} fillOpacity={1} fill="url(#colorVisits)" />
              </AreaChart>
            </ResponsiveContainer>
          ) : (
            <div className="h-full flex items-center justify-center text-zinc-600 text-sm">
              No hay suficientes datos para mostrar la gr√°fica a√∫n.
            </div>
          )}
        </div>
      </div>

      {/* BOTTOM GRID */}
      <div className="grid grid-cols-1 lg:grid-cols-3 gap-6">
        
        {/* RECENT ACTIVITY TABLE */}
        <div className="lg:col-span-2 rounded-xl border border-zinc-800 bg-zinc-900/50 overflow-hidden backdrop-blur-sm">
          <div className="p-4 border-b border-zinc-800">
            <h3 className="font-semibold text-white text-sm">√öltimas Visitas</h3>
          </div>
          <div className="overflow-x-auto">
            <table className="w-full text-left text-xs sm:text-sm">
              <thead className="bg-zinc-900 text-zinc-500">
                <tr>
                  {/* CAMBIO: Columna ahora se llama Fecha */}
                  <th className="px-4 py-3 font-medium">Fecha</th>
                  <th className="px-4 py-3 font-medium">Ubicaci√≥n</th>
                  <th className="px-4 py-3 font-medium">P√°gina</th>
                  <th className="px-4 py-3 font-medium text-right">Disp.</th>
                </tr>
              </thead>
              <tbody className="divide-y divide-zinc-800">
                {visits.map((visit) => (
                  <tr key={visit.id} className="hover:bg-zinc-800/30">
                    {/* CAMBIO: Mostramos Hora y Fecha en dos l√≠neas */}
                    <td className="px-4 py-3 whitespace-nowrap">
                      <div className="flex flex-col">
                        <span className="text-zinc-300 font-medium">
                          {new Date(visit.timestamp).toLocaleTimeString([], { hour: '2-digit', minute: '2-digit' })}
                        </span>
                        <span className="text-xs text-zinc-600">
                          {new Date(visit.timestamp).toLocaleDateString('es-ES', { day: '2-digit', month: '2-digit', year: 'numeric' })}
                        </span>
                      </div>
                    </td>
                    <td className="px-4 py-3 text-white truncate max-w-[150px]" title={visit.country}>
                      {visit.country}
                    </td>
                    <td className="px-4 py-3">
                      <span className="text-cyan-400 bg-cyan-950/30 px-2 py-0.5 rounded border border-cyan-900/50 truncate max-w-[200px] block">
                        {visit.page}
                      </span>
                    </td>
                    <td className="px-4 py-3 text-right">
                      {visit.device === 'Mobile' ? <Smartphone className="ml-auto h-4 w-4 text-zinc-500" /> : 
                       visit.device === 'Tablet' ? <Tablet className="ml-auto h-4 w-4 text-zinc-500" /> :
                       <Laptop className="ml-auto h-4 w-4 text-zinc-500" />}
                    </td>
                  </tr>
                ))}
                {visits.length === 0 && !loading && (
                  <tr>
                    <td colSpan={4} className="px-4 py-8 text-center text-zinc-600">
                      Sin actividad reciente limpia.
                    </td>
                  </tr>
                )}
              </tbody>
            </table>
          </div>
        </div>

        {/* TECH DONUT CHART */}
        <div className="rounded-xl border border-zinc-800 bg-zinc-900/50 p-6 backdrop-blur-sm flex flex-col">
          <h3 className="font-semibold text-white text-sm mb-4">Dispositivos</h3>
          <div className="flex-1 min-h-[200px] relative">
            {deviceData.length > 0 ? (
              <ResponsiveContainer width="100%" height="100%">
                <PieChart>
                  <Pie
                    data={deviceData}
                    cx="50%"
                    cy="50%"
                    innerRadius={60}
                    outerRadius={80}
                    paddingAngle={5}
                    dataKey="value"
                    stroke="none"
                  >
                    {deviceData.map((entry, index) => (
                      <Cell key={`cell-${index}`} fill={entry.color} />
                    ))}
                  </Pie>
                  <RechartsTooltip 
                    contentStyle={{ backgroundColor: '#09090b', borderColor: '#27272a', borderRadius: '8px', color: '#fff' }}
                    itemStyle={{ color: '#fff' }}
                  />
                  <Legend verticalAlign="bottom" height={36} iconType="circle" />
                </PieChart>
              </ResponsiveContainer>
            ) : (
              <div className="h-full flex items-center justify-center text-zinc-600 text-sm">
                Sin datos de dispositivos
              </div>
            )}
            
            {/* Dato central del donut */}
            {deviceData.length > 0 && (
               <div className="absolute inset-0 flex items-center justify-center pointer-events-none">
                 <div className="text-center">
                   <span className="block text-2xl font-bold text-white">{stats.totalVisits}</span>
                   <span className="text-xs text-zinc-500">Visitas</span>
                 </div>
               </div>
            )}
          </div>
        </div>

      </div>
    </div>
  )
}

export default AnalyticsView

// =============== FIN ARCHIVO [52]: src/components/admin/Analytics/AnalyticsView.tsx =============== //

// =============== INICIO ARCHIVO [53]: src/components/admin/Analytics/LiveFeed.tsx =============== //
'use client'

import React from 'react'
import { Building2, Globe, Laptop, Smartphone, MapPin, ExternalLink } from 'lucide-react'

// Definimos el tipo de dato que esperamos
export interface VisitData {
  id: string
  timestamp: string
  page: string
  country: string
  city: string
  device: string
  companyName?: string | null
  source: string
}

interface LiveFeedProps {
  visits: VisitData[]
  loading?: boolean
}

export const LiveFeed = ({ visits, loading }: LiveFeedProps) => {
  // Skeleton de carga
  if (loading) {
    return (
      <div className="space-y-4">
        {[1, 2, 3, 4, 5].map((i) => (
          <div key={i} className="h-16 w-full animate-pulse rounded-xl border border-zinc-800 bg-zinc-900/50" />
        ))}
      </div>
    )
  }

  if (!visits || visits.length === 0) {
    return (
      <div className="flex h-40 items-center justify-center rounded-xl border border-dashed border-zinc-800 bg-zinc-900/20 text-zinc-500">
        Esperando tr√°fico en tiempo real...
      </div>
    )
  }

  return (
    <div className="rounded-xl border border-zinc-800 bg-zinc-900/50 backdrop-blur-sm overflow-hidden">
      <div className="flex items-center justify-between border-b border-zinc-800 p-4">
        <h3 className="flex items-center gap-2 font-semibold text-white">
          <span className="relative flex h-2.5 w-2.5">
            <span className="absolute inline-flex h-full w-full animate-ping rounded-full bg-emerald-400 opacity-75"></span>
            <span className="relative inline-flex h-2.5 w-2.5 rounded-full bg-emerald-500"></span>
          </span>
          Actividad Reciente
        </h3>
        <span className="text-xs text-zinc-500">√öltimas 24h</span>
      </div>

      {/* --- VISTA ESCRITORIO (Tabla) --- */}
      <div className="hidden md:block overflow-x-auto">
        <table className="w-full text-left text-sm">
          <thead className="bg-zinc-900/80 text-zinc-400">
            <tr>
              <th className="px-4 py-3 font-medium">Hora</th>
              <th className="px-4 py-3 font-medium">Visitante / Empresa</th>
              <th className="px-4 py-3 font-medium">Ubicaci√≥n</th>
              <th className="px-4 py-3 font-medium">P√°gina</th>
              <th className="px-4 py-3 font-medium text-right">Dispositivo</th>
            </tr>
          </thead>
          <tbody className="divide-y divide-zinc-800/50">
            {visits.map((visit) => (
              <tr key={visit.id} className="hover:bg-zinc-800/30 transition-colors">
                <td className="px-4 py-3 text-zinc-500 whitespace-nowrap">
                  {new Date(visit.timestamp).toLocaleTimeString([], { hour: '2-digit', minute: '2-digit' })}
                </td>
                <td className="px-4 py-3">
                  <div className="flex items-center gap-2">
                    {visit.companyName ? (
                      <>
                        <div className="flex h-6 w-6 items-center justify-center rounded bg-indigo-500/10 text-indigo-400">
                          <Building2 className="h-3.5 w-3.5" />
                        </div>
                        <span className="font-medium text-white">{visit.companyName}</span>
                      </>
                    ) : (
                      <>
                        <div className="flex h-6 w-6 items-center justify-center rounded bg-zinc-800 text-zinc-500">
                          <Globe className="h-3.5 w-3.5" />
                        </div>
                        <span className="text-zinc-400">Visitante An√≥nimo</span>
                      </>
                    )}
                  </div>
                </td>
                <td className="px-4 py-3 text-zinc-300">
                  {visit.city !== 'Unknown' ? visit.city : ''} {visit.country}
                </td>
                <td className="px-4 py-3">
                  <span className="inline-block max-w-[200px] truncate text-cyan-400/80 bg-cyan-950/30 px-2 py-0.5 rounded text-xs border border-cyan-900/50">
                    {visit.page}
                  </span>
                </td>
                <td className="px-4 py-3 text-right">
                  {visit.device === 'Mobile' ? (
                    <Smartphone className="ml-auto h-4 w-4 text-zinc-500" />
                  ) : (
                    <Laptop className="ml-auto h-4 w-4 text-zinc-500" />
                  )}
                </td>
              </tr>
            ))}
          </tbody>
        </table>
      </div>

      {/* --- VISTA M√ìVIL (Tarjetas) --- */}
      <div className="block md:hidden divide-y divide-zinc-800">
        {visits.map((visit) => (
          <div key={visit.id} className="p-4 flex items-start gap-3">
            <div className={`mt-1 flex h-8 w-8 shrink-0 items-center justify-center rounded-lg ${visit.companyName ? 'bg-indigo-500/10 text-indigo-400' : 'bg-zinc-800 text-zinc-500'}`}>
              {visit.companyName ? <Building2 className="h-4 w-4" /> : <Globe className="h-4 w-4" />}
            </div>
            
            <div className="flex-1 min-w-0">
              <div className="flex items-center justify-between mb-1">
                <p className="font-medium text-white truncate pr-2">
                  {visit.companyName || 'Visitante An√≥nimo'}
                </p>
                <span className="text-xs text-zinc-500 shrink-0">
                  {new Date(visit.timestamp).toLocaleTimeString([], { hour: '2-digit', minute: '2-digit' })}
                </span>
              </div>
              
              <div className="flex items-center gap-3 text-xs text-zinc-400 mb-2">
                <span className="flex items-center gap-1">
                  <MapPin className="h-3 w-3" /> {visit.country}
                </span>
                <span className="flex items-center gap-1">
                  {visit.device === 'Mobile' ? <Smartphone className="h-3 w-3" /> : <Laptop className="h-3 w-3" />}
                  {visit.device}
                </span>
              </div>

              <div className="flex items-center gap-2 text-xs text-cyan-400/80 bg-zinc-900/80 p-2 rounded border border-zinc-800/50">
                <ExternalLink className="h-3 w-3 shrink-0" />
                <span className="truncate">{visit.page}</span>
              </div>
            </div>
          </div>
        ))}
      </div>
    </div>
  )
}

// =============== FIN ARCHIVO [53]: src/components/admin/Analytics/LiveFeed.tsx =============== //

// =============== INICIO ARCHIVO [54]: src/components/admin/Analytics/StatsCard.tsx =============== //
'use client'

import React from 'react'
import { LucideIcon } from 'lucide-react'

interface StatsCardProps {
  title: string
  value: string | number
  icon: LucideIcon
  trend?: {
    value: number
    label: string
  }
  loading?: boolean
}

export const StatsCard = ({ title, value, icon: Icon, trend, loading }: StatsCardProps) => {
  return (
    <div className="relative overflow-hidden rounded-xl border border-zinc-800 bg-zinc-900/50 p-6 backdrop-blur-sm transition-all hover:border-zinc-700">
      <div className="flex items-center justify-between">
        <div>
          <p className="text-sm font-medium text-zinc-400">{title}</p>
          {loading ? (
            <div className="mt-2 h-8 w-24 animate-pulse rounded bg-zinc-800" />
          ) : (
            <h3 className="mt-2 text-3xl font-bold text-white tracking-tight">{value}</h3>
          )}
        </div>
        <div className="flex h-12 w-12 items-center justify-center rounded-lg bg-zinc-800/50 border border-zinc-700/50 text-cyan-500">
          <Icon className="h-6 w-6" />
        </div>
      </div>

      {trend && !loading && (
        <div className="mt-4 flex items-center text-xs">
          <span
            className={`font-medium ${
              trend.value >= 0 ? 'text-emerald-400' : 'text-red-400'
            }`}
          >
            {trend.value > 0 ? '+' : ''}{trend.value}%
          </span>
          <span className="ml-2 text-zinc-500">{trend.label}</span>
        </div>
      )}
      
      {/* Efecto de brillo decorativo */}
      <div className="absolute -right-6 -top-6 h-24 w-24 rounded-full bg-cyan-500/10 blur-2xl pointer-events-none" />
    </div>
  )
}

// =============== FIN ARCHIVO [54]: src/components/admin/Analytics/StatsCard.tsx =============== //

// =============== INICIO ARCHIVO [55]: src/components/admin/Analytics/TrendChart.tsx =============== //
'use client'

import React from 'react'
import { Area, AreaChart, CartesianGrid, ResponsiveContainer, Tooltip, XAxis } from 'recharts'

// Tipos para los datos que recibir√° el gr√°fico
interface ChartData {
  date: string
  visits: number
}

interface TrendChartProps {
  data: ChartData[]
  loading?: boolean
}

// Tooltip personalizado para que se vea bien en modo oscuro
const CustomTooltip = ({ active, payload, label }: any) => {
  if (active && payload && payload.length) {
    return (
      <div className="rounded-lg border border-zinc-700 bg-zinc-950 p-3 shadow-xl backdrop-blur-md">
        <p className="mb-1 text-xs text-zinc-400">{label}</p>
        <p className="text-sm font-bold text-cyan-400">
          {payload[0].value} Visitas
        </p>
      </div>
    )
  }
  return null
}

export const TrendChart = ({ data, loading }: TrendChartProps) => {
  if (loading) {
    return (
      <div className="h-[350px] w-full animate-pulse rounded-xl border border-zinc-800 bg-zinc-900/50" />
    )
  }

  return (
    <div className="rounded-xl border border-zinc-800 bg-zinc-900/50 p-6 backdrop-blur-sm">
      <div className="mb-6 flex items-center justify-between">
        <h3 className="text-lg font-semibold text-white">Tendencia de Tr√°fico</h3>
        <span className="rounded-full bg-zinc-800 px-3 py-1 text-xs font-medium text-zinc-400 border border-zinc-700">
          √öltimos 30 d√≠as
        </span>
      </div>

      <div className="h-[300px] w-full">
        <ResponsiveContainer width="100%" height="100%">
          <AreaChart data={data} margin={{ top: 10, right: 10, left: -20, bottom: 0 }}>
            {/* Definici√≥n del degradado Cian */}
            <defs>
              <linearGradient id="colorVisits" x1="0" y1="0" x2="0" y2="1">
                <stop offset="5%" stopColor="#06b6d4" stopOpacity={0.3} />
                <stop offset="95%" stopColor="#06b6d4" stopOpacity={0} />
              </linearGradient>
            </defs>
            
            <CartesianGrid
              strokeDasharray="3 3"
              stroke="#27272a"
              vertical={false}
            />
            
            <XAxis
              dataKey="date"
              stroke="#71717a"
              fontSize={12}
              tickLine={false}
              axisLine={false}
              minTickGap={30} // Importante: Evita que las fechas se monten en m√≥viles
            />
            
            <Tooltip content={<CustomTooltip />} cursor={{ stroke: '#3f3f46', strokeWidth: 1 }} />
            
            <Area
              type="monotone"
              dataKey="visits"
              stroke="#06b6d4"
              strokeWidth={2}
              fillOpacity={1}
              fill="url(#colorVisits)"
              animationDuration={1500}
            />
          </AreaChart>
        </ResponsiveContainer>
      </div>
    </div>
  )
}

// =============== FIN ARCHIVO [55]: src/components/admin/Analytics/TrendChart.tsx =============== //

// =============== INICIO ARCHIVO [56]: src/components/admin/NotificationBell.client.tsx =============== //
'use client'

import React, { useEffect, useState } from 'react'
import Link from 'next/link'
import { Bell } from 'lucide-react'

export function NotificationBellClient() {
  const [count, setCount] = useState(0)
  const [mounted, setMounted] = useState(false)

  useEffect(() => {
    setMounted(true)
    const checkUnread = async () => {
      try {
        const req = await fetch('/api/contact-submissions?where[isRead][equals]=false&limit=0')
        const data = await req.json()
        setCount(data.totalDocs || 0)
      } catch (e) {
        console.error('Error checking notifications', e)
      }
    }

    checkUnread()
  }, [])

  if (!mounted) return null

  return (
    <Link 
      href="/admin/collections/contact-submissions?where[isRead][equals]=false" 
      className="relative flex items-center justify-center w-10 h-10 rounded-full hover:bg-zinc-800 transition-colors mr-2"
      title="Bandeja de Entrada"
    >
      <Bell className="w-5 h-5 text-zinc-400" />
      
      {count > 0 && (
        <span className="absolute top-1 right-1 flex h-4 w-4 items-center justify-center rounded-full bg-red-500 text-[10px] font-bold text-white shadow-sm">
          {count > 9 ? '+9' : count}
        </span>
      )}
    </Link>
  )
}

// =============== FIN ARCHIVO [56]: src/components/admin/NotificationBell.client.tsx =============== //

// =============== INICIO ARCHIVO [57]: src/components/admin/NotificationBell.tsx =============== //
import React from 'react'
import { NotificationBellClient } from './NotificationBell.client'

// Este es un "Wrapper" de Servidor.
// Al no tener 'use client', Payload puede leerlo sin errores.
export const NotificationBell = () => {
  return <NotificationBellClient />
}

// =============== FIN ARCHIVO [57]: src/components/admin/NotificationBell.tsx =============== //

// =============== INICIO ARCHIVO [58]: src/components/admin/ReadStatusHandler.tsx =============== //
'use client'

import { useDocumentInfo } from '@payloadcms/ui'
import { useEffect } from 'react'
import { toast } from 'sonner'

// 1. Quitamos "export" de aqu√≠
const ReadStatusHandler = () => {
  const { id } = useDocumentInfo()
  
  useEffect(() => {
    // Si no hay ID, estamos creando, no editando. No hacemos nada.
    if (!id) return

    const markAsRead = async () => {
      try {
        // 1. Consultar estado actual
        const fetchRes = await fetch(`/api/contact-submissions/${id}`)
        const data = await fetchRes.json()

        // 2. Si ya est√° le√≠do, no hacer nada (permite desmarcarlo manualmente)
        if (data.isRead) return

        // 3. Si no est√° le√≠do, marcarlo
        await fetch(`/api/contact-submissions/${id}`, {
          method: 'PATCH',
          headers: {
            'Content-Type': 'application/json',
          },
          body: JSON.stringify({ isRead: true }),
        })

        toast.success('Mensaje marcado como le√≠do')
        
      } catch (error) {
        console.error('Error auto-read:', error)
      }
    }

    markAsRead()
  }, [id])

  return null
}

// 2. Exportamos por defecto al final
export default ReadStatusHandler

// =============== FIN ARCHIVO [58]: src/components/admin/ReadStatusHandler.tsx =============== //

// =============== INICIO ARCHIVO [59]: src/components/admin/SidebarDashboardLink.tsx =============== //
'use client'

import React from 'react'
import Link from 'next/link'
import { LayoutDashboard } from 'lucide-react'
import { usePathname } from 'next/navigation'

export const SidebarDashboardLink = () => {
  const pathname = usePathname()
  // En Payload, la ra√≠z "/admin" es el dashboard
  const isActive = pathname === '/admin'

  return (
    <Link 
      href="/admin"
      className={`
        group flex items-center gap-3 px-3 py-2 rounded-md mb-4 transition-all duration-200
        ${isActive 
          ? 'bg-zinc-800 text-white shadow-sm border border-zinc-700' 
          : 'text-zinc-400 hover:text-white hover:bg-zinc-800/50'
        }
      `}
    >
      <LayoutDashboard size={18} className={isActive ? 'text-cyan-500' : 'text-zinc-500 group-hover:text-zinc-300'} />
      <span className="font-medium text-sm">Dashboard</span>
    </Link>
  )
}

// =============== FIN ARCHIVO [59]: src/components/admin/SidebarDashboardLink.tsx =============== //

// =============== INICIO ARCHIVO [60]: src/components/layout/Footer.tsx =============== //
import React from 'react'
import Link from 'next/link'
import { getPayload } from 'payload'
import configPromise from '@payload-config'
import { Github, Linkedin, Twitter, ExternalLink } from 'lucide-react'
import { getTranslations } from 'next-intl/server'
import type { CompanyInfo } from '@/payload-types'

interface FooterProps {
  locale: string
}

export async function Footer({ locale }: FooterProps) {
  const payload = await getPayload({ config: configPromise })
  
  // Cargar traducciones
  const t = await getTranslations('common')
  const tFooter = await getTranslations('footer')
  const tTools = await getTranslations('tools')
  
  // Obtener datos de la empresa desde Payload CMS
  const company = (await payload.findGlobal({
    slug: 'company-info' as any,
    locale: locale as any,
  })) as unknown as CompanyInfo

  const currentYear = new Date().getFullYear()

  // Datos con fallback
  const email = company?.contactEmail || 'info@ohcodex.com'
  const schedule = company?.schedule || 'L-V: 09:00 - 18:00' 
  const description = company?.description || tFooter('description')

  // Lista de herramientas con enlaces localizados
  const toolsLinks = [
    { name: tTools('vault.title'), href: `/${locale}/tools/vault` },
    { name: tTools('image-optimizer.title'), href: `/${locale}/tools/image-optimizer` },
    { name: tTools('pdf-studio.title'), href: `/${locale}/tools/pdf-studio` },
    { name: tTools('data-station.title'), href: `/${locale}/tools/data-station` },
    { name: tTools('qr-factory.title'), href: `/${locale}/tools/qr-factory` },
  ]

  return (
    <footer className="border-t border-white/10 bg-black pt-16 pb-8">
      <div className="container px-4 mx-auto">
        <div className="grid grid-cols-1 md:grid-cols-4 gap-12 mb-16">
          
          {/* 1. BRANDING & SOCIAL */}
          <div className="md:col-span-1 lg:col-span-1">
            <Link href={`/${locale}`} className="inline-block mb-6">
              <span className="text-2xl font-bold tracking-tighter text-white">
                OH<span className="text-cyan-500">CODEX</span>
              </span>
            </Link>
            <p className="text-zinc-400 leading-relaxed text-sm mb-6">
              {description}
            </p>
            
            <div className="flex gap-4">
              {company?.linkedin && (
                <a href={company.linkedin} target="_blank" rel="noopener noreferrer" className="text-zinc-500 hover:text-white transition-colors">
                  <Linkedin className="h-5 w-5" />
                </a>
              )}
              {company?.github && (
                <a href={company.github} target="_blank" rel="noopener noreferrer" className="text-zinc-500 hover:text-white transition-colors">
                  <Github className="h-5 w-5" />
                </a>
              )}
              {company?.twitter && (
                <a href={company.twitter} target="_blank" rel="noopener noreferrer" className="text-zinc-500 hover:text-white transition-colors">
                  <Twitter className="h-5 w-5" />
                </a>
              )}
            </div>
          </div>

          {/* 2. HERRAMIENTAS (TOOLS) */}
          <div>
            <h3 className="text-white font-semibold mb-6">{t('tools')}</h3>
            <ul className="space-y-3 text-sm">
              {toolsLinks.map((tool) => (
                <li key={tool.href}>
                  <Link href={tool.href} className="text-zinc-400 hover:text-cyan-400 transition-colors">
                    {tool.name}
                  </Link>
                </li>
              ))}
            </ul>
          </div>

          {/* 3. NAVEGACI√ìN CORPORATIVA */}
          <div>
            <h3 className="text-white font-semibold mb-6">{tFooter('navigation')}</h3>
            <ul className="space-y-3 text-sm">
              <li>
                <Link href={`/${locale}/#productos`} className="text-zinc-400 hover:text-cyan-400 transition-colors">
                  {t('products')}
                </Link>
              </li>
              <li>
                <Link href={`/${locale}/#metodologia`} className="text-zinc-400 hover:text-cyan-400 transition-colors">
                  {t('methodology')}
                </Link>
              </li>
              <li>
                <a href="/admin" target="_blank" className="text-zinc-400 hover:text-cyan-400 transition-colors flex items-center gap-1">
                  Admin Panel <ExternalLink className="h-3 w-3" />
                </a>
              </li>
            </ul>
          </div>

          {/* 4. CONTACTO */}
          <div>
            <h3 className="text-white font-semibold mb-6">{tFooter('contact')}</h3>
            <ul className="space-y-3 text-sm">
              <li>
                <a href={`mailto:${email}`} className="text-zinc-400 hover:text-cyan-400 transition-colors">
                  {email}
                </a>
              </li>
              <li className="text-zinc-500 whitespace-pre-line">
                <span className="block text-zinc-300 mb-1">{tFooter('support')}</span>
                {schedule}
              </li>
              {company?.phoneNumber && (
                 <li className="text-zinc-400">
                    {company.phoneNumber}
                 </li>
              )}
            </ul>
          </div>
        </div>

        {/* COPYRIGHT & LEGAL */}
        <div className="border-t border-white/10 pt-8 flex flex-col md:flex-row justify-between items-center gap-4">
          <p className="text-zinc-500 text-sm text-center md:text-left">
            &copy; {currentYear} OHCodex. {t('copyright')}.
          </p>
          <div className="flex flex-wrap justify-center gap-6 text-sm text-zinc-500">
            {/* üëá ENLACES LEGALES CORREGIDOS */}
            <Link href={`/${locale}/aviso-legal`} className="hover:text-zinc-300 transition-colors">
              {t('legal.legalNotice')}
            </Link>
            <Link href={`/${locale}/privacidad`} className="hover:text-zinc-300 transition-colors">
              {t('legal.privacy')}
            </Link>
            <Link href={`/${locale}/terminos`} className="hover:text-zinc-300 transition-colors">
              {t('legal.terms')}
            </Link>
          </div>
        </div>
      </div>
    </footer>
  )
}

// =============== FIN ARCHIVO [60]: src/components/layout/Footer.tsx =============== //

// =============== INICIO ARCHIVO [61]: src/components/layout/Header.tsx =============== //
'use client'

import React, { useState, useEffect } from 'react'
import { usePathname } from 'next/navigation'
import Link from 'next/link'
import { Button } from '@/components/ui/button'
import { Menu, X } from 'lucide-react'
import { useTranslations } from 'next-intl'
import { LanguageSwitcher } from '@/components/shared/LanguageSwitcher'

export function Header() {
  const t = useTranslations('common')
  const [isScrolled, setIsScrolled] = useState(false)
  const [mobileMenuOpen, setMobileMenuOpen] = useState(false)
  const pathname = usePathname()

  // Extraer el locale actual de la URL (ej: /es/blog -> 'es')
  const locale = pathname.split('/')[1] || 'es'

  useEffect(() => {
    const handleScroll = () => {
      setIsScrolled(window.scrollY > 20)
    }
    window.addEventListener('scroll', handleScroll)
    return () => window.removeEventListener('scroll', handleScroll)
  }, [])

  const navItems = [
    { 
      name: t('home'), 
      href: `/${locale}`,
      external: false 
    },
    { 
      name: t('tools'), 
      href: `/${locale}/tools`, // <--- CAMBIO: Ahora lleva a la p√°gina dedicada
      external: false 
    },
    { 
      name: t('blog'), 
      href: `/${locale}/blog`, 
      external: false 
    },
    { 
      name: t('buttons.readArticle').replace('Leer art√≠culo', 'Portfolio'), 
      href: `/${locale}/#productos`, 
      external: false 
    }
  ]

  return (
    <header
      className={`sticky top-0 z-50 w-full border-b border-white/5 bg-black/50 backdrop-blur-xl transition-all duration-300 ${
        isScrolled ? 'shadow-lg shadow-cyan-900/10' : ''
      }`}
    >
      <nav className="container mx-auto px-4 sm:px-6 lg:px-8">
        <div className="flex items-center justify-between h-16 md:h-20">
          {/* Logo */}
          <div className="flex items-center">
            <Link href={`/${locale}`} className="flex items-center space-x-2 group">
              <span className="text-2xl font-bold tracking-tighter text-white group-hover:text-cyan-500 transition-colors">
                OH<span className="text-cyan-500 group-hover:text-white transition-colors">CODEX</span>
              </span>
            </Link>
          </div>

          {/* Desktop Navigation */}
          <div className="hidden md:flex items-center space-x-6">
            {navItems.map((item) => (
              <Link
                key={item.name}
                href={item.href}
                className="text-sm font-medium text-zinc-400 hover:text-cyan-400 transition-colors"
                target={item.external ? "_blank" : undefined}
                rel={item.external ? "noopener noreferrer" : undefined}
              >
                {item.name}
              </Link>
            ))}
            
            {/* Separador */}
            <div className="h-4 w-[1px] bg-zinc-800 mx-2"></div>
            
            {/* Selector de Idioma */}
            <LanguageSwitcher />

            <Button className="bg-white text-black hover:bg-zinc-200 font-semibold ml-2" asChild>
              <Link href={`/${locale}/#contacto`}>
                {t('contact')}
              </Link>
            </Button>
          </div>

          {/* Mobile menu button */}
          <div className="md:hidden flex items-center gap-4">
            <LanguageSwitcher />
            <button
              onClick={() => setMobileMenuOpen(!mobileMenuOpen)}
              className="p-2 rounded-md text-zinc-400 hover:text-white hover:bg-zinc-800"
              aria-label="Toggle menu"
            >
              {mobileMenuOpen ? <X size={24} /> : <Menu size={24} />}
            </button>
          </div>
        </div>

        {/* Mobile Navigation */}
        {mobileMenuOpen && (
          <div className="md:hidden py-4 space-y-2 border-t border-zinc-800 bg-black absolute left-0 right-0 px-4 shadow-xl">
            {navItems.map((item) => (
              <Link
                key={item.name}
                href={item.href}
                className="block px-4 py-3 text-base font-medium text-zinc-400 hover:text-white hover:bg-zinc-900 rounded-md transition-colors"
                onClick={() => setMobileMenuOpen(false)}
                target={item.external ? "_blank" : undefined}
              >
                {item.name}
              </Link>
            ))}
            <div className="pt-4">
              <Button className="w-full bg-white text-black hover:bg-zinc-200" asChild>
                <Link href={`/${locale}/#contacto`} onClick={() => setMobileMenuOpen(false)}>
                  {t('contact')}
                </Link>
              </Button>
            </div>
          </div>
        )}
      </nav>
    </header>
  )
}

// =============== FIN ARCHIVO [61]: src/components/layout/Header.tsx =============== //

// =============== INICIO ARCHIVO [62]: src/components/sections/Contact.tsx =============== //
'use client'

import React, { useActionState } from 'react'
import { submitContactForm } from '@/app/(frontend)/actions'
import { Button } from '@/components/ui/button'
import { Mail, MapPin, Loader2, Send } from 'lucide-react'
import { useTranslations } from 'next-intl'

const initialState = {
  success: false,
  message: '',
}

export function ContactSection({ email }: { email: string }) {
  const [state, formAction, isPending] = useActionState(submitContactForm, initialState)
  
  // 1. Hook de traducci√≥n cargando el namespace 'contactSection'
  const t = useTranslations('contactSection')
  
  const displayEmail = email || 'info@ohcodex.com'

  return (
    <section id="contacto" className="relative bg-black py-24 overflow-hidden border-t border-white/10">
      
      <div className="absolute right-0 bottom-0 -z-10 h-[600px] w-[600px] rounded-full bg-cyan-900/10 blur-[120px] opacity-50" />

      <div className="container px-4 mx-auto">
        <div className="grid grid-cols-1 lg:grid-cols-2 gap-16 items-start">
          
          {/* COLUMNA IZQUIERDA: Info */}
          <div>
            <h2 className="text-3xl font-bold tracking-tight text-white sm:text-4xl mb-6">
              {/* T√≠tulo din√°mico con estilo bicolor */}
              {t('title').split(' ').slice(0, 2).join(' ')} <br />
              <span className="text-cyan-500">{t('title').split(' ').slice(2).join(' ')}</span>
            </h2>
            <p className="text-lg text-zinc-400 mb-10 leading-relaxed">
              {t('subtitle')}
            </p>

            <div className="space-y-8">
              <div className="flex items-start gap-5">
                <div className="flex h-12 w-12 shrink-0 items-center justify-center rounded-xl bg-zinc-900 border border-zinc-800 text-cyan-500 shadow-sm">
                  <Mail className="h-6 w-6" />
                </div>
                <div>
                  <h3 className="text-white font-semibold text-lg">{t('directContact')}</h3>
                  <a href={`mailto:${displayEmail}`} className="text-zinc-500 mt-1 hover:text-cyan-400 transition-colors block">
                    {displayEmail}
                  </a>
                  <p className="text-zinc-600 text-sm mt-1">{t('response')}</p>
                </div>
              </div>
              
              <div className="flex items-start gap-5">
                <div className="flex h-12 w-12 shrink-0 items-center justify-center rounded-xl bg-zinc-900 border border-zinc-800 text-cyan-500 shadow-sm">
                  <MapPin className="h-6 w-6" />
                </div>
                <div>
                  <h3 className="text-white font-semibold text-lg">{t('operations')}</h3>
                  <p className="text-zinc-500 mt-1">{t('location')}</p>
                  <p className="text-zinc-600 text-sm mt-1">{t('global')}</p>
                </div>
              </div>
            </div>
          </div>

          {/* COLUMNA DERECHA: Formulario */}
          <div className="bg-zinc-900/30 border border-white/10 rounded-2xl p-8 backdrop-blur-md shadow-2xl">
            {state.success ? (
              <div className="h-full min-h-[400px] flex flex-col items-center justify-center text-center animate-in fade-in zoom-in duration-500">
                <div className="h-20 w-20 bg-green-500/10 text-green-500 rounded-full flex items-center justify-center mb-6 border border-green-500/20 shadow-[0_0_30px_rgba(34,197,94,0.2)]">
                  <Send className="h-10 w-10" />
                </div>
                <h3 className="text-2xl font-bold text-white mb-3">{t('form.sentTitle')}</h3>
                <p className="text-zinc-400 max-w-xs mx-auto">
                  {t('form.sentDesc')}
                </p>
              </div>
            ) : (
              <form action={formAction} className="space-y-6">
                <div className="grid grid-cols-1 sm:grid-cols-2 gap-6">
                  <div className="space-y-2">
                    <label htmlFor="name" className="text-sm font-medium text-zinc-300">{t('form.name')}</label>
                    <input
                      id="name"
                      name="name"
                      type="text"
                      required
                      placeholder={t('form.namePlaceholder')}
                      className="w-full rounded-lg border border-zinc-800 bg-black/40 px-4 py-2.5 text-sm text-white placeholder:text-zinc-600 focus:outline-none focus:ring-2 focus:ring-cyan-500/50 focus:border-cyan-500/50 transition-all"
                    />
                  </div>
                  <div className="space-y-2">
                    <label htmlFor="email" className="text-sm font-medium text-zinc-300">{t('form.email')}</label>
                    <input
                      id="email"
                      name="email"
                      type="email"
                      required
                      placeholder={t('form.emailPlaceholder')}
                      className="w-full rounded-lg border border-zinc-800 bg-black/40 px-4 py-2.5 text-sm text-white placeholder:text-zinc-600 focus:outline-none focus:ring-2 focus:ring-cyan-500/50 focus:border-cyan-500/50 transition-all"
                    />
                  </div>
                </div>

                <div className="space-y-2">
                  <label htmlFor="serviceType" className="text-sm font-medium text-zinc-300">{t('form.type')}</label>
                  <div className="relative">
                    <select
                      id="serviceType"
                      name="serviceType"
                      className="w-full rounded-lg border border-zinc-800 bg-black/40 px-4 py-2.5 text-sm text-white focus:outline-none focus:ring-2 focus:ring-cyan-500/50 focus:border-cyan-500/50 appearance-none transition-all cursor-pointer"
                    >
                      <option value="pwa">{t('form.types.pwa')}</option>
                      <option value="saas">{t('form.types.saas')}</option>
                      <option value="api">{t('form.types.api')}</option>
                      <option value="other">{t('form.types.other')}</option>
                    </select>
                    <div className="pointer-events-none absolute inset-y-0 right-0 flex items-center px-4 text-zinc-500">
                      <svg className="h-4 w-4 fill-current" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"/></svg>
                    </div>
                  </div>
                </div>

                <div className="space-y-2">
                  <label htmlFor="message" className="text-sm font-medium text-zinc-300">{t('form.details')}</label>
                  <textarea
                    id="message"
                    name="message"
                    required
                    rows={4}
                    placeholder={t('form.detailsPlaceholder')}
                    className="w-full rounded-lg border border-zinc-800 bg-black/40 px-4 py-2.5 text-sm text-white placeholder:text-zinc-600 focus:outline-none focus:ring-2 focus:ring-cyan-500/50 focus:border-cyan-500/50 resize-none transition-all"
                  />
                </div>

                <div className="flex items-start gap-3 pt-2">
                  <div className="flex items-center h-5">
                    <input
                      id="privacyAccepted"
                      name="privacyAccepted"
                      type="checkbox"
                      required
                      className="h-4 w-4 rounded border-zinc-700 bg-zinc-900/50 text-cyan-600 focus:ring-cyan-500/20 focus:ring-offset-0 cursor-pointer"
                    />
                  </div>
                  <label htmlFor="privacyAccepted" className="text-xs text-zinc-500 leading-relaxed cursor-pointer select-none">
                    {t('form.privacy')}
                  </label>
                </div>

                {state.message && !state.success && (
                  <div className="p-3 rounded-lg bg-red-500/10 border border-red-500/20 text-red-400 text-sm flex items-center animate-in fade-in slide-in-from-top-1">
                    <span className="mr-2">‚ö†Ô∏è</span> {state.message}
                  </div>
                )}

                <Button 
                  type="submit" 
                  disabled={isPending}
                  className="w-full h-12 bg-cyan-600 hover:bg-cyan-500 text-white font-semibold text-base shadow-[0_0_20px_-5px_rgba(6,182,212,0.3)] transition-all hover:shadow-[0_0_25px_-5px_rgba(6,182,212,0.5)]"
                >
                  {isPending ? (
                    <>
                      <Loader2 className="mr-2 h-5 w-5 animate-spin" /> {t('form.processing')}
                    </>
                  ) : (
                    t('form.submit')
                  )}
                </Button>
              </form>
            )}
          </div>
        </div>
      </div>
    </section>
  )
}

// =============== FIN ARCHIVO [62]: src/components/sections/Contact.tsx =============== //

// =============== INICIO ARCHIVO [63]: src/components/sections/FAQ.tsx =============== //
import React from 'react'
import { Plus } from 'lucide-react'

// Definimos la estructura de una pregunta (coincidir√° con el Backend)
export interface FAQItem {
  id?: string | null
  question: string
  answer: string
}

interface FAQProps {
  faqs?: FAQItem[] | null
  title?: string
  subtitle?: string
}

export function FAQ({ 
  faqs, 
  title = "Preguntas Frecuentes",
  subtitle = "Todo lo que necesitas saber sobre nuestra forma de trabajar."
}: FAQProps) {
  
  if (!faqs || faqs.length === 0) return null

  // Generamos el Schema.org para Google (FAQPage)
  const faqJsonLd = {
    '@context': 'https://schema.org',
    '@type': 'FAQPage',
    mainEntity: faqs.map((faq) => ({
      '@type': 'Question',
      name: faq.question,
      acceptedAnswer: {
        '@type': 'Answer',
        text: faq.answer,
      },
    })),
  }

  return (
    <section className="bg-black py-24 relative overflow-hidden border-b border-white/5">
      {/* Inyecci√≥n de datos para Google */}
      <script
        type="application/ld+json"
        dangerouslySetInnerHTML={{ __html: JSON.stringify(faqJsonLd) }}
      />

      <div className="container px-4 mx-auto max-w-3xl">
        <div className="text-center mb-16">
          {/* T√çTULO CON √öLTIMA PALABRA EN CYAN */}
          <h2 className="text-3xl font-bold tracking-tight text-white sm:text-4xl mb-4">
            {title.split(' ').slice(0, -1).join(' ')}{' '}
            <span className="text-cyan-500">
              {title.split(' ').slice(-1)}
            </span>
          </h2>
          <p className="text-lg text-zinc-400">
            {subtitle}
          </p>
        </div>

        <div className="space-y-4">
          {faqs.map((faq, i) => (
            <div 
              key={faq.id || i} 
              className="rounded-2xl border border-zinc-800 bg-zinc-900/20 overflow-hidden transition-all hover:border-zinc-700"
            >
              {/* Usamos el elemento nativo <details> para m√°xima accesibilidad y SEO */}
              <details className="group [&_summary::-webkit-details-marker]:hidden">
                <summary className="flex cursor-pointer items-center justify-between gap-1.5 p-6 text-white font-medium hover:bg-zinc-900/40 transition-colors">
                  <span className="text-lg">{faq.question}</span>
                  <span className="shrink-0 rounded-full border border-zinc-700 bg-zinc-800 p-1.5 text-zinc-400 transition duration-300 group-open:-rotate-45 group-open:text-cyan-500 group-open:border-cyan-500/50">
                    <Plus className="h-5 w-5" />
                  </span>
                </summary>

                <div className="px-6 pb-6 pt-2 leading-relaxed text-zinc-400 animate-in slide-in-from-top-2 fade-in duration-200">
                  {faq.answer}
                </div>
              </details>
            </div>
          ))}
        </div>
      </div>
    </section>
  )
}

// =============== FIN ARCHIVO [63]: src/components/sections/FAQ.tsx =============== //

// =============== INICIO ARCHIVO [64]: src/components/sections/Features.tsx =============== //
// =============== INICIO ARCHIVO: src/components/sections/Features.tsx =============== //
import React from 'react'
import { Smartphone, Zap, Database, ShieldCheck, LucideIcon, Code2, Users, Rocket } from 'lucide-react'
import { getPayload } from 'payload'
import configPromise from '@payload-config'
import type { LandingPage } from '@/payload-types'

// Mapa para traducir el texto del CMS al componente Icono real
const iconMap: Record<string, LucideIcon> = {
  smartphone: Smartphone,
  zap: Zap,
  database: Database,
  shield: ShieldCheck,
  code: Code2,
  users: Users,
  rocket: Rocket
}

export async function FeaturesSection({ locale }: { locale: string }) {
  const payload = await getPayload({ config: configPromise })
  
  // 1. Obtener datos globales pas√°ndole el locale para que traiga la versi√≥n de la BD correcta
  const landing = (await payload.findGlobal({
    slug: 'landing-page' as any,
    locale: locale as any, // üëà IMPORTANTE
  })) as unknown as LandingPage

  // 2. Configuraci√≥n Visual
  const align = landing.featuresAlign || 'left'
  
  // Textos con Fallback (por si la BD estuviera vac√≠a moment√°neamente)
  const title = landing?.featuresTitle || 'M√°s all√° del c√≥digo: Ingenier√≠a de Producto'
  const description = landing?.featuresDescription || 'En OHCodex no somos una factor√≠a de software al peso. Actuamos como tu socio tecnol√≥gico.'
  
  // Lista de Caracter√≠sticas (Tarjetas con iconos)
  const featuresList = landing?.featuresList || []

  // L√≥gica para el T√≠tulo (Separar √∫ltima palabra para el Cyan)
  const titleWords = title.split(' ')
  const titleMain = titleWords.slice(0, -1).join(' ')
  const titleLast = titleWords.slice(-1)

  // 3. Traducci√≥n de los "Bubbles" (Beneficios r√°pidos fijos en c√≥digo)
  let advantages: string[] = []

  switch (locale) {
    case 'en':
      advantages = ['Real Agile Methodology', 'Custom Code (No templates)', 'Direct Support from Engineers']
      break;
    case 'fr':
      advantages = ['M√©thodologie Agile', 'Code Personnalis√© (Pas de templates)', 'Support Direct Ing√©nieurs']
      break;
    case 'de':
      advantages = ['Agile Methodik', 'Eigener Code (Keine Vorlagen)', 'Direkter Ingenieur-Support']
      break;
    case 'it':
      advantages = ['Metodologia Agile', 'Codice Personalizzato (No template)', 'Supporto Diretto Ingegneri']
      break;
    case 'pt':
      advantages = ['Metodologia √Ågil', 'C√≥digo Pr√≥prio (Sem modelos)', 'Suporte Direto de Engenheiros']
      break;
    default: // Fallback a Espa√±ol ('es')
      advantages = ['Metodolog√≠a √Ågil Real', 'C√≥digo Propio (Sin plantillas)', 'Soporte Directo de Ingenieros']
  }

  return (
    <section id="metodologia" className="bg-black py-24 relative overflow-hidden border-b border-white/5">
      
      {/* Decoraci√≥n de fondo */}
      <div className="absolute top-0 right-0 -mr-20 -mt-20 h-[500px] w-[500px] rounded-full bg-blue-600/10 blur-[100px] pointer-events-none" />

      <div className="container px-4 mx-auto relative z-10">
        
        <div className={align === 'center' ? 'flex flex-col items-center' : 'grid grid-cols-1 lg:grid-cols-2 gap-16 items-center'}>
          
          {/* BLOQUE DE TEXTO */}
          <div className={align === 'center' ? 'text-center max-w-3xl mb-16 mx-auto' : 'text-left'}>
            <h2 className="text-3xl font-bold tracking-tight text-white sm:text-4xl mb-6">
              {titleMain} <span className="text-cyan-500">{titleLast}</span>
            </h2>
            <p className="text-lg text-zinc-400 mb-8 leading-relaxed">
              {description}
            </p>
            
            {/* --- LISTA DE VENTAJAS ADAPTATIVA --- */}
            <div className={`flex mt-8 ${align === 'center' ? 'flex-wrap justify-center gap-3' : 'flex-col gap-4'}`}>
               {advantages.map((item, i) => (
                 <div 
                   key={i} 
                   className={`flex items-center gap-3 ${
                     align === 'center' 
                       ? 'bg-zinc-900/50 border border-zinc-800 px-4 py-2 rounded-full backdrop-blur-sm hover:border-cyan-500/30 transition-colors' 
                       : ''
                   }`}
                 >
                   <div className="h-2 w-2 rounded-full bg-cyan-500 shrink-0" />
                   <span className="text-zinc-300 font-medium text-sm">{item}</span>
                 </div>
               ))}
            </div>
          </div>

          {/* GRID DE ICONOS (Cards) */}
          <div className={`grid grid-cols-1 sm:grid-cols-2 gap-6 ${align === 'center' ? 'w-full lg:grid-cols-4' : ''}`}>
            {featuresList.map((feature, index) => {
              const iconKey = (feature.icon as string) || 'zap'
              const IconComponent = iconMap[iconKey] || Zap
              
              return (
                <div 
                  key={index} 
                  className="group rounded-2xl border border-white/10 bg-zinc-900/50 p-6 backdrop-blur-sm transition-all hover:bg-zinc-800 hover:border-cyan-500/30 h-full"
                >
                  <div className="mb-4 inline-flex h-12 w-12 items-center justify-center rounded-lg bg-cyan-500/10 text-cyan-400 group-hover:bg-cyan-500 group-hover:text-white transition-colors">
                    <IconComponent className="h-6 w-6" />
                  </div>
                  <h3 className="text-lg font-semibold text-white mb-2">
                    {feature.title}
                  </h3>
                  <p className="text-sm text-zinc-400 leading-relaxed">
                    {feature.description}
                  </p>
                </div>
              )
            })}
          </div>

        </div>
      </div>
    </section>
  )
}
// =============== FIN ARCHIVO: src/components/sections/Features.tsx =============== //

// =============== FIN ARCHIVO [64]: src/components/sections/Features.tsx =============== //

// =============== INICIO ARCHIVO [65]: src/components/sections/Hero.tsx =============== //
'use client'

import React from 'react'
import Link from 'next/link'
import { Button } from '@/components/ui/button'
import { ArrowRight, Code2, Layers, Database } from 'lucide-react'
import { useTranslations } from 'next-intl'

// Definimos la interfaz para recibir los datos din√°micos desde page.tsx
interface HeroProps {
  badge?: string | null
  title: string
  subtitle: string
}

export function Hero({ badge, title, subtitle }: HeroProps) {
  // Cargamos las traducciones del namespace 'hero'
  const t = useTranslations('hero')

  return (
    <section id="hero" className="relative flex min-h-[90vh] flex-col items-center justify-center overflow-hidden border-b border-border bg-background pt-20 pb-16">

      {/* 1. FONDO TECNOL√ìGICO */}
      <div className="absolute inset-0 z-0">
        <div className="absolute inset-0 bg-[linear-gradient(to_right,#4f4f4f2e_1px,transparent_1px),linear-gradient(to_bottom,#4f4f4f2e_1px,transparent_1px)] bg-[size:4rem_4rem] [mask-image:radial-gradient(ellipse_60%_50%_at_50%_0%,#000_70%,transparent_100%)]" />
        <div className="absolute left-0 right-0 top-0 -z-10 m-auto h-[310px] w-[310px] rounded-full bg-primary opacity-20 blur-[100px]" />
      </div>

      <div className="container relative z-10 px-4 text-center">

        {/* 2. BADGE SUPERIOR DIN√ÅMICO */}
        <div className="mb-6 inline-flex items-center rounded-full border border-primary/30 bg-primary/10 px-3 py-1 text-sm text-primary backdrop-blur-sm">
          <span className="mr-2 flex h-2 w-2 relative">
            <span className="animate-ping absolute inline-flex h-full w-full rounded-full bg-primary opacity-75"></span>
            <span className="relative inline-flex rounded-full h-2 w-2 bg-primary"></span>
          </span>
          {/* Usamos el prop o el texto por defecto de la traducci√≥n */}
          {badge || t('badge')}
        </div>

        {/* 3. T√çTULO PRINCIPAL DIN√ÅMICO (Viene de la BD) */}
        <h1 className="mx-auto max-w-4xl text-5xl font-extrabold tracking-tight text-foreground md:text-7xl lg:text-8xl">
          {/* L√≥gica simple para colorear las √∫ltimas palabras */}
          {title.split(' ').slice(0, -2).join(' ')} <br />
          <span className="text-transparent bg-clip-text bg-gradient-to-r from-primary via-blue-500 to-teal-400">
            {title.split(' ').slice(-2).join(' ')}
          </span>
        </h1>

        {/* 4. SUBT√çTULO DIN√ÅMICO (Viene de la BD) */}
        <p className="mx-auto mt-6 max-w-2xl text-lg text-muted-foreground md:text-xl">
          {subtitle}
        </p>

        {/* 5. CTA (Botones traducidos con JSON) */}
        <div className="mt-10 flex flex-col items-center justify-center gap-4 sm:flex-row">
          <Button
            size="lg"
            className="h-12 min-w-[160px] bg-primary text-lg font-semibold text-primary-foreground hover:bg-primary/90 hover:shadow-[0_0_20px_rgba(59,130,246,0.5)] transition-all"
            asChild
          >
            <Link href="#contact">
              {t('ctaProject')} <ArrowRight className="ml-2 h-5 w-5" />
            </Link>
          </Button>

          <Button
            variant="outline"
            size="lg"
            className="h-12 min-w-[160px] border-border bg-background/50 text-lg text-muted-foreground backdrop-blur-sm hover:bg-accent hover:text-foreground"
            asChild
          >
            <Link href="#products">
              {t('ctaPortfolio')}
            </Link>
          </Button>
        </div>

        {/* 6. TECH STACK (Est√°tico) */}
        <div className="mt-16 sm:mt-20 flex flex-wrap items-center justify-center gap-x-8 gap-y-4 text-muted-foreground opacity-70 grayscale transition-all hover:grayscale-0">
          <div className="flex items-center gap-2">
            <Code2 className="h-6 w-6" />
            <span className="font-mono text-sm">Next.js 15</span>
          </div>

          <div className="hidden sm:block h-4 w-[1px] bg-border" />

          <div className="flex items-center gap-2">
            <Layers className="h-6 w-6" />
            <span className="font-mono text-sm">Tailwind CSS</span>
          </div>

          <div className="hidden sm:block h-4 w-[1px] bg-border" />

          <div className="flex items-center gap-2">
            <Database className="h-6 w-6" />
            <span className="font-mono text-sm font-bold">PostgreSQL</span>
            <span className="font-mono text-sm">(Neon)</span>
          </div>
        </div>

      </div>
    </section>
  )
}

// =============== FIN ARCHIVO [65]: src/components/sections/Hero.tsx =============== //

// =============== INICIO ARCHIVO [66]: src/components/sections/Products.tsx =============== //
import React from 'react'
import Link from 'next/link'
import { getPayload } from 'payload'
import configPromise from '@payload-config'
import { ArrowUpRight, CheckCircle2, FlaskConical, Rocket, Timer } from 'lucide-react'
import { Badge } from '@/components/ui/badge'
import { Button } from '@/components/ui/button'
import type { LandingPage } from '@/payload-types'
import Image from 'next/image'
import { getTranslations } from 'next-intl/server'

// Funci√≥n auxiliar para configurar el estado visual (Ahora usa el objeto de traducci√≥n t)
const getStatusConfig = (status: string, t: any) => {
  switch (status) {
    case 'live':
      return { 
        label: t('status.live'), 
        color: 'bg-green-500/10 text-green-400 border-green-500/20', 
        icon: CheckCircle2 
      }
    case 'beta':
      return { 
        label: t('status.beta'), 
        color: 'bg-cyan-500/10 text-cyan-400 border-cyan-500/20', 
        icon: Rocket 
      }
    case 'development':
      return { 
        label: t('status.development'), 
        color: 'bg-yellow-500/10 text-yellow-400 border-yellow-500/20', 
        icon: Timer 
      }
    default:
      return { 
        label: t('status.concept'), 
        color: 'bg-zinc-500/10 text-zinc-400 border-zinc-500/20', 
        icon: FlaskConical 
      }
  }
}

export async function ProductsSection({ locale }: { locale: string }) {
  const payload = await getPayload({ config: configPromise })
  
  // Cargamos las traducciones del namespace 'products'
  const t = await getTranslations('products')

  // Obtenemos la configuraci√≥n de la Landing pasando el locale
  const landing = (await payload.findGlobal({
    slug: 'landing-page' as any,
    locale: locale as any,
  })) as unknown as LandingPage

  // Obtenemos los productos ordenados pasando el locale
  const { docs: products } = await payload.find({
    collection: 'products',
    depth: 1, 
    sort: 'order', 
    locale: locale as any,
  })

  // Extraer configuraci√≥n visual con Fallbacks
  const title = landing?.productsTitle || 'Soluciones OHCodex'
  const description = landing?.productsDescription || 'Software dise√±ado para resolver problemas reales.'
  
  // Configuraci√≥n de Rejilla
  const gridColsOption = landing.productsGridCols || '3'
  const gridClass = {
    '2': 'lg:grid-cols-2',
    '3': 'lg:grid-cols-3',
    '4': 'lg:grid-cols-4',
  }[gridColsOption]

  // Configuraci√≥n de Alineaci√≥n
  const alignOption = landing.productsAlign || 'center'
  const headerAlignClass = alignOption === 'center' ? 'text-center mx-auto' : 'text-left mr-auto'

  if (!products || products.length === 0) {
    return null 
  }

  return (
    <section id="productos" className="bg-zinc-950 py-24 border-b border-white/5">
      <div className="container px-4 mx-auto">
        
        {/* CABECERA CONFIGURABLE */}
        <div className={`mb-16 max-w-3xl ${headerAlignClass}`}>
          <h2 className="text-3xl font-bold tracking-tight text-white sm:text-4xl">
            {title.split(' ').slice(0, -1).join(' ')} <span className="text-cyan-500">{title.split(' ').slice(-1)}</span>
          </h2>
          <p className="mt-4 text-lg text-zinc-400">
            {description}
          </p>
        </div>

        {/* REJILLA CONFIGURABLE */}
        <div className={`grid grid-cols-1 md:grid-cols-2 ${gridClass} gap-8`}>
          {products.map((product) => {
            // Pasamos 't' para que el estado se traduzca
            const status = getStatusConfig(product.status, t)
            const StatusIcon = status.icon
            
            const iconUrl = typeof product.logo === 'object' && product.logo?.url 
              ? product.logo.url 
              : null
            
            // Construimos la URL localizada
            const detailUrl = `/${locale}/products/${product.slug}`

            return (
              <div 
                key={product.id} 
                className="group relative flex flex-col rounded-2xl border border-zinc-800 bg-zinc-900/50 p-6 backdrop-blur-sm transition-all hover:border-cyan-500/50 hover:bg-zinc-900 hover:shadow-[0_0_40px_-10px_rgba(6,182,212,0.15)]"
              >
                {/* Enlace Maestro */}
                <Link 
                    href={detailUrl} 
                    className="absolute inset-0 z-10 rounded-2xl focus:outline-none focus:ring-2 focus:ring-cyan-500 focus:ring-offset-2 focus:ring-offset-black"
                    aria-label={`Ver detalles de ${product.name}`}
                />

                <div className="flex items-start justify-between mb-6 pointer-events-none">
                  <div className="flex h-12 w-12 items-center justify-center rounded-xl bg-zinc-800 border border-zinc-700 group-hover:border-cyan-500/30 group-hover:bg-cyan-500/10 transition-colors">
                      {iconUrl ? (
                        <div className="relative w-8 h-8">
                            <Image src={iconUrl} alt="logo" fill className="object-contain" />
                        </div>
                      ) : (
                        <Rocket className="h-6 w-6 text-zinc-400 group-hover:text-cyan-400" />
                      )}
                  </div>

                  <Badge variant="outline" className={`${status.color} capitalize flex gap-1.5`}>
                    <StatusIcon className="w-3 h-3" />
                    {status.label}
                  </Badge>
                </div>

                <h3 className="text-xl font-bold text-white group-hover:text-cyan-400 transition-colors mb-2 pointer-events-none">
                  {product.name}
                </h3>

                <p className="text-zinc-400 text-sm leading-relaxed mb-6 flex-1 pointer-events-none">
                  {product.shortDescription}
                </p>

                <div className="mt-auto pt-6 border-t border-zinc-800/50 flex items-center justify-between">
                  <div className="flex gap-2 flex-wrap pointer-events-none">
                    {product.technologies?.slice(0,3).map((tech, i) => (
                      <span key={i} className="text-xs font-mono text-zinc-500 bg-zinc-900 px-1.5 py-0.5 rounded border border-zinc-800">
                        {tech.name}
                      </span>
                    ))}
                  </div>
                  
                  {product.projectUrl && (
                    <div className="relative z-20">
                        <Button asChild size="sm" variant="ghost" className="text-cyan-400 hover:text-cyan-300 hover:bg-cyan-950 p-0 h-auto font-semibold ml-2">
                        <a href={product.projectUrl} target="_blank" rel="noopener noreferrer">
                            {t('visitWebsite')} <ArrowUpRight className="ml-1 w-4 h-4" />
                        </a>
                        </Button>
                    </div>
                  )}
                </div>
              </div>
            )
          })}
        </div>
      </div>
    </section>
  )
}

// =============== FIN ARCHIVO [66]: src/components/sections/Products.tsx =============== //

// =============== INICIO ARCHIVO [67]: src/components/sections/Testimonials.tsx =============== //
import React from 'react'
import Image from 'next/image'
import { Quote } from 'lucide-react'
import type { Media } from '@/payload-types'

// Definimos la estructura de un testimonio
export interface TestimonialItem {
  id?: string | null
  authorName: string
  authorRole: string
  companyName: string
  quote: string
  authorImage?: (Media | number) | null
}

interface TestimonialsProps {
  testimonials?: TestimonialItem[] | null
  title?: string
  subtitle?: string
}

export function Testimonials({ 
  testimonials, 
  title = "Confianza que se construye con c√≥digo",
  subtitle = "Lo que dicen los l√≠deres t√©cnicos que ya escalan con nuestra arquitectura."
}: TestimonialsProps) {
  
  if (!testimonials || testimonials.length === 0) return null

  // CORRECCI√ìN: A√±adimos 'aggregateRating' para satisfacer a Google
  const reviewsJsonLd = {
    '@context': 'https://schema.org',
    '@type': 'Organization',
    name: 'OHCodex',
    url: 'https://www.ohcodex.com',
    // Bloque obligatorio agregado
    aggregateRating: {
      '@type': 'AggregateRating',
      ratingValue: '5', // Asumimos 5 ya que todos los testimonios destacados suelen serlo
      reviewCount: testimonials.length.toString(),
      bestRating: '5',
      worstRating: '1'
    },
    // Lista de rese√±as individuales
    review: testimonials.map((t) => ({
      '@type': 'Review',
      author: {
        '@type': 'Person',
        name: t.authorName,
      },
      reviewBody: t.quote,
      reviewRating: {
        '@type': 'Rating',
        ratingValue: '5',
        bestRating: '5',
        worstRating: '1' // Recomendado a√±adir el peor escenario
      },
    })),
  }

  return (
    <section className="bg-black py-24 border-b border-white/5 relative overflow-hidden">
      {/* Inyecci√≥n de datos para Google */}
      <script
        type="application/ld+json"
        dangerouslySetInnerHTML={{ __html: JSON.stringify(reviewsJsonLd) }}
      />

      {/* Decoraci√≥n de fondo */}
      <div className="absolute left-0 top-1/2 -translate-y-1/2 -ml-20 h-[400px] w-[400px] rounded-full bg-cyan-900/10 blur-[100px] pointer-events-none" />

      <div className="container px-4 mx-auto relative z-10">
        <div className="text-center max-w-2xl mx-auto mb-16">
          <h2 className="text-3xl font-bold tracking-tight text-white sm:text-4xl mb-4">
            {title.split(' ').slice(0, -1).join(' ')}{' '}
            <span className="text-cyan-500">
              {title.split(' ').slice(-1)}
            </span>
          </h2>
          <p className="text-lg text-zinc-400">
            {subtitle}
          </p>
        </div>

        <div className="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8">
          {testimonials.map((item, i) => {
            const imageUrl = typeof item.authorImage === 'object' && item.authorImage?.url 
              ? item.authorImage.url 
              : null

            return (
              <div 
                key={item.id || i} 
                className="flex flex-col justify-between rounded-2xl border border-zinc-800 bg-zinc-900/30 p-8 hover:border-cyan-500/20 transition-colors"
              >
                <div>
                  <Quote className="h-8 w-8 text-cyan-500/50 mb-6" />
                  <p className="text-zinc-300 text-lg leading-relaxed italic mb-8">
                    &quot;{item.quote}&quot;
                  </p>
                </div>

                <div className="flex items-center gap-4">
                  <div className="relative h-12 w-12 shrink-0 rounded-full overflow-hidden bg-zinc-800 border border-zinc-700">
                    {imageUrl ? (
                      <Image 
                        src={imageUrl} 
                        alt={item.authorName} 
                        fill 
                        className="object-cover" 
                      />
                    ) : (
                      <div className="h-full w-full flex items-center justify-center text-zinc-500 font-bold text-xl">
                        {item.authorName.charAt(0)}
                      </div>
                    )}
                  </div>
                  <div>
                    <h4 className="font-bold text-white text-sm">
                      {item.authorName}
                    </h4>
                    <p className="text-zinc-500 text-xs">
                      {item.authorRole} en <span className="text-cyan-500">{item.companyName}</span>
                    </p>
                  </div>
                </div>
              </div>
            )
          })}
        </div>
      </div>
    </section>
  )
}

// =============== FIN ARCHIVO [67]: src/components/sections/Testimonials.tsx =============== //

// =============== INICIO ARCHIVO [68]: src/components/sections/TrustBar.tsx =============== //
import React from 'react'
import Image from 'next/image'
import type { Media } from '@/payload-types'

interface TrustBarProps {
  logos?: (Media | number)[] | null
  title?: string
}

export function TrustBar({ logos, title = "Tecnolog√≠as que impulsan nuestros productos" }: TrustBarProps) {
  // Si no hay logos, no renderizamos nada para no dejar un hueco vac√≠o
  if (!logos || logos.length === 0) return null

  return (
    <section className="border-b border-white/5 bg-black py-10">
      <div className="container px-4 mx-auto">
        <p className="text-center text-sm font-mono text-zinc-600 mb-8 uppercase tracking-widest">
          {title}
        </p>
        
        <div className="flex flex-wrap justify-center items-center gap-x-12 gap-y-8 opacity-60 hover:opacity-100 transition-opacity duration-500">
          {logos.map((logo, index) => {
            // Verificaci√≥n de tipo segura para Payload
            if (typeof logo === 'number') return null
            const url = logo.url
            const alt = logo.alt || 'Logo tecnol√≥gico'

            if (!url) return null

            return (
              <div key={index} className="relative h-8 w-auto min-w-[100px] grayscale hover:grayscale-0 transition-all duration-300">
                <Image
                  src={url}
                  alt={alt}
                  height={40}
                  width={120}
                  className="h-full w-auto object-contain object-center brightness-200 invert-0" // Efecto para que se vean bien sobre negro
                />
              </div>
            )
          })}
        </div>
      </div>
    </section>
  )
}

// =============== FIN ARCHIVO [68]: src/components/sections/TrustBar.tsx =============== //

// =============== INICIO ARCHIVO [69]: src/components/shared/AdSlot.tsx =============== //
import React from 'react'
import { cn } from '@/lib/utils'

interface AdSlotProps {
  position: 'top' | 'sidebar' | 'bottom'
  className?: string
}

export function AdSlot({ position, className }: AdSlotProps) {
  const sizes = {
    top: 'h-[90px] w-[728px] max-w-full',
    sidebar: 'h-[250px] w-[300px]',
    bottom: 'h-[90px] w-[728px] max-w-full'
  }

  return (
    <div
      className={cn(
        'bg-zinc-900/50 border-2 border-dashed border-zinc-700 rounded-lg flex items-center justify-center',
        sizes[position],
        className
      )}
      role="complementary"
      aria-label={`Advertisement ${position}`}
    >
      <div className="text-center text-zinc-500">
        <p className="text-sm font-medium">Publicidad</p>
        <p className="text-xs text-zinc-600">
          {position === 'top' && 'Leaderboard 728x90'}
          {position === 'sidebar' && 'Rectangle 300x250'}
          {position === 'bottom' && 'Leaderboard 728x90'}
        </p>
      </div>
    </div>
  )
}

// =============== FIN ARCHIVO [69]: src/components/shared/AdSlot.tsx =============== //

// =============== INICIO ARCHIVO [70]: src/components/shared/Breadcrumbs.tsx =============== //
"use client" // üëà ESTA ES LA L√çNEA QUE FALTA

import React from 'react'
import Link from 'next/link'
import { ChevronRight, Home } from 'lucide-react'
import { cn } from '@/lib/utils'
import { usePathname } from 'next/navigation'

interface BreadcrumbItem {
  label: string
  href?: string
}

interface BreadcrumbsProps {
  items: BreadcrumbItem[]
  className?: string
}

export function Breadcrumbs({ items, className }: BreadcrumbsProps) {
  const pathname = usePathname()
  // Extraer el idioma de la URL (ej: /es/tools -> 'es')
  const locale = pathname.split('/')[1] || 'es'

  return (
    <nav
      className={cn('flex items-center space-x-2 text-sm text-muted-foreground py-4', className)}
      aria-label="Breadcrumb"
    >
      <Link
        href={`/${locale}`}
        className="hover:text-foreground transition-colors flex items-center"
        aria-label="Home"
      >
        <Home className="w-4 h-4" />
      </Link>

      {items.map((item, index) => (
        <React.Fragment key={index}>
          <ChevronRight className="w-4 h-4 flex-shrink-0" />
          {item.href ? (
            <Link
              href={`/${locale}${item.href}`}
              className={cn(
                'hover:text-foreground transition-colors',
                index === items.length - 1 && 'text-foreground font-medium'
              )}
            >
              {item.label}
            </Link>
          ) : (
            <span className={cn(index === items.length - 1 && 'text-foreground font-medium')}>
              {item.label}
            </span>
          )}
        </React.Fragment>
      ))}
    </nav>
  )
}

// =============== FIN ARCHIVO [70]: src/components/shared/Breadcrumbs.tsx =============== //

// =============== INICIO ARCHIVO [71]: src/components/shared/CrossSellBanner.tsx =============== //
import React from 'react'
import { Button } from '@/components/ui/button'
import { Card, CardContent } from '@/components/ui/card'
import { ArrowRight, Code, Zap, Shield } from 'lucide-react'
import { useTranslations } from 'next-intl'

export function CrossSellBanner() {
  const t = useTranslations('crossSell')

  return (
    <Card className="bg-gradient-to-r from-cyan-500/10 to-blue-500/10 border-cyan-500/20 overflow-hidden">
      <CardContent className="p-8">
        <div className="flex flex-col lg:flex-row items-center gap-8">
          {/* Text Content */}
          <div className="flex-1 text-center lg:text-left">
            <h3 className="text-2xl md:text-3xl font-bold mb-4 text-foreground">
              {t('title')}
            </h3>
            <p className="text-muted-foreground text-lg mb-6">
              {t('description')}
            </p>

            <div className="flex flex-wrap gap-4 justify-center lg:justify-start mb-6">
              <div className="flex items-center gap-2 text-sm text-cyan-400">
                <Zap className="w-4 h-4" />
                <span>{t('common.ultraFast')}</span>
              </div>
              <div className="flex items-center gap-2 text-sm text-cyan-400">
                <Shield className="w-4 h-4" />
                <span>{t('common.secure')}</span>
              </div>
              <div className="flex items-center gap-2 text-sm text-cyan-400">
                <Code className="w-4 h-4" />
                <span>{t('common.scalable')}</span>
              </div>
            </div>

            <Button
              size="lg"
              className="bg-cyan-600 hover:bg-cyan-500 text-white"
              asChild
            >
              <a href="https://ohcodex.com" target="_blank" rel="noopener noreferrer">
                {t('requestQuote')} <ArrowRight className="ml-2 w-5 h-5" />
              </a>
            </Button>
          </div>

          {/* Visual Element */}
          <div className="hidden lg:block w-64 h-48 relative">
            <div className="absolute inset-0 bg-gradient-to-br from-cyan-500/20 to-blue-500/20 rounded-lg" />
            <div className="absolute inset-0 flex items-center justify-center">
              <div className="text-center">
                <div className="text-6xl font-bold text-cyan-400">OHC</div>
                <div className="text-sm text-muted-foreground">ODEX</div>
              </div>
            </div>
          </div>
        </div>
      </CardContent>
    </Card>
  )
}

// =============== FIN ARCHIVO [71]: src/components/shared/CrossSellBanner.tsx =============== //

// =============== INICIO ARCHIVO [72]: src/components/shared/LanguageSwitcher.tsx =============== //
// =============== INICIO ARCHIVO: src/components/shared/LanguageSwitcher.tsx =============== //
'use client'

import { useLocale } from 'next-intl'
import { usePathname, useRouter } from 'next/navigation'
import { Select, SelectContent, SelectItem, SelectTrigger, SelectValue } from '@/components/ui/select'
import { Globe, Loader2 } from 'lucide-react'
import { useState, useTransition } from 'react'
import { getTranslatedSlug } from '@/app/actions/get-translated-slug'

export function LanguageSwitcher() {
  const locale = useLocale()
  const router = useRouter()
  const pathname = usePathname()
  const [isPending, startTransition] = useTransition()
  const [isLoading, setIsLoading] = useState(false)

  const onSelectChange = async (nextLocale: string) => {
    setIsLoading(true)
    
    // 1. Analizar la ruta actual
    // Ej: /es/products/mi-producto -> ['', 'es', 'products', 'mi-producto']
    const segments = pathname.split('/')
    const collectionSegment = segments[2] // 'products', 'blog', 'tools'
    const slugSegment = segments[3]

    let nextPath = pathname.replace(`/${locale}`, `/${nextLocale}`)

    // 2. Si estamos en una ruta din√°mica, buscar el slug traducido
    if (slugSegment && ['products', 'blog', 'tools'].includes(collectionSegment)) {
      const collectionMap: Record<string, 'products' | 'posts' | 'tools'> = {
        'products': 'products',
        'blog': 'posts',
        'tools': 'tools'
      }

      const collection = collectionMap[collectionSegment]
      
      if (collection) {
        try {
          const translatedSlug = await getTranslatedSlug(collection, slugSegment, nextLocale)
          if (translatedSlug) {
            // Reemplazamos el slug antiguo por el nuevo en la ruta
            nextPath = `/${nextLocale}/${collectionSegment}/${translatedSlug}`
          }
        } catch (e) {
          console.error('Error traduciendo slug, usando fallback', e)
        }
      }
    }

    // 3. Navegar
    startTransition(() => {
      router.push(nextPath)
      setIsLoading(false)
    })
  }

  return (
    <Select defaultValue={locale} onValueChange={onSelectChange} disabled={isPending || isLoading}>
      <SelectTrigger className="w-[140px] bg-transparent border-zinc-800 text-zinc-400 hover:text-white focus:ring-0 focus:ring-offset-0">
        <div className="flex items-center gap-2">
          {isLoading ? <Loader2 className="h-4 w-4 animate-spin" /> : <Globe className="h-4 w-4" />}
          <SelectValue placeholder="Idioma" />
        </div>
      </SelectTrigger>
      <SelectContent className="bg-black border-zinc-800 text-zinc-400">
        <SelectItem value="es" className="focus:bg-zinc-900 focus:text-white cursor-pointer">
          Espa√±ol
        </SelectItem>
        <SelectItem value="en" className="focus:bg-zinc-900 focus:text-white cursor-pointer">
          English
        </SelectItem>
        <SelectItem value="fr" className="focus:bg-zinc-900 focus:text-white cursor-pointer">
          Fran√ßais
        </SelectItem>
        <SelectItem value="de" className="focus:bg-zinc-900 focus:text-white cursor-pointer">
          Deutsch
        </SelectItem>
        <SelectItem value="it" className="focus:bg-zinc-900 focus:text-white cursor-pointer">
          Italiano
        </SelectItem>
        <SelectItem value="pt" className="focus:bg-zinc-900 focus:text-white cursor-pointer">
          Portugu√™s
        </SelectItem>
      </SelectContent>
    </Select>
  )
}
// =============== FIN ARCHIVO: src/components/shared/LanguageSwitcher.tsx =============== //

// =============== FIN ARCHIVO [72]: src/components/shared/LanguageSwitcher.tsx =============== //

// =============== INICIO ARCHIVO [73]: src/components/tools/data-station/DataStationTool.tsx =============== //
'use client'

import React, { useState } from 'react'
import { Button } from '@/components/ui/button'
import { Card, CardContent } from '@/components/ui/card'
import { Tabs, TabsList, TabsTrigger } from '@/components/ui/tabs'
import { Label } from '@/components/ui/label'
import { Select, SelectContent, SelectItem, SelectTrigger, SelectValue } from '@/components/ui/select'
import { Code, Copy, FileJson, FileText, Database, Eraser, Play, Wand2, ArrowRight } from 'lucide-react'
import Editor from '@monaco-editor/react'
import { formatJSON, minifyJSON, validateJSON, jsonToCSV, csvToJSON, formatSQL } from '@/lib/engines/data-engine'
import { toast } from 'sonner'
import { useTranslations } from 'next-intl'

// --- DATOS DE EJEMPLO PARA LA DEMO ---
const SAMPLE_JSON = JSON.stringify([
  { "id": 1, "name": "OHCodex User", "role": "Admin", "active": true },
  { "id": 2, "name": "Guest User", "role": "Viewer", "active": false }
], null, 2)

const SAMPLE_SQL = `SELECT id, email, created_at FROM users WHERE active = 1 AND role = 'admin' ORDER BY created_at DESC;`

export function DataStationTool() {
  const t = useTranslations('tools.data-station')
  const tCommon = useTranslations('common.buttons')
  
  const [activeTab, setActiveTab] = useState<'json' | 'convert' | 'sql'>('json')
  const [input, setInput] = useState('')
  const [output, setOutput] = useState('')
  const [indent, setIndent] = useState(2)

  // Funci√≥n para cargar datos de ejemplo seg√∫n la pesta√±a
  const loadSample = () => {
    if (activeTab === 'json') {
      setInput(SAMPLE_JSON)
      toast.success(t('jsonValid')) // Reutilizamos un mensaje gen√©rico o creamos uno nuevo
    } else if (activeTab === 'sql') {
      setInput(SAMPLE_SQL)
      toast.success(t('sqlFormatted')) // Reutilizamos mensaje
    } else {
      setInput(SAMPLE_JSON) // Para convertir usamos JSON como base
      toast.success(t('jsonValid'))
    }
  }

  const handleFormatJSON = () => {
    if (!input.trim()) return
    try {
      const formatted = formatJSON(input, indent)
      setOutput(formatted)
      toast.success(t('jsonFormatted'))
    } catch (error) {
      toast.error(t('invalidJson'))
    }
  }

  const handleMinifyJSON = () => {
    if (!input.trim()) return
    try {
      const minified = minifyJSON(input)
      setOutput(minified)
      toast.success(t('jsonMinified'))
    } catch (error) {
      toast.error(t('invalidJson'))
    }
  }

  const handleValidateJSON = () => {
    if (!input.trim()) return
    const result = validateJSON(input)
    if (result.valid) {
      toast.success(t('jsonValid'))
      setOutput('‚úì ' + t('jsonValid'))
    } else {
      toast.error(t('jsonInvalid', { error: result.error }))
      setOutput('‚úó ' + t('jsonInvalid', { error: result.error }))
    }
  }

  const handleConvertJSONtoCSV = () => {
    if (!input.trim()) return
    const result = jsonToCSV(input)
    if (result.success) {
      setOutput(result.data || '')
      toast.success(t('convertedToCsv'))
    } else {
      toast.error(result.error || t('conversionError'))
    }
  }

  const handleConvertCSVtoJSON = () => {
    if (!input.trim()) return
    const result = csvToJSON(input)
    if (result.success) {
      setOutput(result.data || '')
      toast.success(t('convertedToJson'))
    } else {
      toast.error(result.error || t('conversionError'))
    }
  }

  const handleFormatSQL = () => {
    if (!input.trim()) return
    try {
      const formatted = formatSQL(input, 'standard')
      setOutput(formatted)
      toast.success(t('sqlFormatted'))
    } catch (error) {
      toast.error(t('formatError'))
    }
  }

  const copyOutput = async () => {
    if (!output) return
    await navigator.clipboard.writeText(output)
    toast.success(tCommon('copy')) 
  }

  const handleClear = () => {
    setInput('')
    setOutput('')
  }

  return (
    <Card className="border-zinc-800 bg-zinc-950/50 backdrop-blur-xl shadow-2xl">
      <CardContent className="p-6">
        <Tabs value={activeTab} onValueChange={(v: any) => { setActiveTab(v); handleClear(); }} className="w-full">
          
          {/* TABS DE NAVEGACI√ìN */}
          <TabsList className="grid w-full grid-cols-3 mb-8 bg-zinc-900/50 border border-zinc-800 p-1">
            <TabsTrigger 
              value="json" 
              className="flex items-center gap-2 data-[state=active]:bg-cyan-950/30 data-[state=active]:text-cyan-400 data-[state=active]:border-cyan-900/50 transition-all"
            >
              <FileJson className="w-4 h-4" />
              {t('json')}
            </TabsTrigger>
            <TabsTrigger 
              value="convert" 
              className="flex items-center gap-2 data-[state=active]:bg-purple-950/30 data-[state=active]:text-purple-400 transition-all"
            >
              <FileText className="w-4 h-4" />
              {t('converter')}
            </TabsTrigger>
            <TabsTrigger 
              value="sql" 
              className="flex items-center gap-2 data-[state=active]:bg-orange-950/30 data-[state=active]:text-orange-400 transition-all"
            >
              <Database className="w-4 h-4" />
              {t('sql')}
            </TabsTrigger>
          </TabsList>

          {/* √ÅREA DE TRABAJO COM√öN */}
          <div className="grid lg:grid-cols-2 gap-6">
            
            {/* COLUMNA IZQUIERDA: INPUT */}
            <div className="space-y-4 flex flex-col h-full">
              <div className="flex items-center justify-between">
                <Label className="text-zinc-400 font-medium flex items-center gap-2">
                  <Play className="w-3 h-3 text-cyan-500" />
                  {/* TRADUCCI√ìN: Input Data */}
                  {activeTab === 'sql' ? t('inputSql') : t('inputData')}
                </Label>
                
                <div className="flex gap-2">
                  {/* BOT√ìN M√ÅGICO: CARGAR EJEMPLO (TRADUCIDO MANUALMENTE COMO PROVISIONAL O PODEMOS A√ëADIR CLAVE) */}
                  <Button 
                    variant="ghost" 
                    size="sm" 
                    onClick={loadSample}
                    className="h-7 text-xs text-cyan-400 hover:text-cyan-300 hover:bg-cyan-950/30"
                  >
                    <Wand2 className="w-3 h-3 mr-1.5" />
                    Sample
                  </Button>

                  {activeTab === 'json' && (
                    <Select value={String(indent)} onValueChange={(v: string) => setIndent(Number(v))}>
                      <SelectTrigger className="w-[100px] h-7 text-xs bg-zinc-900 border-zinc-700 text-zinc-300">
                        <SelectValue />
                      </SelectTrigger>
                      <SelectContent className="bg-zinc-900 border-zinc-700 text-white">
                        <SelectItem value="2">2 {t('spaces')}</SelectItem>
                        <SelectItem value="4">4 {t('spaces')}</SelectItem>
                      </SelectContent>
                    </Select>
                  )}
                </div>
              </div>

              <div className="relative flex-1 min-h-[400px] border border-zinc-800 rounded-xl overflow-hidden shadow-inner bg-[#1e1e1e]">
                <Editor
                  height="100%"
                  language={activeTab === 'sql' ? 'sql' : 'json'}
                  theme="vs-dark"
                  value={input}
                  onChange={(value) => setInput(value || '')}
                  options={{ 
                    minimap: { enabled: false }, 
                    fontSize: 13, 
                    padding: { top: 16 },
                    scrollBeyondLastLine: false,
                    fontFamily: "'Fira Code', monospace",
                  }}
                />
                {!input && (
                  <div className="absolute inset-0 flex items-center justify-center pointer-events-none p-4 text-center">
                    <p className="text-zinc-600 text-sm">
                      {/* TRADUCCI√ìN: Usamos una clave existente o texto gen√©rico */}
                      {t('inputJson').replace('JSON', 'Code')}...
                    </p>
                  </div>
                )}
              </div>

              {/* BARRA DE HERRAMIENTAS INFERIOR */}
              <div className="flex gap-2 pt-1">
                {activeTab === 'json' && (
                  <>
                    <Button onClick={handleFormatJSON} className="flex-1 bg-cyan-600 hover:bg-cyan-500 text-white shadow-lg shadow-cyan-900/20">
                      {t('format')}
                    </Button>
                    <Button onClick={handleMinifyJSON} variant="secondary" className="bg-zinc-800 text-zinc-300 hover:bg-zinc-700 hover:text-white">
                      {t('minify')}
                    </Button>
                    <Button onClick={handleValidateJSON} variant="outline" className="border-zinc-700 text-zinc-400 hover:bg-zinc-800">
                      {t('validate')}
                    </Button>
                  </>
                )}
                {activeTab === 'convert' && (
                  <>
                    <Button onClick={handleConvertJSONtoCSV} className="flex-1 bg-purple-600 hover:bg-purple-500 text-white">
                      JSON <ArrowRight className="w-3 h-3 mx-1" /> CSV
                    </Button>
                    <Button onClick={handleConvertCSVtoJSON} className="flex-1 bg-zinc-800 hover:bg-zinc-700 text-white">
                      CSV <ArrowRight className="w-3 h-3 mx-1" /> JSON
                    </Button>
                  </>
                )}
                {activeTab === 'sql' && (
                  <Button onClick={handleFormatSQL} className="w-full bg-orange-600 hover:bg-orange-500 text-white">
                    {t('formatSql')}
                  </Button>
                )}
                
                <Button onClick={handleClear} variant="ghost" size="icon" className="text-red-400 hover:bg-red-950/20 hover:text-red-300 ml-auto">
                  <Eraser className="w-4 h-4" />
                </Button>
              </div>
            </div>

            {/* COLUMNA DERECHA: OUTPUT */}
            <div className="space-y-4 flex flex-col h-full">
              <div className="flex items-center justify-between">
                <Label className="text-zinc-400 font-medium flex items-center gap-2">
                  <Code className="w-3 h-3 text-green-500" />
                  {/* TRADUCCI√ìN: Output */}
                  {t('output')}
                </Label>
                <Button 
                  size="sm" 
                  variant="ghost" 
                  onClick={copyOutput} 
                  disabled={!output} 
                  className="h-7 text-xs text-zinc-400 hover:text-white hover:bg-zinc-800"
                >
                  <Copy className="w-3 h-3 mr-1.5" />
                  {tCommon('copy')}
                </Button>
              </div>

              <div className="relative flex-1 min-h-[400px] border border-zinc-800 rounded-xl overflow-hidden bg-[#1e1e1e]">
                <Editor
                  height="100%"
                  language={activeTab === 'sql' ? 'sql' : 'json'}
                  theme="vs-dark"
                  value={output}
                  options={{ 
                    minimap: { enabled: false }, 
                    readOnly: true, 
                    fontSize: 13,
                    padding: { top: 16 },
                    fontFamily: "'Fira Code', monospace",
                  }}
                />
                {!output && (
                  <div className="absolute inset-0 flex items-center justify-center pointer-events-none">
                    <p className="text-zinc-700 text-sm italic">
                      ...
                    </p>
                  </div>
                )}
              </div>
            </div>

          </div>
        </Tabs>
      </CardContent>
    </Card>
  )
}

// =============== FIN ARCHIVO [73]: src/components/tools/data-station/DataStationTool.tsx =============== //

// =============== INICIO ARCHIVO [74]: src/components/tools/image-optimizer/ImageOptimizerTool.tsx =============== //
'use client'

import React, { useState, useCallback } from 'react'
import { Button } from '@/components/ui/button'
import { Card, CardContent, CardHeader, CardTitle } from '@/components/ui/card'
import { Slider } from '@/components/ui/slider'
import { Select, SelectContent, SelectItem, SelectTrigger, SelectValue } from '@/components/ui/select'
import { Switch } from '@/components/ui/switch'
import { Label } from '@/components/ui/label'
import { Progress } from '@/components/ui/progress'
import JSZip from 'jszip'
import { Upload, Download, Image as ImageIcon, CheckCircle2, Zap, FileArchive, ArrowRight, Settings2, Trash2 } from 'lucide-react'
import { processBatch, formatFileSize, calculateReduction } from '@/lib/engines/image-engine'
import { useTranslations } from 'next-intl'
import { toast } from 'sonner'
import { Badge } from '@/components/ui/badge'

export function ImageOptimizerTool() {
  const t = useTranslations('tools.image-optimizer')
  const tCommon = useTranslations('common.buttons')
  
  const [files, setFiles] = useState<File[]>([])
  const [results, setResults] = useState<Array<{ original: File; processed: any }>>([])
  const [processing, setProcessing] = useState(false)
  const [progress, setProgress] = useState(0)

  // Configuraci√≥n
  const [quality, setQuality] = useState([80])
  const [format, setFormat] = useState<'image/webp' | 'image/jpeg' | 'image/png'>('image/webp')
  const [maxWidth, setMaxWidth] = useState<number>(1920)
  const [resizeEnabled, setResizeEnabled] = useState(false)

  const handleFiles = useCallback((selectedFiles: FileList | null) => {
    if (!selectedFiles) return
    const imageFiles = Array.from(selectedFiles).filter(f => 
      f.type.startsWith('image/') || 
      f.name.toLowerCase().endsWith('.heic') || 
      f.name.toLowerCase().endsWith('.heif')
    )
    
    if (imageFiles.length === 0) {
      toast.error('Formato no soportado. Usa JPG, PNG o HEIC.')
      return
    }

    if (results.length > 0) {
        setResults([])
        setFiles(imageFiles)
    } else {
        setFiles(prev => [...prev, ...imageFiles])
    }
    toast.success(t('imagesSelected', { count: imageFiles.length }))
  }, [results.length, t])

  const handleDrop = useCallback((e: React.DragEvent) => {
    e.preventDefault()
    e.stopPropagation()
    handleFiles(e.dataTransfer.files)
  }, [handleFiles])

  const handleProcess = async () => {
    if (files.length === 0) return

    setProcessing(true)
    setProgress(0)

    try {
      const processedImages = await processBatch(
        files,
        {
          maxWidth: resizeEnabled ? maxWidth : undefined,
          quality: quality[0] / 100,
          format,
          stripExif: true
        },
        (current, total) => {
          setProgress((current / total) * 100)
        }
      )

      const newResults = processedImages.map((processed, index) => ({
        original: files[index],
        processed
      }))

      setResults(newResults)
      toast.success(t('processedSuccess', { count: processedImages.length }))
    } catch (error) {
      console.error(error)
      toast.error(t('processingError'))
    } finally {
      setProcessing(false)
      setProgress(100)
    }
  }

  const downloadImage = (result: any) => {
    const url = URL.createObjectURL(result.processed.blob)
    const a = document.createElement('a')
    a.href = url
    const ext = format === 'image/webp' ? 'webp' : format === 'image/jpeg' ? 'jpg' : 'png'
    a.download = `${result.original.name.split('.')[0]}_optimized.${ext}`
    a.click()
    URL.revokeObjectURL(url)
  }

  const handleDownloadAll = async () => {
    if (results.length === 0) return

    try {
      const zip = new JSZip()
      results.forEach((result) => {
        const ext = format === 'image/webp' ? 'webp' : format === 'image/jpeg' ? 'jpg' : 'png'
        const fileName = `${result.original.name.split('.')[0]}_optimized.${ext}`
        zip.file(fileName, result.processed.blob)
      })

      const content = await zip.generateAsync({ type: 'blob' })
      const url = URL.createObjectURL(content)
      const a = document.createElement('a')
      a.href = url
      a.download = 'optimized_images_ohcodex.zip'
      a.click()
      URL.revokeObjectURL(url)
      toast.success('ZIP generado')
    } catch (error) {
      console.error(error)
      toast.error('Error al crear ZIP')
    }
  }

  const clearAll = () => {
    setFiles([])
    setResults([])
    setProgress(0)
  }

  return (
    <div className="grid lg:grid-cols-12 gap-8">
      
      {/* 1. PANEL LATERAL DE AJUSTES */}
      <div className="lg:col-span-4 space-y-6 order-2 lg:order-1">
        <Card className="border-zinc-800 bg-zinc-900/50 backdrop-blur-xl sticky top-24">
          <CardHeader className="border-b border-zinc-800 pb-4">
            <CardTitle className="text-white flex items-center gap-2 text-lg">
              <Settings2 className="w-5 h-5 text-cyan-500" />
              {t('settings')}
            </CardTitle>
          </CardHeader>
          <CardContent className="space-y-6 pt-6">
            
            {/* Formato */}
            <div className="space-y-3">
              <Label className="text-zinc-300 font-medium">{t('outputFormat')}</Label>
              <Select value={format} onValueChange={(v: any) => setFormat(v)}>
                <SelectTrigger className="bg-black border-zinc-700 text-white h-10">
                  <SelectValue />
                </SelectTrigger>
                <SelectContent className="bg-zinc-900 border-zinc-700 text-white">
                  {/* TRADUCCIONES */}
                  <SelectItem value="image/webp">WebP (Recomendado)</SelectItem>
                  <SelectItem value="image/jpeg">JPEG</SelectItem>
                  <SelectItem value="image/png">PNG</SelectItem>
                </SelectContent>
              </Select>
            </div>

            {/* Calidad */}
            <div className="space-y-4">
              <div className="flex justify-between items-center">
                <Label className="text-zinc-300 font-medium">{t('quality')}</Label>
                <Badge variant="outline" className="bg-zinc-950 text-cyan-400 border-cyan-900">{quality[0]}%</Badge>
              </div>
              <Slider value={quality} onValueChange={setQuality} min={10} max={100} step={5} className="py-2 cursor-pointer" />
              {/* TRADUCCI√ìN: texto explicativo */}
              <p className="text-xs text-zinc-500">Menor calidad = Menor peso</p>
            </div>

            {/* Redimensionar */}
            <div className="space-y-4 pt-2 border-t border-zinc-800/50">
              <div className="flex items-center justify-between">
                <Label htmlFor="resize" className="text-zinc-300 font-medium cursor-pointer">{t('resize')}</Label>
                <Switch id="resize" checked={resizeEnabled} onCheckedChange={setResizeEnabled} />
              </div>
              {resizeEnabled && (
                <div className="space-y-2 animate-in fade-in slide-in-from-top-2">
                  <div className="flex justify-between text-xs text-zinc-400 mb-1">
                    {/* TRADUCCI√ìN */}
                    <span>{t('maxWidth')}</span>
                    <span>{maxWidth}px</span>
                  </div>
                  <Slider value={[maxWidth]} onValueChange={([v]) => setMaxWidth(v)} min={500} max={3840} step={100} />
                </div>
              )}
            </div>

            {/* Bot√≥n de Acci√≥n Principal */}
            <Button 
                onClick={handleProcess} 
                disabled={processing || files.length === 0} 
                className="w-full h-12 bg-cyan-600 hover:bg-cyan-500 text-white font-bold text-base shadow-lg shadow-cyan-900/20"
            >
              {processing ? (
                <span className="flex items-center gap-2">
                    <Zap className="w-4 h-4 animate-pulse" /> {t('processing')}
                </span>
              ) : (
                <span className="flex items-center gap-2">
                    <Zap className="w-4 h-4" /> {t('processAll')}
                </span>
              )}
            </Button>

            {/* Aviso Privacidad */}
            <div className="bg-green-950/20 border border-green-900/30 rounded-lg p-3 flex gap-3 items-start">
              <CheckCircle2 className="w-4 h-4 text-green-500 shrink-0 mt-0.5" />
              <p className="text-xs text-green-200/80 leading-relaxed">
                {t('privacyAlert')}
              </p>
            </div>

          </CardContent>
        </Card>
      </div>

      {/* 2. ZONA DE TRABAJO PRINCIPAL */}
      <div className="lg:col-span-8 space-y-6 order-1 lg:order-2">
        
        {/* Dropzone */}
        {results.length === 0 && (
            <div
                className={`border-2 border-dashed rounded-xl p-12 text-center transition-all duration-300 h-[300px] flex flex-col items-center justify-center ${
                files.length > 0 
                    ? 'border-cyan-500 bg-cyan-950/5' 
                    : 'border-zinc-700 bg-zinc-900/30 hover:border-cyan-500/50 hover:bg-zinc-900 cursor-pointer'
                }`}
                onDragOver={(e) => {
                    e.preventDefault()
                    e.currentTarget.classList.add('border-cyan-500', 'bg-cyan-950/10')
                }}
                onDragLeave={(e) => {
                    e.preventDefault()
                    e.currentTarget.classList.remove('border-cyan-500', 'bg-cyan-950/10')
                }}
                onDrop={handleDrop}
                onClick={() => document.getElementById('file-input')?.click()}
            >
                <input
                    id="file-input"
                    type="file"
                    multiple
                    accept="image/*,.heic,.heif"
                    className="hidden"
                    onChange={(e) => handleFiles(e.target.files)}
                />
                
                {files.length === 0 ? (
                    <div className="space-y-4 group">
                        <div className="w-20 h-20 bg-zinc-800 rounded-full flex items-center justify-center mx-auto group-hover:scale-110 transition-transform duration-300 group-hover:bg-zinc-700">
                            <Upload className="w-10 h-10 text-zinc-400 group-hover:text-white" />
                        </div>
                        <div>
                            {/* TRADUCCI√ìN: dragImages */}
                            <p className="text-xl font-medium text-white mb-2">{t('dragImages')}</p>
                            <p className="text-zinc-500 text-sm">JPG, PNG, WebP, HEIC (iPhone)</p>
                        </div>
                    </div>
                ) : (
                    <div className="space-y-4 animate-in zoom-in-95 duration-300">
                        <div className="w-20 h-20 bg-cyan-950/30 border border-cyan-500/30 rounded-full flex items-center justify-center mx-auto">
                            <ImageIcon className="w-10 h-10 text-cyan-400" />
                        </div>
                        <div>
                            <p className="text-xl font-medium text-white mb-1">{t('imagesSelected', { count: files.length })}</p>
                            <p className="text-zinc-400 text-sm">...</p>
                        </div>
                    </div>
                )}
            </div>
        )}

        {/* Barra de Progreso */}
        {processing && (
          <div className="space-y-2 bg-zinc-900 p-4 rounded-lg border border-zinc-800 animate-in fade-in">
            <div className="flex justify-between text-sm">
              <span className="text-cyan-400 font-medium">{t('processing')}</span>
              <span className="text-zinc-400">{Math.round(progress)}%</span>
            </div>
            <Progress value={progress} className="h-2 bg-zinc-800" />
          </div>
        )}

        {/* Resultados */}
        {results.length > 0 && (
          <div className="space-y-4 animate-in slide-in-from-bottom-4">
            <div className="flex items-center justify-between mb-2">
                <h3 className="text-xl font-bold text-white">{t('results')}</h3>
                <div className="flex gap-2">
                    <Button variant="ghost" size="sm" onClick={clearAll} className="text-zinc-400 hover:text-white">
                        <Trash2 className="w-4 h-4 mr-2" /> {tCommon('clear')}
                    </Button>
                    <Button onClick={handleDownloadAll} className="bg-white text-black hover:bg-zinc-200 font-semibold">
                        <FileArchive className="w-4 h-4 mr-2" />
                        ZIP
                    </Button>
                </div>
            </div>

            <div className="grid gap-3">
              {results.map((result, index) => {
                const reduction = calculateReduction(result.original.size, result.processed.processedSize)
                const isPositive = reduction > 0

                return (
                  <div key={index} className="flex flex-col sm:flex-row items-center justify-between p-4 rounded-xl bg-zinc-900/50 border border-zinc-800 hover:bg-zinc-900 transition-colors gap-4">
                    
                    {/* Info Archivo */}
                    <div className="flex items-center gap-4 w-full sm:w-auto">
                      <div className="w-12 h-12 rounded-lg bg-black/50 border border-zinc-800 flex items-center justify-center shrink-0">
                        <ImageIcon className="w-6 h-6 text-zinc-600" />
                      </div>
                      <div className="min-w-0">
                        <p className="text-white font-medium truncate max-w-[200px]" title={result.original.name}>
                            {result.original.name}
                        </p>
                        <div className="flex items-center gap-2 text-xs text-zinc-500 mt-1">
                            <span className="bg-zinc-800 px-1.5 py-0.5 rounded text-zinc-400">
                                {formatFileSize(result.original.size)}
                            </span>
                            <ArrowRight className="w-3 h-3" />
                            <span className="bg-cyan-950/30 text-cyan-400 px-1.5 py-0.5 rounded border border-cyan-900/30">
                                {formatFileSize(result.processed.processedSize)}
                            </span>
                        </div>
                      </div>
                    </div>

                    {/* Badge Ahorro y Bot√≥n */}
                    <div className="flex items-center gap-4 w-full sm:w-auto justify-between sm:justify-end">
                        <Badge className={`h-8 px-3 text-sm ${isPositive ? 'bg-green-500/10 text-green-400 border-green-500/20' : 'bg-zinc-800 text-zinc-400'}`}>
                            {isPositive ? `-${reduction}%` : '0%'}
                        </Badge>
                        
                        <Button size="sm" onClick={() => downloadImage(result)} variant="outline" className="border-zinc-700 bg-transparent text-white hover:bg-zinc-800">
                            <Download className="w-4 h-4 mr-2" />
                            {t('download')}
                        </Button>
                    </div>
                  </div>
                )
              })}
            </div>
          </div>
        )}
      </div>
    </div>
  )
}

// =============== FIN ARCHIVO [74]: src/components/tools/image-optimizer/ImageOptimizerTool.tsx =============== //

// =============== INICIO ARCHIVO [75]: src/components/tools/ocr/OCRTool.tsx =============== //
'use client'

import React, { useState, useRef } from 'react'
import { Button } from '@/components/ui/button'
import { Card, CardContent } from '@/components/ui/card'
import { Select, SelectContent, SelectItem, SelectTrigger, SelectValue } from '@/components/ui/select'
import { Textarea } from '@/components/ui/textarea'
import { Progress } from '@/components/ui/progress'
import { Badge } from '@/components/ui/badge'
import { Upload, FileText, Copy, Download, RefreshCw, ScanLine, Image as ImageIcon, Languages, Trash2 } from 'lucide-react'
import { recognizeText, OCRLanguage } from '@/lib/engines/ocr-engine'
import { useTranslations } from 'next-intl'
import { toast } from 'sonner'
import Image from 'next/image'

export function OCRTool() {
  const t = useTranslations('tools.ocr-vision')
  const tCommon = useTranslations('common.buttons')

  const [image, setImage] = useState<string | null>(null)
  const [text, setText] = useState('')
  const [isProcessing, setIsProcessing] = useState(false)
  const [progress, setProgress] = useState(0)
  const [language, setLanguage] = useState<OCRLanguage>('spa') // Por defecto espa√±ol
  
  const fileInputRef = useRef<HTMLInputElement>(null)

  const handleFileUpload = (e: React.ChangeEvent<HTMLInputElement>) => {
    const file = e.target.files?.[0]
    if (file) {
      const url = URL.createObjectURL(file)
      setImage(url)
      setText('')
      setProgress(0)
    }
  }

  const handleProcess = async () => {
    if (!image) return

    setIsProcessing(true)
    setProgress(0)
    setText('')

    try {
      // Llamamos al motor que creamos en el paso anterior
      const result = await recognizeText(image, language, (prog) => {
        setProgress(prog)
      })
      setText(result.text)
      toast.success(t('success'))
    } catch (error) {
      console.error(error)
      toast.error(t('error'))
    } finally {
      setIsProcessing(false)
      setProgress(100)
    }
  }

  const handleCopy = () => {
    navigator.clipboard.writeText(text)
    toast.success(tCommon('copy'))
  }

  const handleDownload = () => {
    const blob = new Blob([text], { type: 'text/plain' })
    const url = URL.createObjectURL(blob)
    const a = document.createElement('a')
    a.href = url
    a.download = 'extracted_text_ohcodex.txt'
    a.click()
    URL.revokeObjectURL(url)
  }

  const handleClear = () => {
    if (image) URL.revokeObjectURL(image)
    setImage(null)
    setText('')
    setProgress(0)
    if (fileInputRef.current) fileInputRef.current.value = ''
  }

  return (
    <div className="grid lg:grid-cols-2 gap-8">
      
      {/* COLUMNA IZQUIERDA: IMAGEN */}
      <div className="space-y-6">
        <Card className="border-zinc-800 bg-zinc-950/50 h-full min-h-[500px] flex flex-col">
          <CardContent className="p-6 flex-1 flex flex-col">
            
            {/* Toolbar Superior */}
            <div className="flex justify-between items-center mb-6">
              <div className="flex items-center gap-2 text-zinc-400">
                <ImageIcon className="w-5 h-5" />
                <span className="font-medium text-sm">{t('sourceImage')}</span>
              </div>
              
              <div className="flex gap-2">
                <Select value={language} onValueChange={(v) => setLanguage(v as OCRLanguage)}>
                  <SelectTrigger className="w-[140px] bg-zinc-900 border-zinc-700 text-white h-9">
                    <Languages className="w-4 h-4 mr-2 text-zinc-400" />
                    <SelectValue />
                  </SelectTrigger>
                  <SelectContent className="bg-zinc-900 border-zinc-700 text-white">
                    <SelectItem value="spa">Espa√±ol</SelectItem>
                    <SelectItem value="eng">English</SelectItem>
                    <SelectItem value="fra">Fran√ßais</SelectItem>
                    <SelectItem value="deu">Deutsch</SelectItem>
                    <SelectItem value="ita">Italiano</SelectItem>
                    <SelectItem value="por">Portugu√™s</SelectItem>
                  </SelectContent>
                </Select>
              </div>
            </div>

            {/* Zona de Imagen / Dropzone */}
            <div className="flex-1 bg-zinc-900/50 rounded-xl border-2 border-dashed border-zinc-800 relative overflow-hidden flex items-center justify-center min-h-[300px]">
              {image ? (
                <div className="relative w-full h-full min-h-[300px] p-4 flex items-center justify-center">
                  {/* eslint-disable-next-line @next/next/no-img-element */}
                  <img 
                    src={image} 
                    alt="Source" 
                    className="max-h-[400px] w-auto object-contain rounded-lg shadow-xl"
                  />
                  <Button 
                    size="icon" 
                    variant="destructive" 
                    className="absolute top-4 right-4 z-10 shadow-lg hover:bg-red-600"
                    onClick={handleClear}
                    title="Eliminar imagen"
                  >
                    <Trash2 className="w-4 h-4" />
                  </Button>
                </div>
              ) : (
                <div 
                  className="text-center cursor-pointer p-10 w-full h-full flex flex-col items-center justify-center hover:bg-zinc-900/80 transition-colors group"
                  onClick={() => fileInputRef.current?.click()}
                >
                  <div className="w-20 h-20 bg-amber-500/10 text-amber-500 rounded-full flex items-center justify-center mb-6 group-hover:scale-110 transition-transform duration-300">
                    <Upload className="w-10 h-10" />
                  </div>
                  <p className="text-zinc-200 font-semibold text-lg mb-2">{t('dragImage')}</p>
                  <p className="text-zinc-500 text-sm">JPG, PNG, HEIC, WebP</p>
                </div>
              )}
              <input 
                ref={fileInputRef} 
                type="file" 
                accept="image/*,.heic,.heif" 
                className="hidden" 
                onChange={handleFileUpload} 
              />
            </div>

            {/* Bot√≥n de Acci√≥n Principal */}
            <div className="mt-6">
              <Button 
                onClick={handleProcess} 
                disabled={!image || isProcessing} 
                className="w-full h-12 bg-amber-600 hover:bg-amber-500 text-white font-bold text-lg shadow-[0_0_20px_-5px_rgba(217,119,6,0.3)] hover:shadow-[0_0_25px_-5px_rgba(217,119,6,0.5)] transition-all"
              >
                {isProcessing ? (
                  <span className="flex items-center gap-2">
                    <RefreshCw className="w-5 h-5 animate-spin" /> {t('extracting')} {Math.round(progress)}%
                  </span>
                ) : (
                  <span className="flex items-center gap-2">
                    <ScanLine className="w-5 h-5" /> {t('extractText')}
                  </span>
                )}
              </Button>
              
              {/* Barra de Progreso */}
              {isProcessing && (
                <div className="mt-4 space-y-2 animate-in fade-in">
                   <div className="flex justify-between text-xs text-amber-400">
                      <span>Procesando imagen con IA...</span>
                      <span>{Math.round(progress)}%</span>
                   </div>
                   <Progress value={progress} className="h-2 bg-zinc-800" />
                </div>
              )}
            </div>

          </CardContent>
        </Card>
      </div>

      {/* COLUMNA DERECHA: TEXTO RESULTANTE */}
      <div className="space-y-6">
        <Card className="border-zinc-800 bg-zinc-950/50 h-full min-h-[500px] flex flex-col">
          <CardContent className="p-6 flex-1 flex flex-col">
            
            <div className="flex justify-between items-center mb-6">
              <div className="flex items-center gap-2 text-zinc-400">
                <FileText className="w-5 h-5" />
                <span className="font-medium text-sm">{t('result')}</span>
              </div>
              {text && (
                <Badge className="bg-green-500/10 text-green-400 border-green-500/20 px-3 py-1">
                  {text.length} caracteres
                </Badge>
              )}
            </div>

            <Textarea 
              value={text} 
              onChange={(e) => setText(e.target.value)}
              placeholder={t('placeholder')}
              className="flex-1 bg-zinc-900 border-zinc-800 text-zinc-200 font-mono text-sm leading-relaxed p-6 min-h-[300px] resize-none focus:ring-amber-500/50 focus:border-amber-500/50 placeholder:text-zinc-700"
            />

            <div className="grid grid-cols-2 gap-4 mt-6">
              <Button variant="outline" onClick={handleCopy} disabled={!text} className="border-zinc-700 text-zinc-300 hover:bg-zinc-800 hover:text-white h-12">
                <Copy className="w-4 h-4 mr-2" /> {tCommon('copy')}
              </Button>
              <Button variant="secondary" onClick={handleDownload} disabled={!text} className="bg-zinc-800 text-white hover:bg-zinc-700 h-12">
                <Download className="w-4 h-4 mr-2" /> {tCommon('download')} .txt
              </Button>
            </div>

          </CardContent>
        </Card>
      </div>

    </div>
  )
}

// =============== FIN ARCHIVO [75]: src/components/tools/ocr/OCRTool.tsx =============== //

// =============== INICIO ARCHIVO [76]: src/components/tools/pdf-studio/PDFStudioTool.tsx =============== //
'use client'

import React, { useState, useRef } from 'react'
import { Button } from '@/components/ui/button'
import { Card, CardContent, CardHeader, CardTitle } from '@/components/ui/card'
import { Alert, AlertDescription } from '@/components/ui/alert'
import { Upload, Download, FileText, RotateCw, Merge, Trash2, CheckCircle2, PenLine, Plus, Info } from 'lucide-react'
import { PDFDocument, degrees } from 'pdf-lib'
import { toast } from 'sonner'
import { useTranslations } from 'next-intl'
import { SignatureDialog } from './SignatureDialog'
import { Badge } from '@/components/ui/badge'

export function PDFStudioTool() {
  const t = useTranslations('tools.pdf-studio')
  const tCommon = useTranslations('common.buttons')
  
  const [files, setFiles] = useState<File[]>([])
  const [signatures, setSignatures] = useState<Record<number, string>>({})
  const [processing, setProcessing] = useState(false)
  const [signatureDialogOpen, setSignatureDialogOpen] = useState(false)
  const [currentFileIndex, setCurrentFileIndex] = useState<number | null>(null)
  const fileInputRef = useRef<HTMLInputElement>(null)

  const handleFiles = (selectedFiles: FileList | null) => {
    if (!selectedFiles) return
    const pdfFiles = Array.from(selectedFiles).filter(f => f.type === 'application/pdf')
    setFiles(prev => [...prev, ...pdfFiles])
    // TRADUCCI√ìN: filesAdded
    toast.success(t('filesAdded', { count: pdfFiles.length }))
  }

  const handleRotate = async (index: number, angle: number) => {
    try {
      const file = files[index]
      const arrayBuffer = await file.arrayBuffer()
      const pdfDoc = await PDFDocument.load(arrayBuffer)
      const pages = pdfDoc.getPages()
      
      pages.forEach(page => {
        const currentRotation = page.getRotation().angle
        page.setRotation(degrees(currentRotation + angle))
      })
      
      const pdfBytes = await pdfDoc.save()
      const newBlob = new Blob([pdfBytes as any], { type: 'application/pdf' })

      const newFiles = [...files]
      newFiles[index] = new File([newBlob], file.name, { type: 'application/pdf' })
      setFiles(newFiles)
      toast.success(t('rotateSuccess'))
    } catch (error) {
      console.error(error)
      toast.error(t('rotateError'))
    }
  }

  const handleOpenSignature = (index: number) => {
    setCurrentFileIndex(index)
    setSignatureDialogOpen(true)
  }

  const handleSaveSignature = (signatureImage: string) => {
    if (currentFileIndex !== null) {
      setSignatures(prev => ({ ...prev, [currentFileIndex]: signatureImage }))
      toast.success(t('signatureSaved'))
    }
  }

  const handleMerge = async () => {
    if (files.length < 2) {
      toast.error(t('needTwoPdfs'))
      return
    }

    setProcessing(true)
    try {
      const mergedPdf = await PDFDocument.create()

      for (const file of files) {
        const arrayBuffer = await file.arrayBuffer()
        const pdfDoc = await PDFDocument.load(arrayBuffer)
        const copiedPages = await mergedPdf.copyPages(pdfDoc, pdfDoc.getPageIndices())
        copiedPages.forEach(page => mergedPdf.addPage(page))
      }

      const pdfBytes = await mergedPdf.save()
      const blob = new Blob([pdfBytes as any], { type: 'application/pdf' })
      const url = URL.createObjectURL(blob)
      const a = document.createElement('a')
      a.href = url
      a.download = 'merged_ohcodex.pdf'
      a.click()
      URL.revokeObjectURL(url)
      toast.success(t('mergeSuccess'))
    } catch (error) {
      console.error(error)
      toast.error(t('mergeError'))
    } finally {
      setProcessing(false)
    }
  }

  const handleDownload = async (index: number) => {
    try {
      const file = files[index]
      const signatureBase64 = signatures[index]

      if (!signatureBase64) {
        const url = URL.createObjectURL(file)
        const a = document.createElement('a')
        a.href = url
        a.download = file.name
        a.click()
        URL.revokeObjectURL(url)
        return
      }

      const arrayBuffer = await file.arrayBuffer()
      const pdfDoc = await PDFDocument.load(arrayBuffer)

      const signatureImageBytes = Uint8Array.from(atob(signatureBase64.split(',')[1]), c => c.charCodeAt(0))
      const signatureImage = await pdfDoc.embedPng(signatureImageBytes)

      const page = pdfDoc.getPage(0)
      const { width, height } = page.getSize()

      const signatureWidth = width * 0.25
      const signatureHeight = (signatureImage.height / signatureImage.width) * signatureWidth

      const x = width - signatureWidth - 30
      const y = 30 

      page.drawImage(signatureImage, {
        x,
        y,
        width: signatureWidth,
        height: signatureHeight,
      })

      const pdfBytes = await pdfDoc.save()
      const blob = new Blob([pdfBytes as any], { type: 'application/pdf' })

      const url = URL.createObjectURL(blob)
      const a = document.createElement('a')
      a.href = url
      a.download = file.name.replace('.pdf', '_signed.pdf')
      a.click()
      URL.revokeObjectURL(url)

      toast.success(tCommon('download'))
    } catch (error) {
      console.error('Error downloading:', error)
      toast.error(t('downloadError'))
    }
  }

  const handleRemove = (index: number) => {
    setFiles(files.filter((_, i) => i !== index))
    setSignatures(prev => {
      const newSignatures = { ...prev }
      delete newSignatures[index]
      return newSignatures
    })
  }

  return (
    <div className="space-y-8">
      {/* 1. ZONA DE CARGA (DROPZONE) */}
      <Card className="border-zinc-800 bg-zinc-950/50 backdrop-blur-xl border-dashed border-2 hover:border-purple-500/50 transition-colors group">
        <CardContent className="p-10 flex flex-col items-center justify-center text-center cursor-pointer" onClick={() => fileInputRef.current?.click()}>
          <input
            ref={fileInputRef}
            type="file"
            multiple
            accept="application/pdf"
            className="hidden"
            onChange={(e) => handleFiles(e.target.files)}
          />
          <div className="h-16 w-16 bg-purple-500/10 text-purple-400 rounded-full flex items-center justify-center mb-4 group-hover:scale-110 transition-transform">
            <Upload className="h-8 w-8" />
          </div>
          <h3 className="text-xl font-semibold text-white mb-2">{t('dragPdfs')}</h3>
          {/* TRADUCCI√ìN: dropzoneSubtitle */}
          <p className="text-zinc-500 max-w-sm">
            {t('dropzoneSubtitle')}
          </p>
        </CardContent>
      </Card>

      {/* 2. ALERTA DE PRIVACIDAD */}
      <Alert className="bg-purple-950/10 border-purple-900/30 text-purple-300">
        <Info className="h-4 w-4 text-purple-400" />
        {/* TRADUCCI√ìN: privacyAlert */}
        <AlertDescription>
          {t('privacyAlert')}
        </AlertDescription>
      </Alert>

      {/* 3. LISTA DE ARCHIVOS */}
      {files.length > 0 && (
        <div className="space-y-4 animate-in fade-in slide-in-from-bottom-4">
          <div className="flex items-center justify-between">
            {/* TRADUCCI√ìN: documents */}
            <h3 className="text-lg font-semibold text-white flex items-center gap-2">
              <FileText className="h-5 w-5 text-purple-500" />
              {t('documents')} ({files.length})
            </h3>
            {files.length > 1 && (
              <Button onClick={handleMerge} disabled={processing} className="bg-purple-600 hover:bg-purple-500 text-white shadow-lg shadow-purple-900/20">
                {processing ? t('merging') : (
                  <>
                    <Merge className="w-4 h-4 mr-2" />
                    {t('mergeAll')}
                  </>
                )}
              </Button>
            )}
          </div>

          <div className="grid md:grid-cols-2 lg:grid-cols-3 gap-4">
            {files.map((file, index) => (
              <Card key={index} className="border-zinc-800 bg-zinc-900/50 hover:bg-zinc-900 transition-colors group">
                <CardHeader className="pb-3 flex flex-row items-start justify-between space-y-0">
                  <div className="h-10 w-10 rounded-lg bg-zinc-800 flex items-center justify-center text-zinc-400">
                    <FileText className="h-6 w-6" />
                  </div>
                  {signatures[index] && (
                    /* TRADUCCI√ìN: signed */
                    <Badge className="bg-green-500/10 text-green-400 border-green-500/20">
                      {t('signed')}
                    </Badge>
                  )}
                </CardHeader>
                
                <CardContent className="space-y-4">
                  <div>
                    <CardTitle className="text-sm font-medium text-white truncate mb-1" title={file.name}>
                      {file.name}
                    </CardTitle>
                    <p className="text-xs text-zinc-500">
                      {(file.size / 1024 / 1024).toFixed(2)} MB ‚Ä¢ PDF Document
                    </p>
                  </div>

                  {/* PREVISUALIZACI√ìN DE FIRMA */}
                  {signatures[index] && (
                    <div className="relative rounded-md overflow-hidden bg-white/5 border border-white/10 p-2 h-12 flex items-center justify-center">
                      {/* eslint-disable-next-line @next/next/no-img-element */}
                      <img src={signatures[index]} alt="Firma" className="max-h-full object-contain opacity-80" />
                    </div>
                  )}

                  <div className="grid grid-cols-2 gap-2">
                    <Button size="sm" variant="outline" onClick={() => handleRotate(index, 90)} className="border-zinc-700 bg-transparent text-zinc-300 hover:bg-zinc-800">
                      <RotateCw className="w-3.5 h-3.5 mr-2" />
                      {t('rotate')}
                    </Button>
                    <Button size="sm" variant="outline" onClick={() => handleOpenSignature(index)} className="border-zinc-700 bg-transparent text-zinc-300 hover:bg-zinc-800">
                      <PenLine className="w-3.5 h-3.5 mr-2" />
                      {/* TRADUCCI√ìN: sign */}
                      {t('sign')}
                    </Button>
                  </div>

                  <div className="flex gap-2 pt-2 border-t border-zinc-800/50">
                    <Button size="sm" className="flex-1 bg-zinc-100 text-zinc-900 hover:bg-white" onClick={() => handleDownload(index)}>
                      <Download className="w-3.5 h-3.5 mr-2" />
                      {tCommon('download')}
                    </Button>
                    <Button size="icon" variant="ghost" onClick={() => handleRemove(index)} className="text-red-400 hover:bg-red-950/20 hover:text-red-300">
                      <Trash2 className="w-4 h-4" />
                    </Button>
                  </div>
                </CardContent>
              </Card>
            ))}
            
            {/* BOT√ìN A√ëADIR M√ÅS */}
            <div 
              onClick={() => fileInputRef.current?.click()}
              className="border border-dashed border-zinc-800 bg-transparent rounded-xl flex flex-col items-center justify-center p-6 cursor-pointer hover:border-purple-500/50 hover:bg-purple-950/5 transition-all min-h-[240px]"
            >
              <Plus className="h-8 w-8 text-zinc-600 mb-2" />
              {/* TRADUCCI√ìN: addMore */}
              <span className="text-sm text-zinc-500">{t('addMore')}</span>
            </div>
          </div>
        </div>
      )}

      <SignatureDialog
        open={signatureDialogOpen}
        onClose={() => setSignatureDialogOpen(false)}
        onSave={handleSaveSignature}
      />
    </div>
  )
}

// =============== FIN ARCHIVO [76]: src/components/tools/pdf-studio/PDFStudioTool.tsx =============== //

// =============== INICIO ARCHIVO [77]: src/components/tools/pdf-studio/SignatureDialog.tsx =============== //
'use client'

import React, { useRef, useState, useEffect } from 'react'
import { Dialog, DialogContent, DialogDescription, DialogHeader, DialogTitle } from '@/components/ui/dialog'
import { Button } from '@/components/ui/button'
import { Trash2, Upload, CheckCircle2 } from 'lucide-react'
import { toast } from 'sonner'
import { useTranslations } from 'next-intl'

export interface SignatureDialogProps {
  open: boolean
  onClose: () => void
  onSave: (signatureImage: string) => void
}

export function SignatureDialog({ open, onClose, onSave }: SignatureDialogProps) {
  // CORRECCI√ìN: 'pdf-studio' con guion
  const t = useTranslations('tools.pdf-studio.signature')
  const canvasRef = useRef<HTMLCanvasElement>(null)
  const [isDrawing, setIsDrawing] = useState(false)
  const [hasSignature, setHasSignature] = useState(false)
  const [uploadedImage, setUploadedImage] = useState<string | null>(null)

  useEffect(() => {
    if (!open) return

    const timer = setTimeout(() => {
      const canvas = canvasRef.current
      if (!canvas) return

      const ctx = canvas.getContext('2d')
      if (!ctx) return

      const parent = canvas.parentElement
      if (parent) {
        canvas.width = parent.clientWidth
        canvas.height = 200
      } else {
        canvas.width = 600
        canvas.height = 200
      }

      ctx.fillStyle = '#ffffff'
      ctx.fillRect(0, 0, canvas.width, canvas.height)
      ctx.strokeStyle = '#000000'
      ctx.lineWidth = 3
      ctx.lineCap = 'round'
      ctx.lineJoin = 'round'
    }, 100)

    return () => clearTimeout(timer)
  }, [open])

  const startDrawing = (e: React.MouseEvent | React.TouchEvent) => {
    setIsDrawing(true)
    setHasSignature(true)
    draw(e)
  }

  const stopDrawing = () => {
    setIsDrawing(false)
    const canvas = canvasRef.current
    if (canvas) {
        const ctx = canvas.getContext('2d')
        ctx?.beginPath()
    }
  }

  const draw = (e: React.MouseEvent | React.TouchEvent) => {
    if (!isDrawing) return
    
    const canvas = canvasRef.current
    if (!canvas) return

    const ctx = canvas.getContext('2d')
    if (!ctx) return

    const rect = canvas.getBoundingClientRect()
    let x, y

    if ('touches' in e) {
      x = e.touches[0].clientX - rect.left
      y = e.touches[0].clientY - rect.top
    } else {
      x = e.clientX - rect.left
      y = e.clientY - rect.top
    }

    ctx.lineTo(x, y)
    ctx.stroke()
    ctx.beginPath()
    ctx.moveTo(x, y)
  }

  const handleClear = () => {
    const canvas = canvasRef.current
    if (!canvas) return

    const ctx = canvas.getContext('2d')
    if (!ctx) return

    ctx.fillStyle = '#ffffff'
    ctx.fillRect(0, 0, canvas.width, canvas.height)
    ctx.beginPath()
    
    setHasSignature(false)
    setUploadedImage(null)
  }

  const handleSave = () => {
    const canvas = canvasRef.current
    if (!canvas) return

    if (uploadedImage) {
      onSave(uploadedImage)
      toast.success(t('save'))
    } else {
      const dataUrl = canvas.toDataURL('image/png')
      onSave(dataUrl)
      toast.success(t('save'))
    }

    handleClear()
    onClose()
  }

  const handleUpload = (e: React.ChangeEvent<HTMLInputElement>) => {
    const file = e.target.files?.[0]
    if (!file) return

    const reader = new FileReader()
    reader.onload = (event) => {
      const img = new Image()
      img.onload = () => {
        const canvas = canvasRef.current
        if (!canvas) return
        const ctx = canvas.getContext('2d')
        if (!ctx) return
        ctx.fillStyle = '#ffffff'
        ctx.fillRect(0, 0, canvas.width, canvas.height)
        const aspectRatio = img.width / img.height
        let drawWidth = canvas.width * 0.8
        let drawHeight = drawWidth / aspectRatio
        if (drawHeight > canvas.height * 0.8) {
          drawHeight = canvas.height * 0.8
          drawWidth = drawHeight * aspectRatio
        }
        const x = (canvas.width - drawWidth) / 2
        const y = (canvas.height - drawHeight) / 2
        ctx.drawImage(img, x, y, drawWidth, drawHeight)
        setUploadedImage(canvas.toDataURL('image/png'))
        setHasSignature(true)
      }
      img.src = event.target?.result as string
    }
    reader.readAsDataURL(file)
  }

  return (
    <Dialog open={open} onOpenChange={onClose}>
      <DialogContent className="sm:max-w-2xl bg-zinc-950 border-zinc-800 text-white">
        <DialogHeader>
          <DialogTitle>{t('title')}</DialogTitle>
          <DialogDescription className="text-zinc-400">
            {t('canvasPlaceholder')}
          </DialogDescription>
        </DialogHeader>

        <div className="space-y-4">
          <div className="relative w-full h-[200px] border border-zinc-700 rounded-lg overflow-hidden bg-white touch-none">
            <canvas
              ref={canvasRef}
              onMouseDown={startDrawing}
              onMouseUp={stopDrawing}
              onMouseLeave={stopDrawing}
              onMouseMove={draw}
              onTouchStart={startDrawing}
              onTouchEnd={stopDrawing}
              onTouchMove={draw}
              className="cursor-crosshair w-full h-full block"
            />
          </div>

          <div className="flex flex-col sm:flex-row gap-2">
            <Button onClick={handleClear} variant="outline" className="flex-1 border-zinc-700 text-zinc-300 hover:bg-zinc-800">
              <Trash2 className="w-4 h-4 mr-2" />
              {t('clear')}
            </Button>
            <div className="flex-1 hidden sm:block" />
            <label className="cursor-pointer flex-1">
              <Button variant="outline" className="w-full border-zinc-700 text-zinc-300 hover:bg-zinc-800" asChild>
                <span>
                  <Upload className="w-4 h-4 mr-2" />
                  {t('upload')}
                </span>
              </Button>
              <input type="file" accept="image/png,image/jpeg" onChange={handleUpload} className="hidden" />
            </label>
            <Button onClick={handleSave} disabled={!hasSignature} className="flex-1 bg-green-600 hover:bg-green-500 text-white">
              <CheckCircle2 className="w-4 h-4 mr-2" />
              {t('save')}
            </Button>
          </div>
        </div>
      </DialogContent>
    </Dialog>
  )
}

// =============== FIN ARCHIVO [77]: src/components/tools/pdf-studio/SignatureDialog.tsx =============== //

// =============== INICIO ARCHIVO [78]: src/components/tools/qr-factory/QRFactoryTool.tsx =============== //
'use client'

import React, { useState, useRef, useEffect } from 'react'
import { Button } from '@/components/ui/button'
import { Card, CardContent, CardHeader, CardTitle } from '@/components/ui/card'
import { Tabs, TabsContent, TabsList, TabsTrigger } from '@/components/ui/tabs'
import { Input } from '@/components/ui/input'
import { Label } from '@/components/ui/label'
import { Slider } from '@/components/ui/slider'
import { Select, SelectContent, SelectItem, SelectTrigger, SelectValue } from '@/components/ui/select'
import { Switch } from '@/components/ui/switch'
import { Accordion, AccordionContent, AccordionItem, AccordionTrigger } from '@/components/ui/accordion'
import { QrCode, Scan, Download, FileText, Type, Upload, Wifi, Link as LinkIcon, User, Phone, Palette, Image as ImageIcon, Barcode, CheckCircle2 } from 'lucide-react'
import { QRCodeSVG } from 'qrcode.react'
import jsbarcode from 'jsbarcode'
import { toast } from 'sonner'
import { useTranslations } from 'next-intl'
import { formatWiFiQR, formatVCardQR, formatWhatsAppQR } from '@/lib/engines/qr-engine'
import { Html5Qrcode } from 'html5-qrcode'

export function QRFactoryTool() {
  const t = useTranslations('tools.qr-factory')
  const tCommon = useTranslations('common.buttons')
  
  const [activeTab, setActiveTab] = useState<'generator' | 'barcode' | 'scanner'>('generator')
  
  // QR Generator state
  const [qrType, setQrType] = useState<'url' | 'wifi' | 'vcard' | 'whatsapp'>('url')
  const [url, setUrl] = useState('')
  const [wifi, setWifi] = useState({ ssid: '', password: '', security: 'WPA' as 'WPA' | 'WEP' | 'nopass', hidden: false })
  const [vcard, setVcard] = useState({ firstName: '', lastName: '', phone: '', email: '', org: '', website: '' })
  const [whatsapp, setWhatsapp] = useState({ number: '', message: '' })
  
  // QR Design state
  const [foregroundColor, setForegroundColor] = useState('#000000')
  const [backgroundColor, setBackgroundColor] = useState('#ffffff')
  const [logo, setLogo] = useState<string | null>(null)
  const [size, setSize] = useState(300)
  
  // Barcode state
  const [barcodeType, setBarcodeType] = useState<'CODE128' | 'EAN13' | 'UPC'>('CODE128')
  const [barcodeData, setBarcodeData] = useState('')
  const [showText, setShowText] = useState(true)
  const [barcodeHeight, setBarcodeHeight] = useState(100)
  
  // Scanner state
  const [scanResult, setScanResult] = useState('')

  // Refs
  const qrRef = useRef<HTMLDivElement>(null)
  const barcodeCanvasRef = useRef<HTMLCanvasElement>(null)
  const logoInputRef = useRef<HTMLInputElement>(null)

  const getQRData = () => {
    switch (qrType) {
      case 'url': return url || 'https://ohcodex.com'
      case 'wifi': return formatWiFiQR(wifi)
      case 'vcard': return formatVCardQR(vcard)
      case 'whatsapp': return formatWhatsAppQR(whatsapp.number, whatsapp.message)
      default: return ''
    }
  }

  const downloadQR = (format: 'png' | 'svg') => {
    if (!qrRef.current) return
    try {
      const svgElement = qrRef.current.querySelector('svg')
      if (!svgElement) return
      const svgData = new XMLSerializer().serializeToString(svgElement)
      if (format === 'svg') {
        const blob = new Blob([svgData], { type: 'image/svg+xml;charset=utf-8' })
        triggerDownload(URL.createObjectURL(blob), 'qrcode.svg')
      } else {
        const canvas = document.createElement('canvas')
        const ctx = canvas.getContext('2d')
        const img = new Image()
        const svgBlob = new Blob([svgData], { type: 'image/svg+xml;charset=utf-8' })
        const url = URL.createObjectURL(svgBlob)
        img.onload = () => {
          canvas.width = size
          canvas.height = size
          ctx?.drawImage(img, 0, 0)
          triggerDownload(canvas.toDataURL('image/png'), 'qrcode.png')
          URL.revokeObjectURL(url)
        }
        img.src = url
      }
      toast.success(t('qrGenerated'))
    } catch (error) {
      toast.error(t('scanError'))
    }
  }

  const triggerDownload = (url: string, filename: string) => {
    const a = document.createElement('a')
    a.href = url
    a.download = filename
    a.click()
  }

  useEffect(() => {
    if (activeTab === 'barcode' && barcodeData && barcodeCanvasRef.current) {
      try {
        jsbarcode(barcodeCanvasRef.current, barcodeData, {
          format: barcodeType as any,
          lineColor: '#000000',
          width: 2,
          height: barcodeHeight,
          displayValue: showText,
          background: '#ffffff',
          margin: 10
        })
      } catch (e) {}
    }
  }, [activeTab, barcodeData, barcodeType, showText, barcodeHeight])

  const downloadBarcode = () => {
    if (!barcodeCanvasRef.current) return
    triggerDownload(barcodeCanvasRef.current.toDataURL('image/png'), 'barcode.png')
    toast.success(t('barcodeGenerated'))
  }

  const handleScanUpload = async (e: React.ChangeEvent<HTMLInputElement>) => {
    const file = e.target.files?.[0]
    if (!file) return
    try {
      const html5QrCode = new Html5Qrcode("reader")
      const result = await html5QrCode.scanFile(file, true)
      setScanResult(result)
      toast.success(t('scanResult'))
    } catch (err) {
      toast.error(t('noCodeFound'))
    }
  }

  const handleLogoUpload = (e: React.ChangeEvent<HTMLInputElement>) => {
    const file = e.target.files?.[0]
    if (!file) return
    const reader = new FileReader()
    reader.onload = (event) => setLogo(event.target?.result as string)
    reader.readAsDataURL(file)
  }

  return (
    <div className="space-y-8">
      
      {/* TABS PRINCIPALES */}
      <Tabs value={activeTab} onValueChange={(v) => setActiveTab(v as any)} className="w-full">
        <div className="flex justify-center mb-8">
          <TabsList className="grid w-full max-w-md grid-cols-3 bg-zinc-900 border border-zinc-800">
            <TabsTrigger value="generator" className="flex items-center gap-2 data-[state=active]:bg-cyan-950/30 data-[state=active]:text-cyan-400">
              <QrCode className="w-4 h-4" /> 
              {/* TRADUCCI√ìN: generator */}
              {t('generator')}
            </TabsTrigger>
            <TabsTrigger value="barcode" className="flex items-center gap-2 data-[state=active]:bg-purple-950/30 data-[state=active]:text-purple-400">
              <Barcode className="w-4 h-4" /> 
              {/* TRADUCCI√ìN: barcode */}
              {t('barcode')}
            </TabsTrigger>
            <TabsTrigger value="scanner" className="flex items-center gap-2 data-[state=active]:bg-green-950/30 data-[state=active]:text-green-400">
              <Scan className="w-4 h-4" /> 
              {/* TRADUCCI√ìN: scanner */}
              {t('scanner')}
            </TabsTrigger>
          </TabsList>
        </div>

        {/* --- GENERADOR QR --- */}
        <TabsContent value="generator" className="space-y-6 animate-in fade-in slide-in-from-bottom-4">
          <div className="grid lg:grid-cols-12 gap-8">
            
            {/* COLUMNA IZQUIERDA: CONTROLES */}
            <div className="lg:col-span-7 space-y-6">
              
              {/* 1. SELECCI√ìN DE TIPO */}
              <Card className="border-zinc-800 bg-zinc-900/50">
                <CardHeader>
                  <CardTitle className="text-base text-zinc-300 flex items-center gap-2">
                    <Type className="w-4 h-4 text-cyan-500" />
                    {t('qrType')}
                  </CardTitle>
                </CardHeader>
                <CardContent>
                  <div className="grid grid-cols-4 gap-3">
                    {[
                      { id: 'url', icon: LinkIcon, label: 'URL' },
                      { id: 'wifi', icon: Wifi, label: 'WiFi' },
                      { id: 'vcard', icon: User, label: 'VCard' },
                      { id: 'whatsapp', icon: Phone, label: 'WhatsApp' }
                    ].map((type) => (
                      <button
                        key={type.id}
                        onClick={() => setQrType(type.id as any)}
                        className={`flex flex-col items-center justify-center p-3 rounded-lg border transition-all ${
                          qrType === type.id 
                            ? 'bg-cyan-950/30 border-cyan-500/50 text-cyan-400' 
                            : 'bg-zinc-950 border-zinc-800 text-zinc-400 hover:bg-zinc-800 hover:text-zinc-200'
                        }`}
                      >
                        <type.icon className="w-6 h-6 mb-2" />
                        <span className="text-xs font-medium">{type.label}</span>
                      </button>
                    ))}
                  </div>
                </CardContent>
              </Card>

              {/* 2. DATOS (DIN√ÅMICO) */}
              <Card className="border-zinc-800 bg-zinc-900/50">
                <CardContent className="pt-6 space-y-4">
                  {qrType === 'url' && (
                    <div className="space-y-2">
                      <Label>URL</Label>
                      {/* TRADUCCI√ìN: enterUrl */}
                      <Input value={url} onChange={(e) => setUrl(e.target.value)} placeholder={t('enterUrl')} className="bg-zinc-950 border-zinc-700" />
                    </div>
                  )}
                  {qrType === 'wifi' && (
                    <div className="space-y-3">
                      <Input value={wifi.ssid} onChange={(e) => setWifi({ ...wifi, ssid: e.target.value })} placeholder={t('ssid')} className="bg-zinc-950 border-zinc-700" />
                      <Input type="password" value={wifi.password} onChange={(e) => setWifi({ ...wifi, password: e.target.value })} placeholder={t('wifiPassword')} className="bg-zinc-950 border-zinc-700" />
                      <Select value={wifi.security} onValueChange={(v: any) => setWifi({ ...wifi, security: v })}>
                        <SelectTrigger className="bg-zinc-950 border-zinc-700"><SelectValue /></SelectTrigger>
                        <SelectContent className="bg-zinc-900 border-zinc-700">
                          <SelectItem value="WPA">WPA/WPA2</SelectItem>
                          <SelectItem value="WEP">WEP</SelectItem>
                          <SelectItem value="nopass">{t('security.nopass')}</SelectItem>
                        </SelectContent>
                      </Select>
                    </div>
                  )}
                  {qrType === 'vcard' && (
                    <div className="space-y-3">
                      <div className="grid grid-cols-2 gap-3">
                        <Input value={vcard.firstName} onChange={(e) => setVcard({ ...vcard, firstName: e.target.value })} placeholder={t('firstName')} className="bg-zinc-950 border-zinc-700" />
                        <Input value={vcard.lastName} onChange={(e) => setVcard({ ...vcard, lastName: e.target.value })} placeholder={t('lastName')} className="bg-zinc-950 border-zinc-700" />
                      </div>
                      <Input value={vcard.phone} onChange={(e) => setVcard({ ...vcard, phone: e.target.value })} placeholder={t('phone')} className="bg-zinc-950 border-zinc-700" />
                      <Input value={vcard.email} onChange={(e) => setVcard({ ...vcard, email: e.target.value })} placeholder={t('email')} className="bg-zinc-950 border-zinc-700" />
                    </div>
                  )}
                  {qrType === 'whatsapp' && (
                    <div className="space-y-3">
                      <Input value={whatsapp.number} onChange={(e) => setWhatsapp({ ...whatsapp, number: e.target.value })} placeholder={t('whatsappNumber')} className="bg-zinc-950 border-zinc-700" />
                      <Input value={whatsapp.message} onChange={(e) => setWhatsapp({ ...whatsapp, message: e.target.value })} placeholder={t('message')} className="bg-zinc-950 border-zinc-700" />
                    </div>
                  )}
                </CardContent>
              </Card>

              {/* 3. DISE√ëO (ACORDE√ìN) */}
              <Accordion type="single" collapsible className="w-full bg-zinc-900/50 border border-zinc-800 rounded-xl px-4">
                <AccordionItem value="colors" className="border-zinc-800">
                  <AccordionTrigger className="text-zinc-300 hover:text-white">
                    <span className="flex items-center gap-2"><Palette className="w-4 h-4" /> {t('design')}</span>
                  </AccordionTrigger>
                  <AccordionContent className="space-y-4 pt-2">
                    <div className="flex gap-4">
                      <div className="space-y-2 flex-1">
                        <Label className="text-zinc-400 text-xs">{t('foregroundColor')}</Label>
                        <div className="flex items-center gap-2">
                          <div className="w-8 h-8 rounded border border-zinc-700 overflow-hidden">
                            <input type="color" value={foregroundColor} onChange={(e) => setForegroundColor(e.target.value)} className="w-full h-full cursor-pointer p-0 border-0" />
                          </div>
                          <Input value={foregroundColor} onChange={(e) => setForegroundColor(e.target.value)} className="h-8 bg-zinc-950 font-mono text-xs" />
                        </div>
                      </div>
                      <div className="space-y-2 flex-1">
                        <Label className="text-zinc-400 text-xs">{t('backgroundColor')}</Label>
                        <div className="flex items-center gap-2">
                          <div className="w-8 h-8 rounded border border-zinc-700 overflow-hidden">
                            <input type="color" value={backgroundColor} onChange={(e) => setBackgroundColor(e.target.value)} className="w-full h-full cursor-pointer p-0 border-0" />
                          </div>
                          <Input value={backgroundColor} onChange={(e) => setBackgroundColor(e.target.value)} className="h-8 bg-zinc-950 font-mono text-xs" />
                        </div>
                      </div>
                    </div>
                  </AccordionContent>
                </AccordionItem>

                <AccordionItem value="logo" className="border-zinc-800 border-b-0">
                  <AccordionTrigger className="text-zinc-300 hover:text-white">
                    <span className="flex items-center gap-2"><ImageIcon className="w-4 h-4" /> {t('logo')}</span>
                  </AccordionTrigger>
                  <AccordionContent className="pt-2 pb-4">
                    <Button variant="outline" className="w-full border-zinc-700 text-zinc-300 hover:bg-zinc-800" onClick={() => logoInputRef.current?.click()}>
                      <Upload className="w-4 h-4 mr-2" /> {t('uploadLogo')}
                    </Button>
                    <input ref={logoInputRef} type="file" accept="image/*" onChange={handleLogoUpload} className="hidden" />
                    {logo && (
                      <div className="mt-4 flex items-center gap-2">
                        <div className="w-10 h-10 rounded border border-zinc-700 bg-white p-1">
                          {/* eslint-disable-next-line @next/next/no-img-element */}
                          <img src={logo} alt="Logo preview" className="w-full h-full object-contain" />
                        </div>
                        <Button size="sm" variant="ghost" onClick={() => setLogo(null)} className="text-red-400 text-xs h-8">
                            {/* TRADUCCI√ìN: clear */}
                            {tCommon('clear')}
                        </Button>
                      </div>
                    )}
                  </AccordionContent>
                </AccordionItem>
              </Accordion>

            </div>

            {/* COLUMNA DERECHA: PREVIEW (STICKY) */}
            <div className="lg:col-span-5">
              <div className="sticky top-24 space-y-6">
                <Card className="border-zinc-800 bg-zinc-950 overflow-hidden shadow-2xl">
                  <CardHeader className="bg-zinc-900 border-b border-zinc-800 py-3">
                    <CardTitle className="text-sm font-medium text-center text-zinc-400">
                        {/* TRADUCCI√ìN: preview (No existe en JSON, usar√© 'Vista Previa' hardcoded si no lo a√±adimos, pero mejor a√±adimos una clave o usamos una generica) */}
                        Vista Previa 
                    </CardTitle>
                  </CardHeader>
                  <CardContent className="p-8 flex items-center justify-center bg-[url('/grid-pattern.svg')] bg-center">
                    <div className="bg-white p-4 rounded-xl shadow-lg" ref={qrRef}>
                      <QRCodeSVG
                        value={getQRData()}
                        size={220}
                        fgColor={foregroundColor}
                        bgColor={backgroundColor}
                        level="M"
                        includeMargin={true}
                        imageSettings={logo ? { src: logo, height: 40, width: 40, excavate: true } : undefined}
                      />
                    </div>
                  </CardContent>
                </Card>

                <div className="grid grid-cols-2 gap-3">
                  <Button onClick={() => downloadQR('png')} className="bg-cyan-600 hover:bg-cyan-500 text-white shadow-lg shadow-cyan-900/20">
                    <Download className="w-4 h-4 mr-2" /> PNG
                  </Button>
                  <Button onClick={() => downloadQR('svg')} variant="outline" className="border-zinc-700 bg-zinc-900 text-white hover:bg-zinc-800">
                    <FileText className="w-4 h-4 mr-2" /> SVG
                  </Button>
                </div>
              </div>
            </div>

          </div>
        </TabsContent>

        {/* --- GENERADOR C√ìDIGO DE BARRAS --- */}
        <TabsContent value="barcode" className="space-y-6">
          <Card className="border-zinc-800 bg-zinc-900/50">
            <CardContent className="p-8 grid lg:grid-cols-2 gap-12 items-center">
              <div className="space-y-6">
                <div className="space-y-2">
                  <Label className="text-zinc-300">{t('barcodeType')}</Label>
                  <Select value={barcodeType} onValueChange={(v: any) => setBarcodeType(v)}>
                    <SelectTrigger className="bg-zinc-950 border-zinc-700 text-white"><SelectValue /></SelectTrigger>
                    <SelectContent className="bg-zinc-900 border-zinc-700 text-white">
                      <SelectItem value="CODE128">CODE128 (Est√°ndar)</SelectItem>
                      <SelectItem value="EAN13">EAN-13 (Producto)</SelectItem>
                      <SelectItem value="UPC">UPC (EEUU)</SelectItem>
                    </SelectContent>
                  </Select>
                </div>
                
                <div className="space-y-2">
                  <Label className="text-zinc-300">{t('enterCode')}</Label>
                  <Input value={barcodeData} onChange={(e) => setBarcodeData(e.target.value)} placeholder="Ej: 12345678" className="bg-zinc-950 border-zinc-700" />
                </div>

                <div className="space-y-4">
                  <div className="flex items-center justify-between">
                    <Label className="text-zinc-400">{t('showText')}</Label>
                    <Switch checked={showText} onCheckedChange={setShowText} />
                  </div>
                  <div className="space-y-2">
                    <Label className="text-zinc-400 text-xs">{t('height')}</Label>
                    <Slider value={[barcodeHeight]} onValueChange={([v]) => setBarcodeHeight(v)} min={30} max={150} />
                  </div>
                </div>
              </div>

              <div className="flex flex-col items-center justify-center p-8 bg-white rounded-xl shadow-xl min-h-[200px]">
                {barcodeData ? (
                  <canvas ref={barcodeCanvasRef} className="max-w-full" />
                ) : (
                  <p className="text-zinc-400 text-sm">Introduce datos para generar</p>
                )}
                {barcodeData && (
                  <Button onClick={downloadBarcode} size="sm" variant="outline" className="mt-6 text-black border-zinc-300 hover:bg-zinc-100">
                    <Download className="w-3 h-3 mr-2" /> {tCommon('download')} PNG
                  </Button>
                )}
              </div>
            </CardContent>
          </Card>
        </TabsContent>

        {/* --- ESC√ÅNER --- */}
        <TabsContent value="scanner" className="space-y-6">
          <Card className="border-zinc-800 bg-zinc-900/50">
            <CardContent className="p-12 text-center">
              <div className="border-2 border-dashed border-zinc-700 p-12 relative cursor-pointer rounded-xl hover:border-cyan-500/50 hover:bg-cyan-950/5 transition-all group">
                <input type="file" accept="image/*" onChange={handleScanUpload} className="absolute inset-0 opacity-0 cursor-pointer" />
                <div className="w-16 h-16 bg-zinc-800 rounded-full flex items-center justify-center mx-auto mb-4 group-hover:scale-110 transition-transform">
                  <Scan className="w-8 h-8 text-zinc-400 group-hover:text-cyan-400" />
                </div>
                <p className="text-white font-medium mb-1">{t('uploadImage')}</p>
                <p className="text-zinc-500 text-sm">JPG, PNG, WebP</p>
              </div>
              
              {scanResult && (
                <div className="mt-8 bg-zinc-950 p-6 rounded-xl border border-zinc-800 text-left animate-in zoom-in-95">
                  <Label className="text-green-400 mb-2 flex items-center gap-2">
                    <CheckCircle2 className="w-4 h-4" /> {t('scanResult')}
                  </Label>
                  <div className="flex gap-2">
                    <code className="block flex-1 bg-black p-3 rounded text-zinc-300 font-mono text-sm break-all border border-zinc-800">
                      {scanResult}
                    </code>
                    <Button size="icon" variant="outline" onClick={() => { navigator.clipboard.writeText(scanResult); toast.success('Copiado'); }} className="border-zinc-700 text-zinc-400 hover:text-white">
                      <FileText className="w-4 h-4" />
                    </Button>
                  </div>
                </div>
              )}
              <div id="reader" className="hidden"></div>
            </CardContent>
          </Card>
        </TabsContent>

      </Tabs>
    </div>
  )
}

// =============== FIN ARCHIVO [78]: src/components/tools/qr-factory/QRFactoryTool.tsx =============== //

// =============== INICIO ARCHIVO [79]: src/components/tools/vault/VaultTool.tsx =============== //
'use client'

import React, { useState } from 'react'
import { Button } from '@/components/ui/button'
import { Textarea } from '@/components/ui/textarea'
import { Input } from '@/components/ui/input'
import { Label } from '@/components/ui/label'
import { Card, CardContent, CardDescription, CardHeader, CardTitle } from '@/components/ui/card'
import { Alert, AlertDescription } from '@/components/ui/alert'
import { Tabs, TabsContent, TabsList, TabsTrigger } from '@/components/ui/tabs'
import { Lock, Unlock, Eye, EyeOff, Copy, CheckCircle2, Upload, Shield, RefreshCw } from 'lucide-react'
import { encryptText, decryptText, encryptFile, decryptFile } from '@/lib/engines/crypto-engine'
import { toast } from 'sonner'
import { useTranslations } from 'next-intl'

export function VaultTool() {
  const t = useTranslations('tools.vault')
  const tCommon = useTranslations('common.buttons')
  const [activeTab, setActiveTab] = useState<'text' | 'file'>('text')

  // Text encryption state
  const [textMode, setTextMode] = useState<'encrypt' | 'decrypt'>('encrypt')
  const [textInput, setTextInput] = useState('')
  const [textPassword, setTextPassword] = useState('')
  const [showPassword, setShowPassword] = useState(false)
  const [textOutput, setTextOutput] = useState('')
  const [textProcessing, setTextProcessing] = useState(false)

  // File encryption state
  const [fileMode, setFileMode] = useState<'encrypt' | 'decrypt'>('encrypt')
  const [file, setFile] = useState<File | null>(null)
  const [filePassword, setFilePassword] = useState('')
  const [showFilePassword, setShowFilePassword] = useState(false)
  const [fileProcessing, setFileProcessing] = useState(false)

  const handleTextEncrypt = async () => {
    if (!textInput || !textPassword) {
      toast.error(t('enterTextPassword'))
      return
    }

    try {
      setTextProcessing(true)
      const result = await encryptText(textInput, textPassword)
      const combined = JSON.stringify(result)
      setTextOutput(combined)
      toast.success(t('encryptedSuccess'))
    } catch (error) {
      toast.error(error instanceof Error ? error.message : t('encryptionError'))
    } finally {
      setTextProcessing(false)
    }
  }

  const handleTextDecrypt = async () => {
    if (!textOutput || !textPassword) {
      toast.error(t('enterEncrypted'))
      return
    }

    try {
      setTextProcessing(true)
      const encrypted = JSON.parse(textOutput)
      const result = await decryptText(encrypted, textPassword)
      setTextInput(result)
      toast.success(t('decryptedSuccess'))
    } catch (error) {
      toast.error(t('decryptionError'))
    } finally {
      setTextProcessing(false)
    }
  }

  const copyToClipboard = async (text: string) => {
    if (!text) return
    try {
      await navigator.clipboard.writeText(text)
      toast.success(t('copied'))
    } catch (error) {
      toast.error(t('copyError'))
    }
  }

  const handleFileEncrypt = async () => {
    if (!file || !filePassword) {
      toast.error(t('selectFilePassword'))
      return
    }

    try {
      setFileProcessing(true)
      const encryptedBlob = await encryptFile(file, filePassword, true)
      const url = URL.createObjectURL(encryptedBlob)
      const a = document.createElement('a')
      a.href = url
      a.download = `${file.name}.ohc`
      a.click()
      URL.revokeObjectURL(url)
      toast.success(t('encryptedSuccess'))
      setFile(null)
      setFilePassword('')
    } catch (error) {
      toast.error(error instanceof Error ? error.message : t('encryptionError'))
    } finally {
      setFileProcessing(false)
    }
  }

  const handleFileDecrypt = async () => {
    if (!file || !filePassword) {
      toast.error(t('selectOhcFile'))
      return
    }

    try {
      setFileProcessing(true)
      const { file: decryptedFile, metadata } = await decryptFile(file, filePassword)
      const url = URL.createObjectURL(decryptedFile)
      const a = document.createElement('a')
      a.href = url
      a.download = metadata?.name || `decrypted.${decryptedFile.type.split('/')[1] || 'bin'}`
      a.click()
      URL.revokeObjectURL(url)
      toast.success(t('decryptedSuccess'))
      setFile(null)
      setFilePassword('')
    } catch (error) {
      toast.error(t('decryptionError'))
    } finally {
      setFileProcessing(false)
    }
  }

  return (
    <div className="container mx-auto py-8 px-4 max-w-6xl">
      {/* Header */}
      <div className="text-center mb-8">
        <div className="flex items-center justify-center gap-3 mb-4">
          <div className="p-3 rounded-lg bg-cyan-500/10 text-cyan-400">
            <Shield className="w-8 h-8" />
          </div>
          <h1 className="text-4xl font-bold text-white">{t('header')}</h1>
        </div>
        <p className="text-zinc-400 text-lg">
          {t('subtitle')}
        </p>
      </div>

      {/* Main Card */}
      <Card className="border-zinc-800 bg-zinc-950/50 backdrop-blur-xl">
        <CardContent className="p-6">
          <Tabs value={activeTab} onValueChange={(v) => setActiveTab(v as 'text' | 'file')} className="w-full">
            <TabsList className="grid w-full grid-cols-2 mb-8 bg-zinc-900 border border-zinc-800">
              <TabsTrigger value="text" className="text-base data-[state=active]:bg-zinc-800 data-[state=active]:text-white">
                <Lock className="w-4 h-4 mr-2" />
                {t('textTab')}
              </TabsTrigger>
              <TabsTrigger value="file" className="text-base data-[state=active]:bg-zinc-800 data-[state=active]:text-white">
                <Upload className="w-4 h-4 mr-2" />
                {t('fileTab')}
              </TabsTrigger>
            </TabsList>

            {/* Text Tab */}
            <TabsContent value="text" className="space-y-6">
              <Alert className="bg-cyan-950/30 border-cyan-900/50 text-cyan-200">
                <Shield className="h-4 w-4 text-cyan-400" />
                <AlertDescription>
                  {t('alert')}
                </AlertDescription>
              </Alert>

              <div className="grid md:grid-cols-2 gap-6">
                {/* Bloque Texto Plano */}
                <div className="space-y-4">
                  <div className="space-y-2">
                    <Label htmlFor="text-input" className="text-zinc-300">
                      {textMode === 'encrypt' ? t('textToEncrypt') : t('textDecrypted')}
                    </Label>
                    <Textarea
                      id="text-input"
                      placeholder={textMode === 'encrypt' ? 'Escribe aqu√≠ tu mensaje secreto...' : 'Aqu√≠ aparecer√° tu mensaje una vez desencriptado...'}
                      value={textInput}
                      onChange={(e) => setTextInput(e.target.value)}
                      rows={10}
                      className="bg-zinc-900/50 border-zinc-800 text-white placeholder:text-zinc-600"
                      readOnly={textMode === 'decrypt'}
                    />
                  </div>

                  {textMode === 'decrypt' && (
                    <Button
                      onClick={() => setTextMode('encrypt')}
                      variant="outline"
                      className="w-full border-zinc-700 text-zinc-300 hover:bg-zinc-800"
                    >
                      <RefreshCw className="w-4 h-4 mr-2" />
                      {t('changeToEncrypt')}
                    </Button>
                  )}
                  
                  {textMode === 'encrypt' && (
                    <Button
                      onClick={handleTextEncrypt}
                      disabled={textProcessing || !textInput || !textPassword}
                      className="w-full bg-cyan-600 hover:bg-cyan-500 text-white"
                    >
                      {textProcessing ? 'Encriptando...' : (
                        <>
                          <Lock className="w-4 h-4 mr-2" />
                          {t('encrypt')}
                        </>
                      )}
                    </Button>
                  )}
                </div>

                {/* Bloque Configuraci√≥n y Output */}
                <div className="space-y-6">
                  <div className="space-y-2">
                    <Label htmlFor="text-password">{t('password')}</Label>
                    <div className="relative">
                      <Input
                        id="text-password"
                        type={showPassword ? 'text' : 'password'}
                        placeholder={t('enterPassword')}
                        value={textPassword}
                        onChange={(e) => setTextPassword(e.target.value)}
                        className="bg-zinc-900/50 border-zinc-800 text-white pr-10"
                      />
                      <button
                        type="button"
                        onClick={() => setShowPassword(!showPassword)}
                        className="absolute right-3 top-1/2 -translate-y-1/2 text-zinc-500 hover:text-white"
                      >
                        {showPassword ? <EyeOff className="w-4 h-4" /> : <Eye className="w-4 h-4" />}
                      </button>
                    </div>
                  </div>

                  <div className="space-y-2">
                    <Label htmlFor="text-output" className="text-zinc-300">
                      {textMode === 'encrypt' ? t('encryptedText') : t('encrypted')}
                    </Label>
                    <Textarea
                      id="text-output"
                      placeholder="Pega aqu√≠ el c√≥digo JSON encriptado para recuperarlo..."
                      value={textOutput}
                      onChange={(e) => setTextOutput(e.target.value)}
                      rows={7}
                      className="bg-zinc-900/50 border-zinc-800 text-cyan-400 font-mono text-sm placeholder:text-zinc-700"
                      readOnly={textMode === 'encrypt'}
                    />
                  </div>

                  <div className="flex gap-2">
                    {textMode === 'encrypt' ? (
                      <Button
                        onClick={() => setTextMode('decrypt')}
                        variant="outline"
                        className="flex-1 border-zinc-700 text-zinc-300 hover:bg-zinc-800"
                      >
                        <RefreshCw className="w-4 h-4 mr-2" />
                        {t('changeToDecrypt')}
                      </Button>
                    ) : (
                      <Button
                        onClick={handleTextDecrypt}
                        disabled={textProcessing || !textOutput || !textPassword}
                        className="flex-1 bg-green-600 hover:bg-green-500 text-white"
                      >
                        {textProcessing ? 'Procesando...' : (
                          <>
                            <Unlock className="w-4 h-4 mr-2" />
                            {t('decrypt')}
                          </>
                        )}
                      </Button>
                    )}

                    <Button
                      onClick={() => copyToClipboard(textMode === 'encrypt' ? textOutput : textInput)}
                      disabled={!(textMode === 'encrypt' ? textOutput : textInput)}
                      variant="outline"
                      className="border-zinc-700 text-zinc-300 hover:bg-zinc-800"
                    >
                      <Copy className="w-4 h-4" />
                    </Button>
                  </div>
                </div>
              </div>
            </TabsContent>

            {/* File Tab */}
            <TabsContent value="file" className="space-y-6">
              <Alert className="bg-cyan-950/30 border-cyan-900/50 text-cyan-200">
                <Shield className="h-4 w-4 text-cyan-400" />
                <AlertDescription>
                  {t('fileAlert')}
                </AlertDescription>
              </Alert>

              <Card className="bg-zinc-900/50 border-zinc-800">
                <CardHeader>
                  <CardTitle className="flex items-center gap-2 text-white">
                    {fileMode === 'encrypt' ? (
                      <>
                        <Lock className="w-5 h-5 text-cyan-400" />
                        {t('encryptFile')}
                      </>
                    ) : (
                      <>
                        <Unlock className="w-5 h-5 text-green-400" />
                        {t('decryptFile')}
                      </>
                    )}
                  </CardTitle>
                  <CardDescription className="text-zinc-400">
                    {fileMode === 'encrypt'
                      ? t('encryptDesc')
                      : t('decryptDesc')}
                  </CardDescription>
                </CardHeader>
                <CardContent className="space-y-6">
                  {/* File Dropzone */}
                  <div
                    className={`border-2 border-dashed rounded-lg p-8 text-center transition-colors ${
                      file
                        ? 'border-cyan-500 bg-cyan-950/10'
                        : 'border-zinc-700 hover:border-cyan-500/50 hover:bg-zinc-800 cursor-pointer'
                    }`}
                    onClick={() => document.getElementById('file-input')?.click()}
                    onDragOver={(e) => {
                      e.preventDefault()
                      e.currentTarget.classList.add('border-cyan-500', 'bg-cyan-950/10')
                    }}
                    onDragLeave={(e) => {
                      e.preventDefault()
                      e.currentTarget.classList.remove('border-cyan-500', 'bg-cyan-950/10')
                    }}
                    onDrop={(e) => {
                      e.preventDefault()
                      e.currentTarget.classList.remove('border-cyan-500', 'bg-cyan-950/10')
                      const droppedFile = e.dataTransfer.files[0]
                      if (droppedFile) setFile(droppedFile)
                    }}
                  >
                    <input
                      id="file-input"
                      type="file"
                      className="hidden"
                      onChange={(e) => {
                        const selectedFile = e.target.files?.[0]
                        if (selectedFile) setFile(selectedFile)
                      }}
                    />
                    {file ? (
                      <div className="space-y-2">
                        <CheckCircle2 className="w-12 h-12 mx-auto text-green-400" />
                        <p className="text-white font-medium">{file.name}</p>
                        <p className="text-zinc-500 text-sm">
                          {(file.size / 1024 / 1024).toFixed(2)} MB
                        </p>
                      </div>
                    ) : (
                      <div className="space-y-2">
                        <Upload className="w-12 h-12 mx-auto text-zinc-500" />
                        <p className="text-white">{t('dragHere')}</p>
                        <p className="text-zinc-500 text-sm">{t('clickToSelect')}</p>
                      </div>
                    )}
                  </div>

                  {/* Password Input */}
                  <div className="space-y-2">
                    <Label htmlFor="file-password" className="text-zinc-300">{t('encryptionPassword')}</Label>
                    <div className="relative">
                      <Input
                        id="file-password"
                        type={showFilePassword ? 'text' : 'password'}
                        placeholder={t('enterPassword')}
                        value={filePassword}
                        onChange={(e) => setFilePassword(e.target.value)}
                        className="bg-zinc-900 border-zinc-700 text-white pr-10"
                      />
                      <button
                        type="button"
                        onClick={() => setShowFilePassword(!showFilePassword)}
                        className="absolute right-3 top-1/2 -translate-y-1/2 text-zinc-500 hover:text-white"
                      >
                        {showFilePassword ? <EyeOff className="w-4 h-4" /> : <Eye className="w-4 h-4" />}
                      </button>
                    </div>
                  </div>

                  {/* Actions */}
                  <div className="flex gap-4">
                    {fileMode === 'encrypt' ? (
                      <>
                        <Button
                          onClick={handleFileEncrypt}
                          disabled={fileProcessing || !file || !filePassword}
                          className="flex-1 bg-cyan-600 hover:bg-cyan-500 text-white"
                        >
                          {fileProcessing ? 'Encriptando...' : (
                            <>
                              <Lock className="w-4 h-4 mr-2" />
                              {t('encryptAndDownload')}
                            </>
                          )}
                        </Button>
                        <Button
                          onClick={() => setFileMode('decrypt')}
                          variant="outline"
                          className="border-zinc-700 text-zinc-300 hover:bg-zinc-800"
                        >
                          {t('decryptFileButton')}
                        </Button>
                      </>
                    ) : (
                      <>
                        <Button
                          onClick={handleFileDecrypt}
                          disabled={fileProcessing || !file || !filePassword}
                          className="flex-1 bg-green-600 hover:bg-green-500 text-white"
                        >
                          {fileProcessing ? 'Desencriptando...' : (
                            <>
                              <Unlock className="w-4 h-4 mr-2" />
                              {t('decryptAndDownload')}
                            </>
                          )}
                        </Button>
                        <Button
                          onClick={() => setFileMode('encrypt')}
                          variant="outline"
                          className="border-zinc-700 text-zinc-300 hover:bg-zinc-800"
                        >
                          {t('encryptFileButton')}
                        </Button>
                      </>
                    )}
                  </div>
                </CardContent>
              </Card>
            </TabsContent>
          </Tabs>
        </CardContent>
      </Card>
    </div>
  )
}

// =============== FIN ARCHIVO [79]: src/components/tools/vault/VaultTool.tsx =============== //

// =============== INICIO ARCHIVO [80]: src/components/ui/accordion.tsx =============== //
"use client"

import * as React from "react"
import * as AccordionPrimitive from "@radix-ui/react-accordion"
import { ChevronDownIcon } from "lucide-react"

import { cn } from "@/lib/utils"

function Accordion({
  ...props
}: React.ComponentProps<typeof AccordionPrimitive.Root>) {
  return <AccordionPrimitive.Root data-slot="accordion" {...props} />
}

function AccordionItem({
  className,
  ...props
}: React.ComponentProps<typeof AccordionPrimitive.Item>) {
  return (
    <AccordionPrimitive.Item
      data-slot="accordion-item"
      className={cn("border-b last:border-b-0", className)}
      {...props}
    />
  )
}

function AccordionTrigger({
  className,
  children,
  ...props
}: React.ComponentProps<typeof AccordionPrimitive.Trigger>) {
  return (
    <AccordionPrimitive.Header className="flex">
      <AccordionPrimitive.Trigger
        data-slot="accordion-trigger"
        className={cn(
          "focus-visible:border-ring focus-visible:ring-ring/50 flex flex-1 items-start justify-between gap-4 rounded-md py-4 text-left text-sm font-medium transition-all outline-none hover:underline focus-visible:ring-[3px] disabled:pointer-events-none disabled:opacity-50 [&[data-state=open]>svg]:rotate-180",
          className
        )}
        {...props}
      >
        {children}
        <ChevronDownIcon className="text-muted-foreground pointer-events-none size-4 shrink-0 translate-y-0.5 transition-transform duration-200" />
      </AccordionPrimitive.Trigger>
    </AccordionPrimitive.Header>
  )
}

function AccordionContent({
  className,
  children,
  ...props
}: React.ComponentProps<typeof AccordionPrimitive.Content>) {
  return (
    <AccordionPrimitive.Content
      data-slot="accordion-content"
      className="data-[state=closed]:animate-accordion-up data-[state=open]:animate-accordion-down overflow-hidden text-sm"
      {...props}
    >
      <div className={cn("pt-0 pb-4", className)}>{children}</div>
    </AccordionPrimitive.Content>
  )
}

export { Accordion, AccordionItem, AccordionTrigger, AccordionContent }

// =============== FIN ARCHIVO [80]: src/components/ui/accordion.tsx =============== //

// =============== INICIO ARCHIVO [81]: src/components/ui/alert-dialog.tsx =============== //
"use client"

import * as React from "react"
import * as AlertDialogPrimitive from "@radix-ui/react-alert-dialog"

import { cn } from "@/lib/utils"
import { buttonVariants } from "@/components/ui/button"

function AlertDialog({
  ...props
}: React.ComponentProps<typeof AlertDialogPrimitive.Root>) {
  return <AlertDialogPrimitive.Root data-slot="alert-dialog" {...props} />
}

function AlertDialogTrigger({
  ...props
}: React.ComponentProps<typeof AlertDialogPrimitive.Trigger>) {
  return (
    <AlertDialogPrimitive.Trigger data-slot="alert-dialog-trigger" {...props} />
  )
}

function AlertDialogPortal({
  ...props
}: React.ComponentProps<typeof AlertDialogPrimitive.Portal>) {
  return (
    <AlertDialogPrimitive.Portal data-slot="alert-dialog-portal" {...props} />
  )
}

function AlertDialogOverlay({
  className,
  ...props
}: React.ComponentProps<typeof AlertDialogPrimitive.Overlay>) {
  return (
    <AlertDialogPrimitive.Overlay
      data-slot="alert-dialog-overlay"
      className={cn(
        "data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",
        className
      )}
      {...props}
    />
  )
}

function AlertDialogContent({
  className,
  ...props
}: React.ComponentProps<typeof AlertDialogPrimitive.Content>) {
  return (
    <AlertDialogPortal>
      <AlertDialogOverlay />
      <AlertDialogPrimitive.Content
        data-slot="alert-dialog-content"
        className={cn(
          "bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",
          className
        )}
        {...props}
      />
    </AlertDialogPortal>
  )
}

function AlertDialogHeader({
  className,
  ...props
}: React.ComponentProps<"div">) {
  return (
    <div
      data-slot="alert-dialog-header"
      className={cn("flex flex-col gap-2 text-center sm:text-left", className)}
      {...props}
    />
  )
}

function AlertDialogFooter({
  className,
  ...props
}: React.ComponentProps<"div">) {
  return (
    <div
      data-slot="alert-dialog-footer"
      className={cn(
        "flex flex-col-reverse gap-2 sm:flex-row sm:justify-end",
        className
      )}
      {...props}
    />
  )
}

function AlertDialogTitle({
  className,
  ...props
}: React.ComponentProps<typeof AlertDialogPrimitive.Title>) {
  return (
    <AlertDialogPrimitive.Title
      data-slot="alert-dialog-title"
      className={cn("text-lg font-semibold", className)}
      {...props}
    />
  )
}

function AlertDialogDescription({
  className,
  ...props
}: React.ComponentProps<typeof AlertDialogPrimitive.Description>) {
  return (
    <AlertDialogPrimitive.Description
      data-slot="alert-dialog-description"
      className={cn("text-muted-foreground text-sm", className)}
      {...props}
    />
  )
}

function AlertDialogAction({
  className,
  ...props
}: React.ComponentProps<typeof AlertDialogPrimitive.Action>) {
  return (
    <AlertDialogPrimitive.Action
      className={cn(buttonVariants(), className)}
      {...props}
    />
  )
}

function AlertDialogCancel({
  className,
  ...props
}: React.ComponentProps<typeof AlertDialogPrimitive.Cancel>) {
  return (
    <AlertDialogPrimitive.Cancel
      className={cn(buttonVariants({ variant: "outline" }), className)}
      {...props}
    />
  )
}

export {
  AlertDialog,
  AlertDialogPortal,
  AlertDialogOverlay,
  AlertDialogTrigger,
  AlertDialogContent,
  AlertDialogHeader,
  AlertDialogFooter,
  AlertDialogTitle,
  AlertDialogDescription,
  AlertDialogAction,
  AlertDialogCancel,
}

// =============== FIN ARCHIVO [81]: src/components/ui/alert-dialog.tsx =============== //

// =============== INICIO ARCHIVO [82]: src/components/ui/alert.tsx =============== //
import * as React from "react"
import { cva, type VariantProps } from "class-variance-authority"

import { cn } from "@/lib/utils"

const alertVariants = cva(
  "relative w-full rounded-lg border px-4 py-3 text-sm grid has-[>svg]:grid-cols-[calc(var(--spacing)*4)_1fr] grid-cols-[0_1fr] has-[>svg]:gap-x-3 gap-y-0.5 items-start [&>svg]:size-4 [&>svg]:translate-y-0.5 [&>svg]:text-current",
  {
    variants: {
      variant: {
        default: "bg-card text-card-foreground",
        destructive:
          "text-destructive bg-card [&>svg]:text-current *:data-[slot=alert-description]:text-destructive/90",
      },
    },
    defaultVariants: {
      variant: "default",
    },
  }
)

function Alert({
  className,
  variant,
  ...props
}: React.ComponentProps<"div"> & VariantProps<typeof alertVariants>) {
  return (
    <div
      data-slot="alert"
      role="alert"
      className={cn(alertVariants({ variant }), className)}
      {...props}
    />
  )
}

function AlertTitle({ className, ...props }: React.ComponentProps<"div">) {
  return (
    <div
      data-slot="alert-title"
      className={cn(
        "col-start-2 line-clamp-1 min-h-4 font-medium tracking-tight",
        className
      )}
      {...props}
    />
  )
}

function AlertDescription({
  className,
  ...props
}: React.ComponentProps<"div">) {
  return (
    <div
      data-slot="alert-description"
      className={cn(
        "text-muted-foreground col-start-2 grid justify-items-start gap-1 text-sm [&_p]:leading-relaxed",
        className
      )}
      {...props}
    />
  )
}

export { Alert, AlertTitle, AlertDescription }

// =============== FIN ARCHIVO [82]: src/components/ui/alert.tsx =============== //

// =============== INICIO ARCHIVO [83]: src/components/ui/aspect-ratio.tsx =============== //
"use client"

import * as AspectRatioPrimitive from "@radix-ui/react-aspect-ratio"

function AspectRatio({
  ...props
}: React.ComponentProps<typeof AspectRatioPrimitive.Root>) {
  return <AspectRatioPrimitive.Root data-slot="aspect-ratio" {...props} />
}

export { AspectRatio }

// =============== FIN ARCHIVO [83]: src/components/ui/aspect-ratio.tsx =============== //

// =============== INICIO ARCHIVO [84]: src/components/ui/avatar.tsx =============== //
"use client"

import * as React from "react"
import * as AvatarPrimitive from "@radix-ui/react-avatar"

import { cn } from "@/lib/utils"

function Avatar({
  className,
  ...props
}: React.ComponentProps<typeof AvatarPrimitive.Root>) {
  return (
    <AvatarPrimitive.Root
      data-slot="avatar"
      className={cn(
        "relative flex size-8 shrink-0 overflow-hidden rounded-full",
        className
      )}
      {...props}
    />
  )
}

function AvatarImage({
  className,
  ...props
}: React.ComponentProps<typeof AvatarPrimitive.Image>) {
  return (
    <AvatarPrimitive.Image
      data-slot="avatar-image"
      className={cn("aspect-square size-full", className)}
      {...props}
    />
  )
}

function AvatarFallback({
  className,
  ...props
}: React.ComponentProps<typeof AvatarPrimitive.Fallback>) {
  return (
    <AvatarPrimitive.Fallback
      data-slot="avatar-fallback"
      className={cn(
        "bg-muted flex size-full items-center justify-center rounded-full",
        className
      )}
      {...props}
    />
  )
}

export { Avatar, AvatarImage, AvatarFallback }

// =============== FIN ARCHIVO [84]: src/components/ui/avatar.tsx =============== //

// =============== INICIO ARCHIVO [85]: src/components/ui/badge.tsx =============== //
import * as React from "react"
import { Slot } from "@radix-ui/react-slot"
import { cva, type VariantProps } from "class-variance-authority"

import { cn } from "@/lib/utils"

const badgeVariants = cva(
  "inline-flex items-center justify-center rounded-md border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden",
  {
    variants: {
      variant: {
        default:
          "border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90",
        secondary:
          "border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90",
        destructive:
          "border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",
        outline:
          "text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground",
      },
    },
    defaultVariants: {
      variant: "default",
    },
  }
)

function Badge({
  className,
  variant,
  asChild = false,
  ...props
}: React.ComponentProps<"span"> &
  VariantProps<typeof badgeVariants> & { asChild?: boolean }) {
  const Comp = asChild ? Slot : "span"

  return (
    <Comp
      data-slot="badge"
      className={cn(badgeVariants({ variant }), className)}
      {...props}
    />
  )
}

export { Badge, badgeVariants }

// =============== FIN ARCHIVO [85]: src/components/ui/badge.tsx =============== //

// =============== INICIO ARCHIVO [86]: src/components/ui/breadcrumb.tsx =============== //
import * as React from "react"
import { Slot } from "@radix-ui/react-slot"
import { ChevronRight, MoreHorizontal } from "lucide-react"

import { cn } from "@/lib/utils"

function Breadcrumb({ ...props }: React.ComponentProps<"nav">) {
  return <nav aria-label="breadcrumb" data-slot="breadcrumb" {...props} />
}

function BreadcrumbList({ className, ...props }: React.ComponentProps<"ol">) {
  return (
    <ol
      data-slot="breadcrumb-list"
      className={cn(
        "text-muted-foreground flex flex-wrap items-center gap-1.5 text-sm break-words sm:gap-2.5",
        className
      )}
      {...props}
    />
  )
}

function BreadcrumbItem({ className, ...props }: React.ComponentProps<"li">) {
  return (
    <li
      data-slot="breadcrumb-item"
      className={cn("inline-flex items-center gap-1.5", className)}
      {...props}
    />
  )
}

function BreadcrumbLink({
  asChild,
  className,
  ...props
}: React.ComponentProps<"a"> & {
  asChild?: boolean
}) {
  const Comp = asChild ? Slot : "a"

  return (
    <Comp
      data-slot="breadcrumb-link"
      className={cn("hover:text-foreground transition-colors", className)}
      {...props}
    />
  )
}

function BreadcrumbPage({ className, ...props }: React.ComponentProps<"span">) {
  return (
    <span
      data-slot="breadcrumb-page"
      role="link"
      aria-disabled="true"
      aria-current="page"
      className={cn("text-foreground font-normal", className)}
      {...props}
    />
  )
}

function BreadcrumbSeparator({
  children,
  className,
  ...props
}: React.ComponentProps<"li">) {
  return (
    <li
      data-slot="breadcrumb-separator"
      role="presentation"
      aria-hidden="true"
      className={cn("[&>svg]:size-3.5", className)}
      {...props}
    >
      {children ?? <ChevronRight />}
    </li>
  )
}

function BreadcrumbEllipsis({
  className,
  ...props
}: React.ComponentProps<"span">) {
  return (
    <span
      data-slot="breadcrumb-ellipsis"
      role="presentation"
      aria-hidden="true"
      className={cn("flex size-9 items-center justify-center", className)}
      {...props}
    >
      <MoreHorizontal className="size-4" />
      <span className="sr-only">More</span>
    </span>
  )
}

export {
  Breadcrumb,
  BreadcrumbList,
  BreadcrumbItem,
  BreadcrumbLink,
  BreadcrumbPage,
  BreadcrumbSeparator,
  BreadcrumbEllipsis,
}

// =============== FIN ARCHIVO [86]: src/components/ui/breadcrumb.tsx =============== //

// =============== INICIO ARCHIVO [87]: src/components/ui/button.tsx =============== //
import * as React from "react"
import { Slot } from "@radix-ui/react-slot"
import { cva, type VariantProps } from "class-variance-authority"

import { cn } from "@/lib/utils"

const buttonVariants = cva(
  "inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",
  {
    variants: {
      variant: {
        default:
          "bg-primary text-primary-foreground shadow-xs hover:bg-primary/90",
        destructive:
          "bg-destructive text-white shadow-xs hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",
        outline:
          "border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",
        secondary:
          "bg-secondary text-secondary-foreground shadow-xs hover:bg-secondary/80",
        ghost:
          "hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",
        link: "text-primary underline-offset-4 hover:underline",
      },
      size: {
        default: "h-9 px-4 py-2 has-[>svg]:px-3",
        sm: "h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",
        lg: "h-10 rounded-md px-6 has-[>svg]:px-4",
        icon: "size-9",
      },
    },
    defaultVariants: {
      variant: "default",
      size: "default",
    },
  }
)

function Button({
  className,
  variant,
  size,
  asChild = false,
  ...props
}: React.ComponentProps<"button"> &
  VariantProps<typeof buttonVariants> & {
    asChild?: boolean
  }) {
  const Comp = asChild ? Slot : "button"

  return (
    <Comp
      data-slot="button"
      className={cn(buttonVariants({ variant, size, className }))}
      {...props}
    />
  )
}

export { Button, buttonVariants }

// =============== FIN ARCHIVO [87]: src/components/ui/button.tsx =============== //

// =============== INICIO ARCHIVO [88]: src/components/ui/calendar.tsx =============== //
"use client"

import * as React from "react"
import {
  ChevronDownIcon,
  ChevronLeftIcon,
  ChevronRightIcon,
} from "lucide-react"
import { DayButton, DayPicker, getDefaultClassNames } from "react-day-picker"

import { cn } from "@/lib/utils"
import { Button, buttonVariants } from "@/components/ui/button"

function Calendar({
  className,
  classNames,
  showOutsideDays = true,
  captionLayout = "label",
  buttonVariant = "ghost",
  formatters,
  components,
  ...props
}: React.ComponentProps<typeof DayPicker> & {
  buttonVariant?: React.ComponentProps<typeof Button>["variant"]
}) {
  const defaultClassNames = getDefaultClassNames()

  return (
    <DayPicker
      showOutsideDays={showOutsideDays}
      className={cn(
        "bg-background group/calendar p-3 [--cell-size:--spacing(8)] [[data-slot=card-content]_&]:bg-transparent [[data-slot=popover-content]_&]:bg-transparent",
        String.raw`rtl:**:[.rdp-button\_next>svg]:rotate-180`,
        String.raw`rtl:**:[.rdp-button\_previous>svg]:rotate-180`,
        className
      )}
      captionLayout={captionLayout}
      formatters={{
        formatMonthDropdown: (date) =>
          date.toLocaleString("default", { month: "short" }),
        ...formatters,
      }}
      classNames={{
        root: cn("w-fit", defaultClassNames.root),
        months: cn(
          "flex gap-4 flex-col md:flex-row relative",
          defaultClassNames.months
        ),
        month: cn("flex flex-col w-full gap-4", defaultClassNames.month),
        nav: cn(
          "flex items-center gap-1 w-full absolute top-0 inset-x-0 justify-between",
          defaultClassNames.nav
        ),
        button_previous: cn(
          buttonVariants({ variant: buttonVariant }),
          "size-(--cell-size) aria-disabled:opacity-50 p-0 select-none",
          defaultClassNames.button_previous
        ),
        button_next: cn(
          buttonVariants({ variant: buttonVariant }),
          "size-(--cell-size) aria-disabled:opacity-50 p-0 select-none",
          defaultClassNames.button_next
        ),
        month_caption: cn(
          "flex items-center justify-center h-(--cell-size) w-full px-(--cell-size)",
          defaultClassNames.month_caption
        ),
        dropdowns: cn(
          "w-full flex items-center text-sm font-medium justify-center h-(--cell-size) gap-1.5",
          defaultClassNames.dropdowns
        ),
        dropdown_root: cn(
          "relative has-focus:border-ring border border-input shadow-xs has-focus:ring-ring/50 has-focus:ring-[3px] rounded-md",
          defaultClassNames.dropdown_root
        ),
        dropdown: cn(
          "absolute bg-popover inset-0 opacity-0",
          defaultClassNames.dropdown
        ),
        caption_label: cn(
          "select-none font-medium",
          captionLayout === "label"
            ? "text-sm"
            : "rounded-md pl-2 pr-1 flex items-center gap-1 text-sm h-8 [&>svg]:text-muted-foreground [&>svg]:size-3.5",
          defaultClassNames.caption_label
        ),
        table: "w-full border-collapse",
        weekdays: cn("flex", defaultClassNames.weekdays),
        weekday: cn(
          "text-muted-foreground rounded-md flex-1 font-normal text-[0.8rem] select-none",
          defaultClassNames.weekday
        ),
        week: cn("flex w-full mt-2", defaultClassNames.week),
        week_number_header: cn(
          "select-none w-(--cell-size)",
          defaultClassNames.week_number_header
        ),
        week_number: cn(
          "text-[0.8rem] select-none text-muted-foreground",
          defaultClassNames.week_number
        ),
        day: cn(
          "relative w-full h-full p-0 text-center [&:first-child[data-selected=true]_button]:rounded-l-md [&:last-child[data-selected=true]_button]:rounded-r-md group/day aspect-square select-none",
          defaultClassNames.day
        ),
        range_start: cn(
          "rounded-l-md bg-accent",
          defaultClassNames.range_start
        ),
        range_middle: cn("rounded-none", defaultClassNames.range_middle),
        range_end: cn("rounded-r-md bg-accent", defaultClassNames.range_end),
        today: cn(
          "bg-accent text-accent-foreground rounded-md data-[selected=true]:rounded-none",
          defaultClassNames.today
        ),
        outside: cn(
          "text-muted-foreground aria-selected:text-muted-foreground",
          defaultClassNames.outside
        ),
        disabled: cn(
          "text-muted-foreground opacity-50",
          defaultClassNames.disabled
        ),
        hidden: cn("invisible", defaultClassNames.hidden),
        ...classNames,
      }}
      components={{
        Root: ({ className, rootRef, ...props }) => {
          return (
            <div
              data-slot="calendar"
              ref={rootRef}
              className={cn(className)}
              {...props}
            />
          )
        },
        Chevron: ({ className, orientation, ...props }) => {
          if (orientation === "left") {
            return (
              <ChevronLeftIcon className={cn("size-4", className)} {...props} />
            )
          }

          if (orientation === "right") {
            return (
              <ChevronRightIcon
                className={cn("size-4", className)}
                {...props}
              />
            )
          }

          return (
            <ChevronDownIcon className={cn("size-4", className)} {...props} />
          )
        },
        DayButton: CalendarDayButton,
        WeekNumber: ({ children, ...props }) => {
          return (
            <td {...props}>
              <div className="flex size-(--cell-size) items-center justify-center text-center">
                {children}
              </div>
            </td>
          )
        },
        ...components,
      }}
      {...props}
    />
  )
}

function CalendarDayButton({
  className,
  day,
  modifiers,
  ...props
}: React.ComponentProps<typeof DayButton>) {
  const defaultClassNames = getDefaultClassNames()

  const ref = React.useRef<HTMLButtonElement>(null)
  React.useEffect(() => {
    if (modifiers.focused) ref.current?.focus()
  }, [modifiers.focused])

  return (
    <Button
      ref={ref}
      variant="ghost"
      size="icon"
      data-day={day.date.toLocaleDateString()}
      data-selected-single={
        modifiers.selected &&
        !modifiers.range_start &&
        !modifiers.range_end &&
        !modifiers.range_middle
      }
      data-range-start={modifiers.range_start}
      data-range-end={modifiers.range_end}
      data-range-middle={modifiers.range_middle}
      className={cn(
        "data-[selected-single=true]:bg-primary data-[selected-single=true]:text-primary-foreground data-[range-middle=true]:bg-accent data-[range-middle=true]:text-accent-foreground data-[range-start=true]:bg-primary data-[range-start=true]:text-primary-foreground data-[range-end=true]:bg-primary data-[range-end=true]:text-primary-foreground group-data-[focused=true]/day:border-ring group-data-[focused=true]/day:ring-ring/50 dark:hover:text-accent-foreground flex aspect-square size-auto w-full min-w-(--cell-size) flex-col gap-1 leading-none font-normal group-data-[focused=true]/day:relative group-data-[focused=true]/day:z-10 group-data-[focused=true]/day:ring-[3px] data-[range-end=true]:rounded-md data-[range-end=true]:rounded-r-md data-[range-middle=true]:rounded-none data-[range-start=true]:rounded-md data-[range-start=true]:rounded-l-md [&>span]:text-xs [&>span]:opacity-70",
        defaultClassNames.day,
        className
      )}
      {...props}
    />
  )
}

export { Calendar, CalendarDayButton }

// =============== FIN ARCHIVO [88]: src/components/ui/calendar.tsx =============== //

// =============== INICIO ARCHIVO [89]: src/components/ui/card.tsx =============== //
import * as React from "react"

import { cn } from "@/lib/utils"

function Card({ className, ...props }: React.ComponentProps<"div">) {
  return (
    <div
      data-slot="card"
      className={cn(
        "bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",
        className
      )}
      {...props}
    />
  )
}

function CardHeader({ className, ...props }: React.ComponentProps<"div">) {
  return (
    <div
      data-slot="card-header"
      className={cn(
        "@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-1.5 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",
        className
      )}
      {...props}
    />
  )
}

function CardTitle({ className, ...props }: React.ComponentProps<"div">) {
  return (
    <div
      data-slot="card-title"
      className={cn("leading-none font-semibold", className)}
      {...props}
    />
  )
}

function CardDescription({ className, ...props }: React.ComponentProps<"div">) {
  return (
    <div
      data-slot="card-description"
      className={cn("text-muted-foreground text-sm", className)}
      {...props}
    />
  )
}

function CardAction({ className, ...props }: React.ComponentProps<"div">) {
  return (
    <div
      data-slot="card-action"
      className={cn(
        "col-start-2 row-span-2 row-start-1 self-start justify-self-end",
        className
      )}
      {...props}
    />
  )
}

function CardContent({ className, ...props }: React.ComponentProps<"div">) {
  return (
    <div
      data-slot="card-content"
      className={cn("px-6", className)}
      {...props}
    />
  )
}

function CardFooter({ className, ...props }: React.ComponentProps<"div">) {
  return (
    <div
      data-slot="card-footer"
      className={cn("flex items-center px-6 [.border-t]:pt-6", className)}
      {...props}
    />
  )
}

export {
  Card,
  CardHeader,
  CardFooter,
  CardTitle,
  CardAction,
  CardDescription,
  CardContent,
}

// =============== FIN ARCHIVO [89]: src/components/ui/card.tsx =============== //

// =============== INICIO ARCHIVO [90]: src/components/ui/carousel.tsx =============== //
"use client"

import * as React from "react"
import useEmblaCarousel, {
  type UseEmblaCarouselType,
} from "embla-carousel-react"
import { ArrowLeft, ArrowRight } from "lucide-react"

import { cn } from "@/lib/utils"
import { Button } from "@/components/ui/button"

type CarouselApi = UseEmblaCarouselType[1]
type UseCarouselParameters = Parameters<typeof useEmblaCarousel>
type CarouselOptions = UseCarouselParameters[0]
type CarouselPlugin = UseCarouselParameters[1]

type CarouselProps = {
  opts?: CarouselOptions
  plugins?: CarouselPlugin
  orientation?: "horizontal" | "vertical"
  setApi?: (api: CarouselApi) => void
}

type CarouselContextProps = {
  carouselRef: ReturnType<typeof useEmblaCarousel>[0]
  api: ReturnType<typeof useEmblaCarousel>[1]
  scrollPrev: () => void
  scrollNext: () => void
  canScrollPrev: boolean
  canScrollNext: boolean
} & CarouselProps

const CarouselContext = React.createContext<CarouselContextProps | null>(null)

function useCarousel() {
  const context = React.useContext(CarouselContext)

  if (!context) {
    throw new Error("useCarousel must be used within a <Carousel />")
  }

  return context
}

function Carousel({
  orientation = "horizontal",
  opts,
  setApi,
  plugins,
  className,
  children,
  ...props
}: React.ComponentProps<"div"> & CarouselProps) {
  const [carouselRef, api] = useEmblaCarousel(
    {
      ...opts,
      axis: orientation === "horizontal" ? "x" : "y",
    },
    plugins
  )
  const [canScrollPrev, setCanScrollPrev] = React.useState(false)
  const [canScrollNext, setCanScrollNext] = React.useState(false)

  const onSelect = React.useCallback((api: CarouselApi) => {
    if (!api) return
    setCanScrollPrev(api.canScrollPrev())
    setCanScrollNext(api.canScrollNext())
  }, [])

  const scrollPrev = React.useCallback(() => {
    api?.scrollPrev()
  }, [api])

  const scrollNext = React.useCallback(() => {
    api?.scrollNext()
  }, [api])

  const handleKeyDown = React.useCallback(
    (event: React.KeyboardEvent<HTMLDivElement>) => {
      if (event.key === "ArrowLeft") {
        event.preventDefault()
        scrollPrev()
      } else if (event.key === "ArrowRight") {
        event.preventDefault()
        scrollNext()
      }
    },
    [scrollPrev, scrollNext]
  )

  React.useEffect(() => {
    if (!api || !setApi) return
    setApi(api)
  }, [api, setApi])

  React.useEffect(() => {
    if (!api) return
    onSelect(api)
    api.on("reInit", onSelect)
    api.on("select", onSelect)

    return () => {
      api?.off("select", onSelect)
    }
  }, [api, onSelect])

  return (
    <CarouselContext.Provider
      value={{
        carouselRef,
        api: api,
        opts,
        orientation:
          orientation || (opts?.axis === "y" ? "vertical" : "horizontal"),
        scrollPrev,
        scrollNext,
        canScrollPrev,
        canScrollNext,
      }}
    >
      <div
        onKeyDownCapture={handleKeyDown}
        className={cn("relative", className)}
        role="region"
        aria-roledescription="carousel"
        data-slot="carousel"
        {...props}
      >
        {children}
      </div>
    </CarouselContext.Provider>
  )
}

function CarouselContent({ className, ...props }: React.ComponentProps<"div">) {
  const { carouselRef, orientation } = useCarousel()

  return (
    <div
      ref={carouselRef}
      className="overflow-hidden"
      data-slot="carousel-content"
    >
      <div
        className={cn(
          "flex",
          orientation === "horizontal" ? "-ml-4" : "-mt-4 flex-col",
          className
        )}
        {...props}
      />
    </div>
  )
}

function CarouselItem({ className, ...props }: React.ComponentProps<"div">) {
  const { orientation } = useCarousel()

  return (
    <div
      role="group"
      aria-roledescription="slide"
      data-slot="carousel-item"
      className={cn(
        "min-w-0 shrink-0 grow-0 basis-full",
        orientation === "horizontal" ? "pl-4" : "pt-4",
        className
      )}
      {...props}
    />
  )
}

function CarouselPrevious({
  className,
  variant = "outline",
  size = "icon",
  ...props
}: React.ComponentProps<typeof Button>) {
  const { orientation, scrollPrev, canScrollPrev } = useCarousel()

  return (
    <Button
      data-slot="carousel-previous"
      variant={variant}
      size={size}
      className={cn(
        "absolute size-8 rounded-full",
        orientation === "horizontal"
          ? "top-1/2 -left-12 -translate-y-1/2"
          : "-top-12 left-1/2 -translate-x-1/2 rotate-90",
        className
      )}
      disabled={!canScrollPrev}
      onClick={scrollPrev}
      {...props}
    >
      <ArrowLeft />
      <span className="sr-only">Previous slide</span>
    </Button>
  )
}

function CarouselNext({
  className,
  variant = "outline",
  size = "icon",
  ...props
}: React.ComponentProps<typeof Button>) {
  const { orientation, scrollNext, canScrollNext } = useCarousel()

  return (
    <Button
      data-slot="carousel-next"
      variant={variant}
      size={size}
      className={cn(
        "absolute size-8 rounded-full",
        orientation === "horizontal"
          ? "top-1/2 -right-12 -translate-y-1/2"
          : "-bottom-12 left-1/2 -translate-x-1/2 rotate-90",
        className
      )}
      disabled={!canScrollNext}
      onClick={scrollNext}
      {...props}
    >
      <ArrowRight />
      <span className="sr-only">Next slide</span>
    </Button>
  )
}

export {
  type CarouselApi,
  Carousel,
  CarouselContent,
  CarouselItem,
  CarouselPrevious,
  CarouselNext,
}

// =============== FIN ARCHIVO [90]: src/components/ui/carousel.tsx =============== //

// =============== INICIO ARCHIVO [91]: src/components/ui/chart.tsx =============== //
"use client"

import * as React from "react"
import * as RechartsPrimitive from "recharts"

import { cn } from "@/lib/utils"

// Format: { THEME_NAME: CSS_SELECTOR }
const THEMES = { light: "", dark: ".dark" } as const

export type ChartConfig = {
  [k in string]: {
    label?: React.ReactNode
    icon?: React.ComponentType
  } & (
    | { color?: string; theme?: never }
    | { color?: never; theme: Record<keyof typeof THEMES, string> }
  )
}

type ChartContextProps = {
  config: ChartConfig
}

const ChartContext = React.createContext<ChartContextProps | null>(null)

function useChart() {
  const context = React.useContext(ChartContext)

  if (!context) {
    throw new Error("useChart must be used within a <ChartContainer />")
  }

  return context
}

function ChartContainer({
  id,
  className,
  children,
  config,
  ...props
}: React.ComponentProps<"div"> & {
  config: ChartConfig
  children: React.ComponentProps<
    typeof RechartsPrimitive.ResponsiveContainer
  >["children"]
}) {
  const uniqueId = React.useId()
  const chartId = `chart-${id || uniqueId.replace(/:/g, "")}`

  return (
    <ChartContext.Provider value={{ config }}>
      <div
        data-slot="chart"
        data-chart={chartId}
        className={cn(
          "[&_.recharts-cartesian-axis-tick_text]:fill-muted-foreground [&_.recharts-cartesian-grid_line[stroke='#ccc']]:stroke-border/50 [&_.recharts-curve.recharts-tooltip-cursor]:stroke-border [&_.recharts-polar-grid_[stroke='#ccc']]:stroke-border [&_.recharts-radial-bar-background-sector]:fill-muted [&_.recharts-rectangle.recharts-tooltip-cursor]:fill-muted [&_.recharts-reference-line_[stroke='#ccc']]:stroke-border flex aspect-video justify-center text-xs [&_.recharts-dot[stroke='#fff']]:stroke-transparent [&_.recharts-layer]:outline-hidden [&_.recharts-sector]:outline-hidden [&_.recharts-sector[stroke='#fff']]:stroke-transparent [&_.recharts-surface]:outline-hidden",
          className
        )}
        {...props}
      >
        <ChartStyle id={chartId} config={config} />
        <RechartsPrimitive.ResponsiveContainer>
          {children}
        </RechartsPrimitive.ResponsiveContainer>
      </div>
    </ChartContext.Provider>
  )
}

const ChartStyle = ({ id, config }: { id: string; config: ChartConfig }) => {
  const colorConfig = Object.entries(config).filter(
    ([, config]) => config.theme || config.color
  )

  if (!colorConfig.length) {
    return null
  }

  return (
    <style
      dangerouslySetInnerHTML={{
        __html: Object.entries(THEMES)
          .map(
            ([theme, prefix]) => `
${prefix} [data-chart=${id}] {
${colorConfig
  .map(([key, itemConfig]) => {
    const color =
      itemConfig.theme?.[theme as keyof typeof itemConfig.theme] ||
      itemConfig.color
    return color ? `  --color-${key}: ${color};` : null
  })
  .join("\n")}
}
`
          )
          .join("\n"),
      }}
    />
  )
}

const ChartTooltip = RechartsPrimitive.Tooltip

function ChartTooltipContent({
  active,
  payload,
  className,
  indicator = "dot",
  hideLabel = false,
  hideIndicator = false,
  label,
  labelFormatter,
  labelClassName,
  formatter,
  color,
  nameKey,
  labelKey,
}: React.ComponentProps<typeof RechartsPrimitive.Tooltip> &
  React.ComponentProps<"div"> & {
    hideLabel?: boolean
    hideIndicator?: boolean
    indicator?: "line" | "dot" | "dashed"
    nameKey?: string
    labelKey?: string
  }) {
  const { config } = useChart()

  const tooltipLabel = React.useMemo(() => {
    if (hideLabel || !payload?.length) {
      return null
    }

    const [item] = payload
    const key = `${labelKey || item?.dataKey || item?.name || "value"}`
    const itemConfig = getPayloadConfigFromPayload(config, item, key)
    const value =
      !labelKey && typeof label === "string"
        ? config[label as keyof typeof config]?.label || label
        : itemConfig?.label

    if (labelFormatter) {
      return (
        <div className={cn("font-medium", labelClassName)}>
          {labelFormatter(value, payload)}
        </div>
      )
    }

    if (!value) {
      return null
    }

    return <div className={cn("font-medium", labelClassName)}>{value}</div>
  }, [
    label,
    labelFormatter,
    payload,
    hideLabel,
    labelClassName,
    config,
    labelKey,
  ])

  if (!active || !payload?.length) {
    return null
  }

  const nestLabel = payload.length === 1 && indicator !== "dot"

  return (
    <div
      className={cn(
        "border-border/50 bg-background grid min-w-[8rem] items-start gap-1.5 rounded-lg border px-2.5 py-1.5 text-xs shadow-xl",
        className
      )}
    >
      {!nestLabel ? tooltipLabel : null}
      <div className="grid gap-1.5">
        {payload.map((item, index) => {
          const key = `${nameKey || item.name || item.dataKey || "value"}`
          const itemConfig = getPayloadConfigFromPayload(config, item, key)
          const indicatorColor = color || item.payload.fill || item.color

          return (
            <div
              key={item.dataKey}
              className={cn(
                "[&>svg]:text-muted-foreground flex w-full flex-wrap items-stretch gap-2 [&>svg]:h-2.5 [&>svg]:w-2.5",
                indicator === "dot" && "items-center"
              )}
            >
              {formatter && item?.value !== undefined && item.name ? (
                formatter(item.value, item.name, item, index, item.payload)
              ) : (
                <>
                  {itemConfig?.icon ? (
                    <itemConfig.icon />
                  ) : (
                    !hideIndicator && (
                      <div
                        className={cn(
                          "shrink-0 rounded-[2px] border-(--color-border) bg-(--color-bg)",
                          {
                            "h-2.5 w-2.5": indicator === "dot",
                            "w-1": indicator === "line",
                            "w-0 border-[1.5px] border-dashed bg-transparent":
                              indicator === "dashed",
                            "my-0.5": nestLabel && indicator === "dashed",
                          }
                        )}
                        style={
                          {
                            "--color-bg": indicatorColor,
                            "--color-border": indicatorColor,
                          } as React.CSSProperties
                        }
                      />
                    )
                  )}
                  <div
                    className={cn(
                      "flex flex-1 justify-between leading-none",
                      nestLabel ? "items-end" : "items-center"
                    )}
                  >
                    <div className="grid gap-1.5">
                      {nestLabel ? tooltipLabel : null}
                      <span className="text-muted-foreground">
                        {itemConfig?.label || item.name}
                      </span>
                    </div>
                    {item.value && (
                      <span className="text-foreground font-mono font-medium tabular-nums">
                        {item.value.toLocaleString()}
                      </span>
                    )}
                  </div>
                </>
              )}
            </div>
          )
        })}
      </div>
    </div>
  )
}

const ChartLegend = RechartsPrimitive.Legend

function ChartLegendContent({
  className,
  hideIcon = false,
  payload,
  verticalAlign = "bottom",
  nameKey,
}: React.ComponentProps<"div"> &
  Pick<RechartsPrimitive.LegendProps, "payload" | "verticalAlign"> & {
    hideIcon?: boolean
    nameKey?: string
  }) {
  const { config } = useChart()

  if (!payload?.length) {
    return null
  }

  return (
    <div
      className={cn(
        "flex items-center justify-center gap-4",
        verticalAlign === "top" ? "pb-3" : "pt-3",
        className
      )}
    >
      {payload.map((item) => {
        const key = `${nameKey || item.dataKey || "value"}`
        const itemConfig = getPayloadConfigFromPayload(config, item, key)

        return (
          <div
            key={item.value}
            className={cn(
              "[&>svg]:text-muted-foreground flex items-center gap-1.5 [&>svg]:h-3 [&>svg]:w-3"
            )}
          >
            {itemConfig?.icon && !hideIcon ? (
              <itemConfig.icon />
            ) : (
              <div
                className="h-2 w-2 shrink-0 rounded-[2px]"
                style={{
                  backgroundColor: item.color,
                }}
              />
            )}
            {itemConfig?.label}
          </div>
        )
      })}
    </div>
  )
}

// Helper to extract item config from a payload.
function getPayloadConfigFromPayload(
  config: ChartConfig,
  payload: unknown,
  key: string
) {
  if (typeof payload !== "object" || payload === null) {
    return undefined
  }

  const payloadPayload =
    "payload" in payload &&
    typeof payload.payload === "object" &&
    payload.payload !== null
      ? payload.payload
      : undefined

  let configLabelKey: string = key

  if (
    key in payload &&
    typeof payload[key as keyof typeof payload] === "string"
  ) {
    configLabelKey = payload[key as keyof typeof payload] as string
  } else if (
    payloadPayload &&
    key in payloadPayload &&
    typeof payloadPayload[key as keyof typeof payloadPayload] === "string"
  ) {
    configLabelKey = payloadPayload[
      key as keyof typeof payloadPayload
    ] as string
  }

  return configLabelKey in config
    ? config[configLabelKey]
    : config[key as keyof typeof config]
}

export {
  ChartContainer,
  ChartTooltip,
  ChartTooltipContent,
  ChartLegend,
  ChartLegendContent,
  ChartStyle,
}

// =============== FIN ARCHIVO [91]: src/components/ui/chart.tsx =============== //

// =============== INICIO ARCHIVO [92]: src/components/ui/checkbox.tsx =============== //
"use client"

import * as React from "react"
import * as CheckboxPrimitive from "@radix-ui/react-checkbox"
import { CheckIcon } from "lucide-react"

import { cn } from "@/lib/utils"

function Checkbox({
  className,
  ...props
}: React.ComponentProps<typeof CheckboxPrimitive.Root>) {
  return (
    <CheckboxPrimitive.Root
      data-slot="checkbox"
      className={cn(
        "peer border-input dark:bg-input/30 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground dark:data-[state=checked]:bg-primary data-[state=checked]:border-primary focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive size-4 shrink-0 rounded-[4px] border shadow-xs transition-shadow outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",
        className
      )}
      {...props}
    >
      <CheckboxPrimitive.Indicator
        data-slot="checkbox-indicator"
        className="flex items-center justify-center text-current transition-none"
      >
        <CheckIcon className="size-3.5" />
      </CheckboxPrimitive.Indicator>
    </CheckboxPrimitive.Root>
  )
}

export { Checkbox }

// =============== FIN ARCHIVO [92]: src/components/ui/checkbox.tsx =============== //

// =============== INICIO ARCHIVO [93]: src/components/ui/collapsible.tsx =============== //
"use client"

import * as CollapsiblePrimitive from "@radix-ui/react-collapsible"

function Collapsible({
  ...props
}: React.ComponentProps<typeof CollapsiblePrimitive.Root>) {
  return <CollapsiblePrimitive.Root data-slot="collapsible" {...props} />
}

function CollapsibleTrigger({
  ...props
}: React.ComponentProps<typeof CollapsiblePrimitive.CollapsibleTrigger>) {
  return (
    <CollapsiblePrimitive.CollapsibleTrigger
      data-slot="collapsible-trigger"
      {...props}
    />
  )
}

function CollapsibleContent({
  ...props
}: React.ComponentProps<typeof CollapsiblePrimitive.CollapsibleContent>) {
  return (
    <CollapsiblePrimitive.CollapsibleContent
      data-slot="collapsible-content"
      {...props}
    />
  )
}

export { Collapsible, CollapsibleTrigger, CollapsibleContent }

// =============== FIN ARCHIVO [93]: src/components/ui/collapsible.tsx =============== //

// =============== INICIO ARCHIVO [94]: src/components/ui/command.tsx =============== //
"use client"

import * as React from "react"
import { Command as CommandPrimitive } from "cmdk"
import { SearchIcon } from "lucide-react"

import { cn } from "@/lib/utils"
import {
  Dialog,
  DialogContent,
  DialogDescription,
  DialogHeader,
  DialogTitle,
} from "@/components/ui/dialog"

function Command({
  className,
  ...props
}: React.ComponentProps<typeof CommandPrimitive>) {
  return (
    <CommandPrimitive
      data-slot="command"
      className={cn(
        "bg-popover text-popover-foreground flex h-full w-full flex-col overflow-hidden rounded-md",
        className
      )}
      {...props}
    />
  )
}

function CommandDialog({
  title = "Command Palette",
  description = "Search for a command to run...",
  children,
  className,
  showCloseButton = true,
  ...props
}: React.ComponentProps<typeof Dialog> & {
  title?: string
  description?: string
  className?: string
  showCloseButton?: boolean
}) {
  return (
    <Dialog {...props}>
      <DialogHeader className="sr-only">
        <DialogTitle>{title}</DialogTitle>
        <DialogDescription>{description}</DialogDescription>
      </DialogHeader>
      <DialogContent
        className={cn("overflow-hidden p-0", className)}
        showCloseButton={showCloseButton}
      >
        <Command className="[&_[cmdk-group-heading]]:text-muted-foreground **:data-[slot=command-input-wrapper]:h-12 [&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:font-medium [&_[cmdk-group]]:px-2 [&_[cmdk-group]:not([hidden])_~[cmdk-group]]:pt-0 [&_[cmdk-input-wrapper]_svg]:h-5 [&_[cmdk-input-wrapper]_svg]:w-5 [&_[cmdk-input]]:h-12 [&_[cmdk-item]]:px-2 [&_[cmdk-item]]:py-3 [&_[cmdk-item]_svg]:h-5 [&_[cmdk-item]_svg]:w-5">
          {children}
        </Command>
      </DialogContent>
    </Dialog>
  )
}

function CommandInput({
  className,
  ...props
}: React.ComponentProps<typeof CommandPrimitive.Input>) {
  return (
    <div
      data-slot="command-input-wrapper"
      className="flex h-9 items-center gap-2 border-b px-3"
    >
      <SearchIcon className="size-4 shrink-0 opacity-50" />
      <CommandPrimitive.Input
        data-slot="command-input"
        className={cn(
          "placeholder:text-muted-foreground flex h-10 w-full rounded-md bg-transparent py-3 text-sm outline-hidden disabled:cursor-not-allowed disabled:opacity-50",
          className
        )}
        {...props}
      />
    </div>
  )
}

function CommandList({
  className,
  ...props
}: React.ComponentProps<typeof CommandPrimitive.List>) {
  return (
    <CommandPrimitive.List
      data-slot="command-list"
      className={cn(
        "max-h-[300px] scroll-py-1 overflow-x-hidden overflow-y-auto",
        className
      )}
      {...props}
    />
  )
}

function CommandEmpty({
  ...props
}: React.ComponentProps<typeof CommandPrimitive.Empty>) {
  return (
    <CommandPrimitive.Empty
      data-slot="command-empty"
      className="py-6 text-center text-sm"
      {...props}
    />
  )
}

function CommandGroup({
  className,
  ...props
}: React.ComponentProps<typeof CommandPrimitive.Group>) {
  return (
    <CommandPrimitive.Group
      data-slot="command-group"
      className={cn(
        "text-foreground [&_[cmdk-group-heading]]:text-muted-foreground overflow-hidden p-1 [&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:py-1.5 [&_[cmdk-group-heading]]:text-xs [&_[cmdk-group-heading]]:font-medium",
        className
      )}
      {...props}
    />
  )
}

function CommandSeparator({
  className,
  ...props
}: React.ComponentProps<typeof CommandPrimitive.Separator>) {
  return (
    <CommandPrimitive.Separator
      data-slot="command-separator"
      className={cn("bg-border -mx-1 h-px", className)}
      {...props}
    />
  )
}

function CommandItem({
  className,
  ...props
}: React.ComponentProps<typeof CommandPrimitive.Item>) {
  return (
    <CommandPrimitive.Item
      data-slot="command-item"
      className={cn(
        "data-[selected=true]:bg-accent data-[selected=true]:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex cursor-default items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-hidden select-none data-[disabled=true]:pointer-events-none data-[disabled=true]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",
        className
      )}
      {...props}
    />
  )
}

function CommandShortcut({
  className,
  ...props
}: React.ComponentProps<"span">) {
  return (
    <span
      data-slot="command-shortcut"
      className={cn(
        "text-muted-foreground ml-auto text-xs tracking-widest",
        className
      )}
      {...props}
    />
  )
}

export {
  Command,
  CommandDialog,
  CommandInput,
  CommandList,
  CommandEmpty,
  CommandGroup,
  CommandItem,
  CommandShortcut,
  CommandSeparator,
}

// =============== FIN ARCHIVO [94]: src/components/ui/command.tsx =============== //

// =============== INICIO ARCHIVO [95]: src/components/ui/context-menu.tsx =============== //
"use client"

import * as React from "react"
import * as ContextMenuPrimitive from "@radix-ui/react-context-menu"
import { CheckIcon, ChevronRightIcon, CircleIcon } from "lucide-react"

import { cn } from "@/lib/utils"

function ContextMenu({
  ...props
}: React.ComponentProps<typeof ContextMenuPrimitive.Root>) {
  return <ContextMenuPrimitive.Root data-slot="context-menu" {...props} />
}

function ContextMenuTrigger({
  ...props
}: React.ComponentProps<typeof ContextMenuPrimitive.Trigger>) {
  return (
    <ContextMenuPrimitive.Trigger data-slot="context-menu-trigger" {...props} />
  )
}

function ContextMenuGroup({
  ...props
}: React.ComponentProps<typeof ContextMenuPrimitive.Group>) {
  return (
    <ContextMenuPrimitive.Group data-slot="context-menu-group" {...props} />
  )
}

function ContextMenuPortal({
  ...props
}: React.ComponentProps<typeof ContextMenuPrimitive.Portal>) {
  return (
    <ContextMenuPrimitive.Portal data-slot="context-menu-portal" {...props} />
  )
}

function ContextMenuSub({
  ...props
}: React.ComponentProps<typeof ContextMenuPrimitive.Sub>) {
  return <ContextMenuPrimitive.Sub data-slot="context-menu-sub" {...props} />
}

function ContextMenuRadioGroup({
  ...props
}: React.ComponentProps<typeof ContextMenuPrimitive.RadioGroup>) {
  return (
    <ContextMenuPrimitive.RadioGroup
      data-slot="context-menu-radio-group"
      {...props}
    />
  )
}

function ContextMenuSubTrigger({
  className,
  inset,
  children,
  ...props
}: React.ComponentProps<typeof ContextMenuPrimitive.SubTrigger> & {
  inset?: boolean
}) {
  return (
    <ContextMenuPrimitive.SubTrigger
      data-slot="context-menu-sub-trigger"
      data-inset={inset}
      className={cn(
        "focus:bg-accent focus:text-accent-foreground data-[state=open]:bg-accent data-[state=open]:text-accent-foreground flex cursor-default items-center rounded-sm px-2 py-1.5 text-sm outline-hidden select-none data-[inset]:pl-8 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",
        className
      )}
      {...props}
    >
      {children}
      <ChevronRightIcon className="ml-auto" />
    </ContextMenuPrimitive.SubTrigger>
  )
}

function ContextMenuSubContent({
  className,
  ...props
}: React.ComponentProps<typeof ContextMenuPrimitive.SubContent>) {
  return (
    <ContextMenuPrimitive.SubContent
      data-slot="context-menu-sub-content"
      className={cn(
        "bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 min-w-[8rem] origin-(--radix-context-menu-content-transform-origin) overflow-hidden rounded-md border p-1 shadow-lg",
        className
      )}
      {...props}
    />
  )
}

function ContextMenuContent({
  className,
  ...props
}: React.ComponentProps<typeof ContextMenuPrimitive.Content>) {
  return (
    <ContextMenuPrimitive.Portal>
      <ContextMenuPrimitive.Content
        data-slot="context-menu-content"
        className={cn(
          "bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 max-h-(--radix-context-menu-content-available-height) min-w-[8rem] origin-(--radix-context-menu-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border p-1 shadow-md",
          className
        )}
        {...props}
      />
    </ContextMenuPrimitive.Portal>
  )
}

function ContextMenuItem({
  className,
  inset,
  variant = "default",
  ...props
}: React.ComponentProps<typeof ContextMenuPrimitive.Item> & {
  inset?: boolean
  variant?: "default" | "destructive"
}) {
  return (
    <ContextMenuPrimitive.Item
      data-slot="context-menu-item"
      data-inset={inset}
      data-variant={variant}
      className={cn(
        "focus:bg-accent focus:text-accent-foreground data-[variant=destructive]:text-destructive data-[variant=destructive]:focus:bg-destructive/10 dark:data-[variant=destructive]:focus:bg-destructive/20 data-[variant=destructive]:focus:text-destructive data-[variant=destructive]:*:[svg]:!text-destructive [&_svg:not([class*='text-'])]:text-muted-foreground relative flex cursor-default items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 data-[inset]:pl-8 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",
        className
      )}
      {...props}
    />
  )
}

function ContextMenuCheckboxItem({
  className,
  children,
  checked,
  ...props
}: React.ComponentProps<typeof ContextMenuPrimitive.CheckboxItem>) {
  return (
    <ContextMenuPrimitive.CheckboxItem
      data-slot="context-menu-checkbox-item"
      className={cn(
        "focus:bg-accent focus:text-accent-foreground relative flex cursor-default items-center gap-2 rounded-sm py-1.5 pr-2 pl-8 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",
        className
      )}
      checked={checked}
      {...props}
    >
      <span className="pointer-events-none absolute left-2 flex size-3.5 items-center justify-center">
        <ContextMenuPrimitive.ItemIndicator>
          <CheckIcon className="size-4" />
        </ContextMenuPrimitive.ItemIndicator>
      </span>
      {children}
    </ContextMenuPrimitive.CheckboxItem>
  )
}

function ContextMenuRadioItem({
  className,
  children,
  ...props
}: React.ComponentProps<typeof ContextMenuPrimitive.RadioItem>) {
  return (
    <ContextMenuPrimitive.RadioItem
      data-slot="context-menu-radio-item"
      className={cn(
        "focus:bg-accent focus:text-accent-foreground relative flex cursor-default items-center gap-2 rounded-sm py-1.5 pr-2 pl-8 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",
        className
      )}
      {...props}
    >
      <span className="pointer-events-none absolute left-2 flex size-3.5 items-center justify-center">
        <ContextMenuPrimitive.ItemIndicator>
          <CircleIcon className="size-2 fill-current" />
        </ContextMenuPrimitive.ItemIndicator>
      </span>
      {children}
    </ContextMenuPrimitive.RadioItem>
  )
}

function ContextMenuLabel({
  className,
  inset,
  ...props
}: React.ComponentProps<typeof ContextMenuPrimitive.Label> & {
  inset?: boolean
}) {
  return (
    <ContextMenuPrimitive.Label
      data-slot="context-menu-label"
      data-inset={inset}
      className={cn(
        "text-foreground px-2 py-1.5 text-sm font-medium data-[inset]:pl-8",
        className
      )}
      {...props}
    />
  )
}

function ContextMenuSeparator({
  className,
  ...props
}: React.ComponentProps<typeof ContextMenuPrimitive.Separator>) {
  return (
    <ContextMenuPrimitive.Separator
      data-slot="context-menu-separator"
      className={cn("bg-border -mx-1 my-1 h-px", className)}
      {...props}
    />
  )
}

function ContextMenuShortcut({
  className,
  ...props
}: React.ComponentProps<"span">) {
  return (
    <span
      data-slot="context-menu-shortcut"
      className={cn(
        "text-muted-foreground ml-auto text-xs tracking-widest",
        className
      )}
      {...props}
    />
  )
}

export {
  ContextMenu,
  ContextMenuTrigger,
  ContextMenuContent,
  ContextMenuItem,
  ContextMenuCheckboxItem,
  ContextMenuRadioItem,
  ContextMenuLabel,
  ContextMenuSeparator,
  ContextMenuShortcut,
  ContextMenuGroup,
  ContextMenuPortal,
  ContextMenuSub,
  ContextMenuSubContent,
  ContextMenuSubTrigger,
  ContextMenuRadioGroup,
}

// =============== FIN ARCHIVO [95]: src/components/ui/context-menu.tsx =============== //

// =============== INICIO ARCHIVO [96]: src/components/ui/dialog.tsx =============== //
"use client"

import * as React from "react"
import * as DialogPrimitive from "@radix-ui/react-dialog"
import { XIcon } from "lucide-react"

import { cn } from "@/lib/utils"

function Dialog({
  ...props
}: React.ComponentProps<typeof DialogPrimitive.Root>) {
  return <DialogPrimitive.Root data-slot="dialog" {...props} />
}

function DialogTrigger({
  ...props
}: React.ComponentProps<typeof DialogPrimitive.Trigger>) {
  return <DialogPrimitive.Trigger data-slot="dialog-trigger" {...props} />
}

function DialogPortal({
  ...props
}: React.ComponentProps<typeof DialogPrimitive.Portal>) {
  return <DialogPrimitive.Portal data-slot="dialog-portal" {...props} />
}

function DialogClose({
  ...props
}: React.ComponentProps<typeof DialogPrimitive.Close>) {
  return <DialogPrimitive.Close data-slot="dialog-close" {...props} />
}

function DialogOverlay({
  className,
  ...props
}: React.ComponentProps<typeof DialogPrimitive.Overlay>) {
  return (
    <DialogPrimitive.Overlay
      data-slot="dialog-overlay"
      className={cn(
        "data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",
        className
      )}
      {...props}
    />
  )
}

function DialogContent({
  className,
  children,
  showCloseButton = true,
  ...props
}: React.ComponentProps<typeof DialogPrimitive.Content> & {
  showCloseButton?: boolean
}) {
  return (
    <DialogPortal data-slot="dialog-portal">
      <DialogOverlay />
      <DialogPrimitive.Content
        data-slot="dialog-content"
        className={cn(
          "bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",
          className
        )}
        {...props}
      >
        {children}
        {showCloseButton && (
          <DialogPrimitive.Close
            data-slot="dialog-close"
            className="ring-offset-background focus:ring-ring data-[state=open]:bg-accent data-[state=open]:text-muted-foreground absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4"
          >
            <XIcon />
            <span className="sr-only">Close</span>
          </DialogPrimitive.Close>
        )}
      </DialogPrimitive.Content>
    </DialogPortal>
  )
}

function DialogHeader({ className, ...props }: React.ComponentProps<"div">) {
  return (
    <div
      data-slot="dialog-header"
      className={cn("flex flex-col gap-2 text-center sm:text-left", className)}
      {...props}
    />
  )
}

function DialogFooter({ className, ...props }: React.ComponentProps<"div">) {
  return (
    <div
      data-slot="dialog-footer"
      className={cn(
        "flex flex-col-reverse gap-2 sm:flex-row sm:justify-end",
        className
      )}
      {...props}
    />
  )
}

function DialogTitle({
  className,
  ...props
}: React.ComponentProps<typeof DialogPrimitive.Title>) {
  return (
    <DialogPrimitive.Title
      data-slot="dialog-title"
      className={cn("text-lg leading-none font-semibold", className)}
      {...props}
    />
  )
}

function DialogDescription({
  className,
  ...props
}: React.ComponentProps<typeof DialogPrimitive.Description>) {
  return (
    <DialogPrimitive.Description
      data-slot="dialog-description"
      className={cn("text-muted-foreground text-sm", className)}
      {...props}
    />
  )
}

export {
  Dialog,
  DialogClose,
  DialogContent,
  DialogDescription,
  DialogFooter,
  DialogHeader,
  DialogOverlay,
  DialogPortal,
  DialogTitle,
  DialogTrigger,
}

// =============== FIN ARCHIVO [96]: src/components/ui/dialog.tsx =============== //

// =============== INICIO ARCHIVO [97]: src/components/ui/drawer.tsx =============== //
"use client"

import * as React from "react"
import { Drawer as DrawerPrimitive } from "vaul"

import { cn } from "@/lib/utils"

function Drawer({
  ...props
}: React.ComponentProps<typeof DrawerPrimitive.Root>) {
  return <DrawerPrimitive.Root data-slot="drawer" {...props} />
}

function DrawerTrigger({
  ...props
}: React.ComponentProps<typeof DrawerPrimitive.Trigger>) {
  return <DrawerPrimitive.Trigger data-slot="drawer-trigger" {...props} />
}

function DrawerPortal({
  ...props
}: React.ComponentProps<typeof DrawerPrimitive.Portal>) {
  return <DrawerPrimitive.Portal data-slot="drawer-portal" {...props} />
}

function DrawerClose({
  ...props
}: React.ComponentProps<typeof DrawerPrimitive.Close>) {
  return <DrawerPrimitive.Close data-slot="drawer-close" {...props} />
}

function DrawerOverlay({
  className,
  ...props
}: React.ComponentProps<typeof DrawerPrimitive.Overlay>) {
  return (
    <DrawerPrimitive.Overlay
      data-slot="drawer-overlay"
      className={cn(
        "data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",
        className
      )}
      {...props}
    />
  )
}

function DrawerContent({
  className,
  children,
  ...props
}: React.ComponentProps<typeof DrawerPrimitive.Content>) {
  return (
    <DrawerPortal data-slot="drawer-portal">
      <DrawerOverlay />
      <DrawerPrimitive.Content
        data-slot="drawer-content"
        className={cn(
          "group/drawer-content bg-background fixed z-50 flex h-auto flex-col",
          "data-[vaul-drawer-direction=top]:inset-x-0 data-[vaul-drawer-direction=top]:top-0 data-[vaul-drawer-direction=top]:mb-24 data-[vaul-drawer-direction=top]:max-h-[80vh] data-[vaul-drawer-direction=top]:rounded-b-lg data-[vaul-drawer-direction=top]:border-b",
          "data-[vaul-drawer-direction=bottom]:inset-x-0 data-[vaul-drawer-direction=bottom]:bottom-0 data-[vaul-drawer-direction=bottom]:mt-24 data-[vaul-drawer-direction=bottom]:max-h-[80vh] data-[vaul-drawer-direction=bottom]:rounded-t-lg data-[vaul-drawer-direction=bottom]:border-t",
          "data-[vaul-drawer-direction=right]:inset-y-0 data-[vaul-drawer-direction=right]:right-0 data-[vaul-drawer-direction=right]:w-3/4 data-[vaul-drawer-direction=right]:border-l data-[vaul-drawer-direction=right]:sm:max-w-sm",
          "data-[vaul-drawer-direction=left]:inset-y-0 data-[vaul-drawer-direction=left]:left-0 data-[vaul-drawer-direction=left]:w-3/4 data-[vaul-drawer-direction=left]:border-r data-[vaul-drawer-direction=left]:sm:max-w-sm",
          className
        )}
        {...props}
      >
        <div className="bg-muted mx-auto mt-4 hidden h-2 w-[100px] shrink-0 rounded-full group-data-[vaul-drawer-direction=bottom]/drawer-content:block" />
        {children}
      </DrawerPrimitive.Content>
    </DrawerPortal>
  )
}

function DrawerHeader({ className, ...props }: React.ComponentProps<"div">) {
  return (
    <div
      data-slot="drawer-header"
      className={cn(
        "flex flex-col gap-0.5 p-4 group-data-[vaul-drawer-direction=bottom]/drawer-content:text-center group-data-[vaul-drawer-direction=top]/drawer-content:text-center md:gap-1.5 md:text-left",
        className
      )}
      {...props}
    />
  )
}

function DrawerFooter({ className, ...props }: React.ComponentProps<"div">) {
  return (
    <div
      data-slot="drawer-footer"
      className={cn("mt-auto flex flex-col gap-2 p-4", className)}
      {...props}
    />
  )
}

function DrawerTitle({
  className,
  ...props
}: React.ComponentProps<typeof DrawerPrimitive.Title>) {
  return (
    <DrawerPrimitive.Title
      data-slot="drawer-title"
      className={cn("text-foreground font-semibold", className)}
      {...props}
    />
  )
}

function DrawerDescription({
  className,
  ...props
}: React.ComponentProps<typeof DrawerPrimitive.Description>) {
  return (
    <DrawerPrimitive.Description
      data-slot="drawer-description"
      className={cn("text-muted-foreground text-sm", className)}
      {...props}
    />
  )
}

export {
  Drawer,
  DrawerPortal,
  DrawerOverlay,
  DrawerTrigger,
  DrawerClose,
  DrawerContent,
  DrawerHeader,
  DrawerFooter,
  DrawerTitle,
  DrawerDescription,
}

// =============== FIN ARCHIVO [97]: src/components/ui/drawer.tsx =============== //

// =============== INICIO ARCHIVO [98]: src/components/ui/dropdown-menu.tsx =============== //
"use client"

import * as React from "react"
import * as DropdownMenuPrimitive from "@radix-ui/react-dropdown-menu"
import { CheckIcon, ChevronRightIcon, CircleIcon } from "lucide-react"

import { cn } from "@/lib/utils"

function DropdownMenu({
  ...props
}: React.ComponentProps<typeof DropdownMenuPrimitive.Root>) {
  return <DropdownMenuPrimitive.Root data-slot="dropdown-menu" {...props} />
}

function DropdownMenuPortal({
  ...props
}: React.ComponentProps<typeof DropdownMenuPrimitive.Portal>) {
  return (
    <DropdownMenuPrimitive.Portal data-slot="dropdown-menu-portal" {...props} />
  )
}

function DropdownMenuTrigger({
  ...props
}: React.ComponentProps<typeof DropdownMenuPrimitive.Trigger>) {
  return (
    <DropdownMenuPrimitive.Trigger
      data-slot="dropdown-menu-trigger"
      {...props}
    />
  )
}

function DropdownMenuContent({
  className,
  sideOffset = 4,
  ...props
}: React.ComponentProps<typeof DropdownMenuPrimitive.Content>) {
  return (
    <DropdownMenuPrimitive.Portal>
      <DropdownMenuPrimitive.Content
        data-slot="dropdown-menu-content"
        sideOffset={sideOffset}
        className={cn(
          "bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 max-h-(--radix-dropdown-menu-content-available-height) min-w-[8rem] origin-(--radix-dropdown-menu-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border p-1 shadow-md",
          className
        )}
        {...props}
      />
    </DropdownMenuPrimitive.Portal>
  )
}

function DropdownMenuGroup({
  ...props
}: React.ComponentProps<typeof DropdownMenuPrimitive.Group>) {
  return (
    <DropdownMenuPrimitive.Group data-slot="dropdown-menu-group" {...props} />
  )
}

function DropdownMenuItem({
  className,
  inset,
  variant = "default",
  ...props
}: React.ComponentProps<typeof DropdownMenuPrimitive.Item> & {
  inset?: boolean
  variant?: "default" | "destructive"
}) {
  return (
    <DropdownMenuPrimitive.Item
      data-slot="dropdown-menu-item"
      data-inset={inset}
      data-variant={variant}
      className={cn(
        "focus:bg-accent focus:text-accent-foreground data-[variant=destructive]:text-destructive data-[variant=destructive]:focus:bg-destructive/10 dark:data-[variant=destructive]:focus:bg-destructive/20 data-[variant=destructive]:focus:text-destructive data-[variant=destructive]:*:[svg]:!text-destructive [&_svg:not([class*='text-'])]:text-muted-foreground relative flex cursor-default items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 data-[inset]:pl-8 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",
        className
      )}
      {...props}
    />
  )
}

function DropdownMenuCheckboxItem({
  className,
  children,
  checked,
  ...props
}: React.ComponentProps<typeof DropdownMenuPrimitive.CheckboxItem>) {
  return (
    <DropdownMenuPrimitive.CheckboxItem
      data-slot="dropdown-menu-checkbox-item"
      className={cn(
        "focus:bg-accent focus:text-accent-foreground relative flex cursor-default items-center gap-2 rounded-sm py-1.5 pr-2 pl-8 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",
        className
      )}
      checked={checked}
      {...props}
    >
      <span className="pointer-events-none absolute left-2 flex size-3.5 items-center justify-center">
        <DropdownMenuPrimitive.ItemIndicator>
          <CheckIcon className="size-4" />
        </DropdownMenuPrimitive.ItemIndicator>
      </span>
      {children}
    </DropdownMenuPrimitive.CheckboxItem>
  )
}

function DropdownMenuRadioGroup({
  ...props
}: React.ComponentProps<typeof DropdownMenuPrimitive.RadioGroup>) {
  return (
    <DropdownMenuPrimitive.RadioGroup
      data-slot="dropdown-menu-radio-group"
      {...props}
    />
  )
}

function DropdownMenuRadioItem({
  className,
  children,
  ...props
}: React.ComponentProps<typeof DropdownMenuPrimitive.RadioItem>) {
  return (
    <DropdownMenuPrimitive.RadioItem
      data-slot="dropdown-menu-radio-item"
      className={cn(
        "focus:bg-accent focus:text-accent-foreground relative flex cursor-default items-center gap-2 rounded-sm py-1.5 pr-2 pl-8 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",
        className
      )}
      {...props}
    >
      <span className="pointer-events-none absolute left-2 flex size-3.5 items-center justify-center">
        <DropdownMenuPrimitive.ItemIndicator>
          <CircleIcon className="size-2 fill-current" />
        </DropdownMenuPrimitive.ItemIndicator>
      </span>
      {children}
    </DropdownMenuPrimitive.RadioItem>
  )
}

function DropdownMenuLabel({
  className,
  inset,
  ...props
}: React.ComponentProps<typeof DropdownMenuPrimitive.Label> & {
  inset?: boolean
}) {
  return (
    <DropdownMenuPrimitive.Label
      data-slot="dropdown-menu-label"
      data-inset={inset}
      className={cn(
        "px-2 py-1.5 text-sm font-medium data-[inset]:pl-8",
        className
      )}
      {...props}
    />
  )
}

function DropdownMenuSeparator({
  className,
  ...props
}: React.ComponentProps<typeof DropdownMenuPrimitive.Separator>) {
  return (
    <DropdownMenuPrimitive.Separator
      data-slot="dropdown-menu-separator"
      className={cn("bg-border -mx-1 my-1 h-px", className)}
      {...props}
    />
  )
}

function DropdownMenuShortcut({
  className,
  ...props
}: React.ComponentProps<"span">) {
  return (
    <span
      data-slot="dropdown-menu-shortcut"
      className={cn(
        "text-muted-foreground ml-auto text-xs tracking-widest",
        className
      )}
      {...props}
    />
  )
}

function DropdownMenuSub({
  ...props
}: React.ComponentProps<typeof DropdownMenuPrimitive.Sub>) {
  return <DropdownMenuPrimitive.Sub data-slot="dropdown-menu-sub" {...props} />
}

function DropdownMenuSubTrigger({
  className,
  inset,
  children,
  ...props
}: React.ComponentProps<typeof DropdownMenuPrimitive.SubTrigger> & {
  inset?: boolean
}) {
  return (
    <DropdownMenuPrimitive.SubTrigger
      data-slot="dropdown-menu-sub-trigger"
      data-inset={inset}
      className={cn(
        "focus:bg-accent focus:text-accent-foreground data-[state=open]:bg-accent data-[state=open]:text-accent-foreground flex cursor-default items-center rounded-sm px-2 py-1.5 text-sm outline-hidden select-none data-[inset]:pl-8",
        className
      )}
      {...props}
    >
      {children}
      <ChevronRightIcon className="ml-auto size-4" />
    </DropdownMenuPrimitive.SubTrigger>
  )
}

function DropdownMenuSubContent({
  className,
  ...props
}: React.ComponentProps<typeof DropdownMenuPrimitive.SubContent>) {
  return (
    <DropdownMenuPrimitive.SubContent
      data-slot="dropdown-menu-sub-content"
      className={cn(
        "bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 min-w-[8rem] origin-(--radix-dropdown-menu-content-transform-origin) overflow-hidden rounded-md border p-1 shadow-lg",
        className
      )}
      {...props}
    />
  )
}

export {
  DropdownMenu,
  DropdownMenuPortal,
  DropdownMenuTrigger,
  DropdownMenuContent,
  DropdownMenuGroup,
  DropdownMenuLabel,
  DropdownMenuItem,
  DropdownMenuCheckboxItem,
  DropdownMenuRadioGroup,
  DropdownMenuRadioItem,
  DropdownMenuSeparator,
  DropdownMenuShortcut,
  DropdownMenuSub,
  DropdownMenuSubTrigger,
  DropdownMenuSubContent,
}

// =============== FIN ARCHIVO [98]: src/components/ui/dropdown-menu.tsx =============== //

// =============== INICIO ARCHIVO [99]: src/components/ui/form.tsx =============== //
"use client"

import * as React from "react"
import * as LabelPrimitive from "@radix-ui/react-label"
import { Slot } from "@radix-ui/react-slot"
import {
  Controller,
  FormProvider,
  useFormContext,
  useFormState,
  type ControllerProps,
  type FieldPath,
  type FieldValues,
} from "react-hook-form"

import { cn } from "@/lib/utils"
import { Label } from "@/components/ui/label"

const Form = FormProvider

type FormFieldContextValue<
  TFieldValues extends FieldValues = FieldValues,
  TName extends FieldPath<TFieldValues> = FieldPath<TFieldValues>,
> = {
  name: TName
}

const FormFieldContext = React.createContext<FormFieldContextValue>(
  {} as FormFieldContextValue
)

const FormField = <
  TFieldValues extends FieldValues = FieldValues,
  TName extends FieldPath<TFieldValues> = FieldPath<TFieldValues>,
>({
  ...props
}: ControllerProps<TFieldValues, TName>) => {
  return (
    <FormFieldContext.Provider value={{ name: props.name }}>
      <Controller {...props} />
    </FormFieldContext.Provider>
  )
}

const useFormField = () => {
  const fieldContext = React.useContext(FormFieldContext)
  const itemContext = React.useContext(FormItemContext)
  const { getFieldState } = useFormContext()
  const formState = useFormState({ name: fieldContext.name })
  const fieldState = getFieldState(fieldContext.name, formState)

  if (!fieldContext) {
    throw new Error("useFormField should be used within <FormField>")
  }

  const { id } = itemContext

  return {
    id,
    name: fieldContext.name,
    formItemId: `${id}-form-item`,
    formDescriptionId: `${id}-form-item-description`,
    formMessageId: `${id}-form-item-message`,
    ...fieldState,
  }
}

type FormItemContextValue = {
  id: string
}

const FormItemContext = React.createContext<FormItemContextValue>(
  {} as FormItemContextValue
)

function FormItem({ className, ...props }: React.ComponentProps<"div">) {
  const id = React.useId()

  return (
    <FormItemContext.Provider value={{ id }}>
      <div
        data-slot="form-item"
        className={cn("grid gap-2", className)}
        {...props}
      />
    </FormItemContext.Provider>
  )
}

function FormLabel({
  className,
  ...props
}: React.ComponentProps<typeof LabelPrimitive.Root>) {
  const { error, formItemId } = useFormField()

  return (
    <Label
      data-slot="form-label"
      data-error={!!error}
      className={cn("data-[error=true]:text-destructive", className)}
      htmlFor={formItemId}
      {...props}
    />
  )
}

function FormControl({ ...props }: React.ComponentProps<typeof Slot>) {
  const { error, formItemId, formDescriptionId, formMessageId } = useFormField()

  return (
    <Slot
      data-slot="form-control"
      id={formItemId}
      aria-describedby={
        !error
          ? `${formDescriptionId}`
          : `${formDescriptionId} ${formMessageId}`
      }
      aria-invalid={!!error}
      {...props}
    />
  )
}

function FormDescription({ className, ...props }: React.ComponentProps<"p">) {
  const { formDescriptionId } = useFormField()

  return (
    <p
      data-slot="form-description"
      id={formDescriptionId}
      className={cn("text-muted-foreground text-sm", className)}
      {...props}
    />
  )
}

function FormMessage({ className, ...props }: React.ComponentProps<"p">) {
  const { error, formMessageId } = useFormField()
  const body = error ? String(error?.message ?? "") : props.children

  if (!body) {
    return null
  }

  return (
    <p
      data-slot="form-message"
      id={formMessageId}
      className={cn("text-destructive text-sm", className)}
      {...props}
    >
      {body}
    </p>
  )
}

export {
  useFormField,
  Form,
  FormItem,
  FormLabel,
  FormControl,
  FormDescription,
  FormMessage,
  FormField,
}

// =============== FIN ARCHIVO [99]: src/components/ui/form.tsx =============== //

// =============== INICIO ARCHIVO [100]: src/components/ui/hover-card.tsx =============== //
"use client"

import * as React from "react"
import * as HoverCardPrimitive from "@radix-ui/react-hover-card"

import { cn } from "@/lib/utils"

function HoverCard({
  ...props
}: React.ComponentProps<typeof HoverCardPrimitive.Root>) {
  return <HoverCardPrimitive.Root data-slot="hover-card" {...props} />
}

function HoverCardTrigger({
  ...props
}: React.ComponentProps<typeof HoverCardPrimitive.Trigger>) {
  return (
    <HoverCardPrimitive.Trigger data-slot="hover-card-trigger" {...props} />
  )
}

function HoverCardContent({
  className,
  align = "center",
  sideOffset = 4,
  ...props
}: React.ComponentProps<typeof HoverCardPrimitive.Content>) {
  return (
    <HoverCardPrimitive.Portal data-slot="hover-card-portal">
      <HoverCardPrimitive.Content
        data-slot="hover-card-content"
        align={align}
        sideOffset={sideOffset}
        className={cn(
          "bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 w-64 origin-(--radix-hover-card-content-transform-origin) rounded-md border p-4 shadow-md outline-hidden",
          className
        )}
        {...props}
      />
    </HoverCardPrimitive.Portal>
  )
}

export { HoverCard, HoverCardTrigger, HoverCardContent }

// =============== FIN ARCHIVO [100]: src/components/ui/hover-card.tsx =============== //

// =============== INICIO ARCHIVO [101]: src/components/ui/input-otp.tsx =============== //
"use client"

import * as React from "react"
import { OTPInput, OTPInputContext } from "input-otp"
import { MinusIcon } from "lucide-react"

import { cn } from "@/lib/utils"

function InputOTP({
  className,
  containerClassName,
  ...props
}: React.ComponentProps<typeof OTPInput> & {
  containerClassName?: string
}) {
  return (
    <OTPInput
      data-slot="input-otp"
      containerClassName={cn(
        "flex items-center gap-2 has-disabled:opacity-50",
        containerClassName
      )}
      className={cn("disabled:cursor-not-allowed", className)}
      {...props}
    />
  )
}

function InputOTPGroup({ className, ...props }: React.ComponentProps<"div">) {
  return (
    <div
      data-slot="input-otp-group"
      className={cn("flex items-center", className)}
      {...props}
    />
  )
}

function InputOTPSlot({
  index,
  className,
  ...props
}: React.ComponentProps<"div"> & {
  index: number
}) {
  const inputOTPContext = React.useContext(OTPInputContext)
  const { char, hasFakeCaret, isActive } = inputOTPContext?.slots[index] ?? {}

  return (
    <div
      data-slot="input-otp-slot"
      data-active={isActive}
      className={cn(
        "data-[active=true]:border-ring data-[active=true]:ring-ring/50 data-[active=true]:aria-invalid:ring-destructive/20 dark:data-[active=true]:aria-invalid:ring-destructive/40 aria-invalid:border-destructive data-[active=true]:aria-invalid:border-destructive dark:bg-input/30 border-input relative flex h-9 w-9 items-center justify-center border-y border-r text-sm shadow-xs transition-all outline-none first:rounded-l-md first:border-l last:rounded-r-md data-[active=true]:z-10 data-[active=true]:ring-[3px]",
        className
      )}
      {...props}
    >
      {char}
      {hasFakeCaret && (
        <div className="pointer-events-none absolute inset-0 flex items-center justify-center">
          <div className="animate-caret-blink bg-foreground h-4 w-px duration-1000" />
        </div>
      )}
    </div>
  )
}

function InputOTPSeparator({ ...props }: React.ComponentProps<"div">) {
  return (
    <div data-slot="input-otp-separator" role="separator" {...props}>
      <MinusIcon />
    </div>
  )
}

export { InputOTP, InputOTPGroup, InputOTPSlot, InputOTPSeparator }

// =============== FIN ARCHIVO [101]: src/components/ui/input-otp.tsx =============== //

// =============== INICIO ARCHIVO [102]: src/components/ui/input.tsx =============== //
import * as React from "react"

import { cn } from "@/lib/utils"

function Input({ className, type, ...props }: React.ComponentProps<"input">) {
  return (
    <input
      type={type}
      data-slot="input"
      className={cn(
        "file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input flex h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",
        "focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]",
        "aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",
        className
      )}
      {...props}
    />
  )
}

export { Input }

// =============== FIN ARCHIVO [102]: src/components/ui/input.tsx =============== //

// =============== INICIO ARCHIVO [103]: src/components/ui/label.tsx =============== //
"use client"

import * as React from "react"
import * as LabelPrimitive from "@radix-ui/react-label"

import { cn } from "@/lib/utils"

function Label({
  className,
  ...props
}: React.ComponentProps<typeof LabelPrimitive.Root>) {
  return (
    <LabelPrimitive.Root
      data-slot="label"
      className={cn(
        "flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",
        className
      )}
      {...props}
    />
  )
}

export { Label }

// =============== FIN ARCHIVO [103]: src/components/ui/label.tsx =============== //

// =============== INICIO ARCHIVO [104]: src/components/ui/menubar.tsx =============== //
"use client"

import * as React from "react"
import * as MenubarPrimitive from "@radix-ui/react-menubar"
import { CheckIcon, ChevronRightIcon, CircleIcon } from "lucide-react"

import { cn } from "@/lib/utils"

function Menubar({
  className,
  ...props
}: React.ComponentProps<typeof MenubarPrimitive.Root>) {
  return (
    <MenubarPrimitive.Root
      data-slot="menubar"
      className={cn(
        "bg-background flex h-9 items-center gap-1 rounded-md border p-1 shadow-xs",
        className
      )}
      {...props}
    />
  )
}

function MenubarMenu({
  ...props
}: React.ComponentProps<typeof MenubarPrimitive.Menu>) {
  return <MenubarPrimitive.Menu data-slot="menubar-menu" {...props} />
}

function MenubarGroup({
  ...props
}: React.ComponentProps<typeof MenubarPrimitive.Group>) {
  return <MenubarPrimitive.Group data-slot="menubar-group" {...props} />
}

function MenubarPortal({
  ...props
}: React.ComponentProps<typeof MenubarPrimitive.Portal>) {
  return <MenubarPrimitive.Portal data-slot="menubar-portal" {...props} />
}

function MenubarRadioGroup({
  ...props
}: React.ComponentProps<typeof MenubarPrimitive.RadioGroup>) {
  return (
    <MenubarPrimitive.RadioGroup data-slot="menubar-radio-group" {...props} />
  )
}

function MenubarTrigger({
  className,
  ...props
}: React.ComponentProps<typeof MenubarPrimitive.Trigger>) {
  return (
    <MenubarPrimitive.Trigger
      data-slot="menubar-trigger"
      className={cn(
        "focus:bg-accent focus:text-accent-foreground data-[state=open]:bg-accent data-[state=open]:text-accent-foreground flex items-center rounded-sm px-2 py-1 text-sm font-medium outline-hidden select-none",
        className
      )}
      {...props}
    />
  )
}

function MenubarContent({
  className,
  align = "start",
  alignOffset = -4,
  sideOffset = 8,
  ...props
}: React.ComponentProps<typeof MenubarPrimitive.Content>) {
  return (
    <MenubarPortal>
      <MenubarPrimitive.Content
        data-slot="menubar-content"
        align={align}
        alignOffset={alignOffset}
        sideOffset={sideOffset}
        className={cn(
          "bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 min-w-[12rem] origin-(--radix-menubar-content-transform-origin) overflow-hidden rounded-md border p-1 shadow-md",
          className
        )}
        {...props}
      />
    </MenubarPortal>
  )
}

function MenubarItem({
  className,
  inset,
  variant = "default",
  ...props
}: React.ComponentProps<typeof MenubarPrimitive.Item> & {
  inset?: boolean
  variant?: "default" | "destructive"
}) {
  return (
    <MenubarPrimitive.Item
      data-slot="menubar-item"
      data-inset={inset}
      data-variant={variant}
      className={cn(
        "focus:bg-accent focus:text-accent-foreground data-[variant=destructive]:text-destructive data-[variant=destructive]:focus:bg-destructive/10 dark:data-[variant=destructive]:focus:bg-destructive/20 data-[variant=destructive]:focus:text-destructive data-[variant=destructive]:*:[svg]:!text-destructive [&_svg:not([class*='text-'])]:text-muted-foreground relative flex cursor-default items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 data-[inset]:pl-8 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",
        className
      )}
      {...props}
    />
  )
}

function MenubarCheckboxItem({
  className,
  children,
  checked,
  ...props
}: React.ComponentProps<typeof MenubarPrimitive.CheckboxItem>) {
  return (
    <MenubarPrimitive.CheckboxItem
      data-slot="menubar-checkbox-item"
      className={cn(
        "focus:bg-accent focus:text-accent-foreground relative flex cursor-default items-center gap-2 rounded-xs py-1.5 pr-2 pl-8 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",
        className
      )}
      checked={checked}
      {...props}
    >
      <span className="pointer-events-none absolute left-2 flex size-3.5 items-center justify-center">
        <MenubarPrimitive.ItemIndicator>
          <CheckIcon className="size-4" />
        </MenubarPrimitive.ItemIndicator>
      </span>
      {children}
    </MenubarPrimitive.CheckboxItem>
  )
}

function MenubarRadioItem({
  className,
  children,
  ...props
}: React.ComponentProps<typeof MenubarPrimitive.RadioItem>) {
  return (
    <MenubarPrimitive.RadioItem
      data-slot="menubar-radio-item"
      className={cn(
        "focus:bg-accent focus:text-accent-foreground relative flex cursor-default items-center gap-2 rounded-xs py-1.5 pr-2 pl-8 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",
        className
      )}
      {...props}
    >
      <span className="pointer-events-none absolute left-2 flex size-3.5 items-center justify-center">
        <MenubarPrimitive.ItemIndicator>
          <CircleIcon className="size-2 fill-current" />
        </MenubarPrimitive.ItemIndicator>
      </span>
      {children}
    </MenubarPrimitive.RadioItem>
  )
}

function MenubarLabel({
  className,
  inset,
  ...props
}: React.ComponentProps<typeof MenubarPrimitive.Label> & {
  inset?: boolean
}) {
  return (
    <MenubarPrimitive.Label
      data-slot="menubar-label"
      data-inset={inset}
      className={cn(
        "px-2 py-1.5 text-sm font-medium data-[inset]:pl-8",
        className
      )}
      {...props}
    />
  )
}

function MenubarSeparator({
  className,
  ...props
}: React.ComponentProps<typeof MenubarPrimitive.Separator>) {
  return (
    <MenubarPrimitive.Separator
      data-slot="menubar-separator"
      className={cn("bg-border -mx-1 my-1 h-px", className)}
      {...props}
    />
  )
}

function MenubarShortcut({
  className,
  ...props
}: React.ComponentProps<"span">) {
  return (
    <span
      data-slot="menubar-shortcut"
      className={cn(
        "text-muted-foreground ml-auto text-xs tracking-widest",
        className
      )}
      {...props}
    />
  )
}

function MenubarSub({
  ...props
}: React.ComponentProps<typeof MenubarPrimitive.Sub>) {
  return <MenubarPrimitive.Sub data-slot="menubar-sub" {...props} />
}

function MenubarSubTrigger({
  className,
  inset,
  children,
  ...props
}: React.ComponentProps<typeof MenubarPrimitive.SubTrigger> & {
  inset?: boolean
}) {
  return (
    <MenubarPrimitive.SubTrigger
      data-slot="menubar-sub-trigger"
      data-inset={inset}
      className={cn(
        "focus:bg-accent focus:text-accent-foreground data-[state=open]:bg-accent data-[state=open]:text-accent-foreground flex cursor-default items-center rounded-sm px-2 py-1.5 text-sm outline-none select-none data-[inset]:pl-8",
        className
      )}
      {...props}
    >
      {children}
      <ChevronRightIcon className="ml-auto h-4 w-4" />
    </MenubarPrimitive.SubTrigger>
  )
}

function MenubarSubContent({
  className,
  ...props
}: React.ComponentProps<typeof MenubarPrimitive.SubContent>) {
  return (
    <MenubarPrimitive.SubContent
      data-slot="menubar-sub-content"
      className={cn(
        "bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 min-w-[8rem] origin-(--radix-menubar-content-transform-origin) overflow-hidden rounded-md border p-1 shadow-lg",
        className
      )}
      {...props}
    />
  )
}

export {
  Menubar,
  MenubarPortal,
  MenubarMenu,
  MenubarTrigger,
  MenubarContent,
  MenubarGroup,
  MenubarSeparator,
  MenubarLabel,
  MenubarItem,
  MenubarShortcut,
  MenubarCheckboxItem,
  MenubarRadioGroup,
  MenubarRadioItem,
  MenubarSub,
  MenubarSubTrigger,
  MenubarSubContent,
}

// =============== FIN ARCHIVO [104]: src/components/ui/menubar.tsx =============== //

// =============== INICIO ARCHIVO [105]: src/components/ui/navigation-menu.tsx =============== //
import * as React from "react"
import * as NavigationMenuPrimitive from "@radix-ui/react-navigation-menu"
import { cva } from "class-variance-authority"
import { ChevronDownIcon } from "lucide-react"

import { cn } from "@/lib/utils"

function NavigationMenu({
  className,
  children,
  viewport = true,
  ...props
}: React.ComponentProps<typeof NavigationMenuPrimitive.Root> & {
  viewport?: boolean
}) {
  return (
    <NavigationMenuPrimitive.Root
      data-slot="navigation-menu"
      data-viewport={viewport}
      className={cn(
        "group/navigation-menu relative flex max-w-max flex-1 items-center justify-center",
        className
      )}
      {...props}
    >
      {children}
      {viewport && <NavigationMenuViewport />}
    </NavigationMenuPrimitive.Root>
  )
}

function NavigationMenuList({
  className,
  ...props
}: React.ComponentProps<typeof NavigationMenuPrimitive.List>) {
  return (
    <NavigationMenuPrimitive.List
      data-slot="navigation-menu-list"
      className={cn(
        "group flex flex-1 list-none items-center justify-center gap-1",
        className
      )}
      {...props}
    />
  )
}

function NavigationMenuItem({
  className,
  ...props
}: React.ComponentProps<typeof NavigationMenuPrimitive.Item>) {
  return (
    <NavigationMenuPrimitive.Item
      data-slot="navigation-menu-item"
      className={cn("relative", className)}
      {...props}
    />
  )
}

const navigationMenuTriggerStyle = cva(
  "group inline-flex h-9 w-max items-center justify-center rounded-md bg-background px-4 py-2 text-sm font-medium hover:bg-accent hover:text-accent-foreground focus:bg-accent focus:text-accent-foreground disabled:pointer-events-none disabled:opacity-50 data-[state=open]:hover:bg-accent data-[state=open]:text-accent-foreground data-[state=open]:focus:bg-accent data-[state=open]:bg-accent/50 focus-visible:ring-ring/50 outline-none transition-[color,box-shadow] focus-visible:ring-[3px] focus-visible:outline-1"
)

function NavigationMenuTrigger({
  className,
  children,
  ...props
}: React.ComponentProps<typeof NavigationMenuPrimitive.Trigger>) {
  return (
    <NavigationMenuPrimitive.Trigger
      data-slot="navigation-menu-trigger"
      className={cn(navigationMenuTriggerStyle(), "group", className)}
      {...props}
    >
      {children}{" "}
      <ChevronDownIcon
        className="relative top-[1px] ml-1 size-3 transition duration-300 group-data-[state=open]:rotate-180"
        aria-hidden="true"
      />
    </NavigationMenuPrimitive.Trigger>
  )
}

function NavigationMenuContent({
  className,
  ...props
}: React.ComponentProps<typeof NavigationMenuPrimitive.Content>) {
  return (
    <NavigationMenuPrimitive.Content
      data-slot="navigation-menu-content"
      className={cn(
        "data-[motion^=from-]:animate-in data-[motion^=to-]:animate-out data-[motion^=from-]:fade-in data-[motion^=to-]:fade-out data-[motion=from-end]:slide-in-from-right-52 data-[motion=from-start]:slide-in-from-left-52 data-[motion=to-end]:slide-out-to-right-52 data-[motion=to-start]:slide-out-to-left-52 top-0 left-0 w-full p-2 pr-2.5 md:absolute md:w-auto",
        "group-data-[viewport=false]/navigation-menu:bg-popover group-data-[viewport=false]/navigation-menu:text-popover-foreground group-data-[viewport=false]/navigation-menu:data-[state=open]:animate-in group-data-[viewport=false]/navigation-menu:data-[state=closed]:animate-out group-data-[viewport=false]/navigation-menu:data-[state=closed]:zoom-out-95 group-data-[viewport=false]/navigation-menu:data-[state=open]:zoom-in-95 group-data-[viewport=false]/navigation-menu:data-[state=open]:fade-in-0 group-data-[viewport=false]/navigation-menu:data-[state=closed]:fade-out-0 group-data-[viewport=false]/navigation-menu:top-full group-data-[viewport=false]/navigation-menu:mt-1.5 group-data-[viewport=false]/navigation-menu:overflow-hidden group-data-[viewport=false]/navigation-menu:rounded-md group-data-[viewport=false]/navigation-menu:border group-data-[viewport=false]/navigation-menu:shadow group-data-[viewport=false]/navigation-menu:duration-200 **:data-[slot=navigation-menu-link]:focus:ring-0 **:data-[slot=navigation-menu-link]:focus:outline-none",
        className
      )}
      {...props}
    />
  )
}

function NavigationMenuViewport({
  className,
  ...props
}: React.ComponentProps<typeof NavigationMenuPrimitive.Viewport>) {
  return (
    <div
      className={cn(
        "absolute top-full left-0 isolate z-50 flex justify-center"
      )}
    >
      <NavigationMenuPrimitive.Viewport
        data-slot="navigation-menu-viewport"
        className={cn(
          "origin-top-center bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-90 relative mt-1.5 h-[var(--radix-navigation-menu-viewport-height)] w-full overflow-hidden rounded-md border shadow md:w-[var(--radix-navigation-menu-viewport-width)]",
          className
        )}
        {...props}
      />
    </div>
  )
}

function NavigationMenuLink({
  className,
  ...props
}: React.ComponentProps<typeof NavigationMenuPrimitive.Link>) {
  return (
    <NavigationMenuPrimitive.Link
      data-slot="navigation-menu-link"
      className={cn(
        "data-[active=true]:focus:bg-accent data-[active=true]:hover:bg-accent data-[active=true]:bg-accent/50 data-[active=true]:text-accent-foreground hover:bg-accent hover:text-accent-foreground focus:bg-accent focus:text-accent-foreground focus-visible:ring-ring/50 [&_svg:not([class*='text-'])]:text-muted-foreground flex flex-col gap-1 rounded-sm p-2 text-sm transition-all outline-none focus-visible:ring-[3px] focus-visible:outline-1 [&_svg:not([class*='size-'])]:size-4",
        className
      )}
      {...props}
    />
  )
}

function NavigationMenuIndicator({
  className,
  ...props
}: React.ComponentProps<typeof NavigationMenuPrimitive.Indicator>) {
  return (
    <NavigationMenuPrimitive.Indicator
      data-slot="navigation-menu-indicator"
      className={cn(
        "data-[state=visible]:animate-in data-[state=hidden]:animate-out data-[state=hidden]:fade-out data-[state=visible]:fade-in top-full z-[1] flex h-1.5 items-end justify-center overflow-hidden",
        className
      )}
      {...props}
    >
      <div className="bg-border relative top-[60%] h-2 w-2 rotate-45 rounded-tl-sm shadow-md" />
    </NavigationMenuPrimitive.Indicator>
  )
}

export {
  NavigationMenu,
  NavigationMenuList,
  NavigationMenuItem,
  NavigationMenuContent,
  NavigationMenuTrigger,
  NavigationMenuLink,
  NavigationMenuIndicator,
  NavigationMenuViewport,
  navigationMenuTriggerStyle,
}

// =============== FIN ARCHIVO [105]: src/components/ui/navigation-menu.tsx =============== //

// =============== INICIO ARCHIVO [106]: src/components/ui/pagination.tsx =============== //
import * as React from "react"
import {
  ChevronLeftIcon,
  ChevronRightIcon,
  MoreHorizontalIcon,
} from "lucide-react"

import { cn } from "@/lib/utils"
import { Button, buttonVariants } from "@/components/ui/button"

function Pagination({ className, ...props }: React.ComponentProps<"nav">) {
  return (
    <nav
      role="navigation"
      aria-label="pagination"
      data-slot="pagination"
      className={cn("mx-auto flex w-full justify-center", className)}
      {...props}
    />
  )
}

function PaginationContent({
  className,
  ...props
}: React.ComponentProps<"ul">) {
  return (
    <ul
      data-slot="pagination-content"
      className={cn("flex flex-row items-center gap-1", className)}
      {...props}
    />
  )
}

function PaginationItem({ ...props }: React.ComponentProps<"li">) {
  return <li data-slot="pagination-item" {...props} />
}

type PaginationLinkProps = {
  isActive?: boolean
} & Pick<React.ComponentProps<typeof Button>, "size"> &
  React.ComponentProps<"a">

function PaginationLink({
  className,
  isActive,
  size = "icon",
  ...props
}: PaginationLinkProps) {
  return (
    <a
      aria-current={isActive ? "page" : undefined}
      data-slot="pagination-link"
      data-active={isActive}
      className={cn(
        buttonVariants({
          variant: isActive ? "outline" : "ghost",
          size,
        }),
        className
      )}
      {...props}
    />
  )
}

function PaginationPrevious({
  className,
  ...props
}: React.ComponentProps<typeof PaginationLink>) {
  return (
    <PaginationLink
      aria-label="Go to previous page"
      size="default"
      className={cn("gap-1 px-2.5 sm:pl-2.5", className)}
      {...props}
    >
      <ChevronLeftIcon />
      <span className="hidden sm:block">Previous</span>
    </PaginationLink>
  )
}

function PaginationNext({
  className,
  ...props
}: React.ComponentProps<typeof PaginationLink>) {
  return (
    <PaginationLink
      aria-label="Go to next page"
      size="default"
      className={cn("gap-1 px-2.5 sm:pr-2.5", className)}
      {...props}
    >
      <span className="hidden sm:block">Next</span>
      <ChevronRightIcon />
    </PaginationLink>
  )
}

function PaginationEllipsis({
  className,
  ...props
}: React.ComponentProps<"span">) {
  return (
    <span
      aria-hidden
      data-slot="pagination-ellipsis"
      className={cn("flex size-9 items-center justify-center", className)}
      {...props}
    >
      <MoreHorizontalIcon className="size-4" />
      <span className="sr-only">More pages</span>
    </span>
  )
}

export {
  Pagination,
  PaginationContent,
  PaginationLink,
  PaginationItem,
  PaginationPrevious,
  PaginationNext,
  PaginationEllipsis,
}

// =============== FIN ARCHIVO [106]: src/components/ui/pagination.tsx =============== //

// =============== INICIO ARCHIVO [107]: src/components/ui/popover.tsx =============== //
"use client"

import * as React from "react"
import * as PopoverPrimitive from "@radix-ui/react-popover"

import { cn } from "@/lib/utils"

function Popover({
  ...props
}: React.ComponentProps<typeof PopoverPrimitive.Root>) {
  return <PopoverPrimitive.Root data-slot="popover" {...props} />
}

function PopoverTrigger({
  ...props
}: React.ComponentProps<typeof PopoverPrimitive.Trigger>) {
  return <PopoverPrimitive.Trigger data-slot="popover-trigger" {...props} />
}

function PopoverContent({
  className,
  align = "center",
  sideOffset = 4,
  ...props
}: React.ComponentProps<typeof PopoverPrimitive.Content>) {
  return (
    <PopoverPrimitive.Portal>
      <PopoverPrimitive.Content
        data-slot="popover-content"
        align={align}
        sideOffset={sideOffset}
        className={cn(
          "bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 w-72 origin-(--radix-popover-content-transform-origin) rounded-md border p-4 shadow-md outline-hidden",
          className
        )}
        {...props}
      />
    </PopoverPrimitive.Portal>
  )
}

function PopoverAnchor({
  ...props
}: React.ComponentProps<typeof PopoverPrimitive.Anchor>) {
  return <PopoverPrimitive.Anchor data-slot="popover-anchor" {...props} />
}

export { Popover, PopoverTrigger, PopoverContent, PopoverAnchor }

// =============== FIN ARCHIVO [107]: src/components/ui/popover.tsx =============== //

// =============== INICIO ARCHIVO [108]: src/components/ui/progress.tsx =============== //
"use client"

import * as React from "react"
import * as ProgressPrimitive from "@radix-ui/react-progress"

import { cn } from "@/lib/utils"

function Progress({
  className,
  value,
  ...props
}: React.ComponentProps<typeof ProgressPrimitive.Root>) {
  return (
    <ProgressPrimitive.Root
      data-slot="progress"
      className={cn(
        "bg-primary/20 relative h-2 w-full overflow-hidden rounded-full",
        className
      )}
      {...props}
    >
      <ProgressPrimitive.Indicator
        data-slot="progress-indicator"
        className="bg-primary h-full w-full flex-1 transition-all"
        style={{ transform: `translateX(-${100 - (value || 0)}%)` }}
      />
    </ProgressPrimitive.Root>
  )
}

export { Progress }

// =============== FIN ARCHIVO [108]: src/components/ui/progress.tsx =============== //

// =============== INICIO ARCHIVO [109]: src/components/ui/radio-group.tsx =============== //
"use client"

import * as React from "react"
import * as RadioGroupPrimitive from "@radix-ui/react-radio-group"
import { CircleIcon } from "lucide-react"

import { cn } from "@/lib/utils"

function RadioGroup({
  className,
  ...props
}: React.ComponentProps<typeof RadioGroupPrimitive.Root>) {
  return (
    <RadioGroupPrimitive.Root
      data-slot="radio-group"
      className={cn("grid gap-3", className)}
      {...props}
    />
  )
}

function RadioGroupItem({
  className,
  ...props
}: React.ComponentProps<typeof RadioGroupPrimitive.Item>) {
  return (
    <RadioGroupPrimitive.Item
      data-slot="radio-group-item"
      className={cn(
        "border-input text-primary focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 aspect-square size-4 shrink-0 rounded-full border shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",
        className
      )}
      {...props}
    >
      <RadioGroupPrimitive.Indicator
        data-slot="radio-group-indicator"
        className="relative flex items-center justify-center"
      >
        <CircleIcon className="fill-primary absolute top-1/2 left-1/2 size-2 -translate-x-1/2 -translate-y-1/2" />
      </RadioGroupPrimitive.Indicator>
    </RadioGroupPrimitive.Item>
  )
}

export { RadioGroup, RadioGroupItem }

// =============== FIN ARCHIVO [109]: src/components/ui/radio-group.tsx =============== //

// =============== INICIO ARCHIVO [110]: src/components/ui/resizable.tsx =============== //
"use client"

import * as React from "react"
import { GripVerticalIcon } from "lucide-react"
import * as ResizablePrimitive from "react-resizable-panels"

import { cn } from "@/lib/utils"

// Bypass de tipos para evitar el error de compilaci√≥n en Heroku/Local
// Usamos 'any' temporalmente porque la versi√≥n de la librer√≠a en package.json est√° mal
const PanelGroup = (ResizablePrimitive as any).PanelGroup
const Panel = (ResizablePrimitive as any).Panel
const PanelResizeHandle = (ResizablePrimitive as any).PanelResizeHandle

function ResizablePanelGroup({
  className,
  ...props
}: React.ComponentProps<typeof PanelGroup>) {
  return (
    <PanelGroup
      data-slot="resizable-panel-group"
      className={cn(
        "flex h-full w-full data-[panel-group-direction=vertical]:flex-col",
        className
      )}
      {...props}
    />
  )
}

function ResizablePanel({
  ...props
}: React.ComponentProps<typeof Panel>) {
  return <Panel data-slot="resizable-panel" {...props} />
}

function ResizableHandle({
  withHandle,
  className,
  ...props
}: React.ComponentProps<typeof PanelResizeHandle> & {
  withHandle?: boolean
}) {
  return (
    <PanelResizeHandle
      data-slot="resizable-handle"
      className={cn(
        "bg-border focus-visible:ring-ring relative flex w-px items-center justify-center after:absolute after:inset-y-0 after:left-1/2 after:w-1 after:-translate-x-1/2 focus-visible:ring-1 focus-visible:ring-offset-1 focus-visible:outline-hidden data-[panel-group-direction=vertical]:h-px data-[panel-group-direction=vertical]:w-full data-[panel-group-direction=vertical]:after:left-0 data-[panel-group-direction=vertical]:after:h-1 data-[panel-group-direction=vertical]:after:w-full data-[panel-group-direction=vertical]:after:translate-x-0 data-[panel-group-direction=vertical]:after:-translate-y-1/2 [&[data-panel-group-direction=vertical]>div]:rotate-90",
        className
      )}
      {...props}
    >
      {withHandle && (
        <div className="bg-border z-10 flex h-4 w-3 items-center justify-center rounded-xs border">
          <GripVerticalIcon className="size-2.5" />
        </div>
      )}
    </PanelResizeHandle>
  )
}

export { ResizablePanelGroup, ResizablePanel, ResizableHandle }

// =============== FIN ARCHIVO [110]: src/components/ui/resizable.tsx =============== //

// =============== INICIO ARCHIVO [111]: src/components/ui/scroll-area.tsx =============== //
"use client"

import * as React from "react"
import * as ScrollAreaPrimitive from "@radix-ui/react-scroll-area"

import { cn } from "@/lib/utils"

function ScrollArea({
  className,
  children,
  ...props
}: React.ComponentProps<typeof ScrollAreaPrimitive.Root>) {
  return (
    <ScrollAreaPrimitive.Root
      data-slot="scroll-area"
      className={cn("relative", className)}
      {...props}
    >
      <ScrollAreaPrimitive.Viewport
        data-slot="scroll-area-viewport"
        className="focus-visible:ring-ring/50 size-full rounded-[inherit] transition-[color,box-shadow] outline-none focus-visible:ring-[3px] focus-visible:outline-1"
      >
        {children}
      </ScrollAreaPrimitive.Viewport>
      <ScrollBar />
      <ScrollAreaPrimitive.Corner />
    </ScrollAreaPrimitive.Root>
  )
}

function ScrollBar({
  className,
  orientation = "vertical",
  ...props
}: React.ComponentProps<typeof ScrollAreaPrimitive.ScrollAreaScrollbar>) {
  return (
    <ScrollAreaPrimitive.ScrollAreaScrollbar
      data-slot="scroll-area-scrollbar"
      orientation={orientation}
      className={cn(
        "flex touch-none p-px transition-colors select-none",
        orientation === "vertical" &&
          "h-full w-2.5 border-l border-l-transparent",
        orientation === "horizontal" &&
          "h-2.5 flex-col border-t border-t-transparent",
        className
      )}
      {...props}
    >
      <ScrollAreaPrimitive.ScrollAreaThumb
        data-slot="scroll-area-thumb"
        className="bg-border relative flex-1 rounded-full"
      />
    </ScrollAreaPrimitive.ScrollAreaScrollbar>
  )
}

export { ScrollArea, ScrollBar }

// =============== FIN ARCHIVO [111]: src/components/ui/scroll-area.tsx =============== //

// =============== INICIO ARCHIVO [112]: src/components/ui/select.tsx =============== //
"use client"

import * as React from "react"
import * as SelectPrimitive from "@radix-ui/react-select"
import { CheckIcon, ChevronDownIcon, ChevronUpIcon } from "lucide-react"

import { cn } from "@/lib/utils"

function Select({
  ...props
}: React.ComponentProps<typeof SelectPrimitive.Root>) {
  return <SelectPrimitive.Root data-slot="select" {...props} />
}

function SelectGroup({
  ...props
}: React.ComponentProps<typeof SelectPrimitive.Group>) {
  return <SelectPrimitive.Group data-slot="select-group" {...props} />
}

function SelectValue({
  ...props
}: React.ComponentProps<typeof SelectPrimitive.Value>) {
  return <SelectPrimitive.Value data-slot="select-value" {...props} />
}

function SelectTrigger({
  className,
  size = "default",
  children,
  ...props
}: React.ComponentProps<typeof SelectPrimitive.Trigger> & {
  size?: "sm" | "default"
}) {
  return (
    <SelectPrimitive.Trigger
      data-slot="select-trigger"
      data-size={size}
      className={cn(
        "border-input data-[placeholder]:text-muted-foreground [&_svg:not([class*='text-'])]:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 dark:hover:bg-input/50 flex w-fit items-center justify-between gap-2 rounded-md border bg-transparent px-3 py-2 text-sm whitespace-nowrap shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 data-[size=default]:h-9 data-[size=sm]:h-8 *:data-[slot=select-value]:line-clamp-1 *:data-[slot=select-value]:flex *:data-[slot=select-value]:items-center *:data-[slot=select-value]:gap-2 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",
        className
      )}
      {...props}
    >
      {children}
      <SelectPrimitive.Icon asChild>
        <ChevronDownIcon className="size-4 opacity-50" />
      </SelectPrimitive.Icon>
    </SelectPrimitive.Trigger>
  )
}

function SelectContent({
  className,
  children,
  position = "popper",
  ...props
}: React.ComponentProps<typeof SelectPrimitive.Content>) {
  return (
    <SelectPrimitive.Portal>
      <SelectPrimitive.Content
        data-slot="select-content"
        className={cn(
          "bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 relative z-50 max-h-(--radix-select-content-available-height) min-w-[8rem] origin-(--radix-select-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border shadow-md",
          position === "popper" &&
            "data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",
          className
        )}
        position={position}
        {...props}
      >
        <SelectScrollUpButton />
        <SelectPrimitive.Viewport
          className={cn(
            "p-1",
            position === "popper" &&
              "h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)] scroll-my-1"
          )}
        >
          {children}
        </SelectPrimitive.Viewport>
        <SelectScrollDownButton />
      </SelectPrimitive.Content>
    </SelectPrimitive.Portal>
  )
}

function SelectLabel({
  className,
  ...props
}: React.ComponentProps<typeof SelectPrimitive.Label>) {
  return (
    <SelectPrimitive.Label
      data-slot="select-label"
      className={cn("text-muted-foreground px-2 py-1.5 text-xs", className)}
      {...props}
    />
  )
}

function SelectItem({
  className,
  children,
  ...props
}: React.ComponentProps<typeof SelectPrimitive.Item>) {
  return (
    <SelectPrimitive.Item
      data-slot="select-item"
      className={cn(
        "focus:bg-accent focus:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex w-full cursor-default items-center gap-2 rounded-sm py-1.5 pr-8 pl-2 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4 *:[span]:last:flex *:[span]:last:items-center *:[span]:last:gap-2",
        className
      )}
      {...props}
    >
      <span className="absolute right-2 flex size-3.5 items-center justify-center">
        <SelectPrimitive.ItemIndicator>
          <CheckIcon className="size-4" />
        </SelectPrimitive.ItemIndicator>
      </span>
      <SelectPrimitive.ItemText>{children}</SelectPrimitive.ItemText>
    </SelectPrimitive.Item>
  )
}

function SelectSeparator({
  className,
  ...props
}: React.ComponentProps<typeof SelectPrimitive.Separator>) {
  return (
    <SelectPrimitive.Separator
      data-slot="select-separator"
      className={cn("bg-border pointer-events-none -mx-1 my-1 h-px", className)}
      {...props}
    />
  )
}

function SelectScrollUpButton({
  className,
  ...props
}: React.ComponentProps<typeof SelectPrimitive.ScrollUpButton>) {
  return (
    <SelectPrimitive.ScrollUpButton
      data-slot="select-scroll-up-button"
      className={cn(
        "flex cursor-default items-center justify-center py-1",
        className
      )}
      {...props}
    >
      <ChevronUpIcon className="size-4" />
    </SelectPrimitive.ScrollUpButton>
  )
}

function SelectScrollDownButton({
  className,
  ...props
}: React.ComponentProps<typeof SelectPrimitive.ScrollDownButton>) {
  return (
    <SelectPrimitive.ScrollDownButton
      data-slot="select-scroll-down-button"
      className={cn(
        "flex cursor-default items-center justify-center py-1",
        className
      )}
      {...props}
    >
      <ChevronDownIcon className="size-4" />
    </SelectPrimitive.ScrollDownButton>
  )
}

export {
  Select,
  SelectContent,
  SelectGroup,
  SelectItem,
  SelectLabel,
  SelectScrollDownButton,
  SelectScrollUpButton,
  SelectSeparator,
  SelectTrigger,
  SelectValue,
}

// =============== FIN ARCHIVO [112]: src/components/ui/select.tsx =============== //

// =============== INICIO ARCHIVO [113]: src/components/ui/separator.tsx =============== //
"use client"

import * as React from "react"
import * as SeparatorPrimitive from "@radix-ui/react-separator"

import { cn } from "@/lib/utils"

function Separator({
  className,
  orientation = "horizontal",
  decorative = true,
  ...props
}: React.ComponentProps<typeof SeparatorPrimitive.Root>) {
  return (
    <SeparatorPrimitive.Root
      data-slot="separator"
      decorative={decorative}
      orientation={orientation}
      className={cn(
        "bg-border shrink-0 data-[orientation=horizontal]:h-px data-[orientation=horizontal]:w-full data-[orientation=vertical]:h-full data-[orientation=vertical]:w-px",
        className
      )}
      {...props}
    />
  )
}

export { Separator }

// =============== FIN ARCHIVO [113]: src/components/ui/separator.tsx =============== //

// =============== INICIO ARCHIVO [114]: src/components/ui/sheet.tsx =============== //
"use client"

import * as React from "react"
import * as SheetPrimitive from "@radix-ui/react-dialog"
import { XIcon } from "lucide-react"

import { cn } from "@/lib/utils"

function Sheet({ ...props }: React.ComponentProps<typeof SheetPrimitive.Root>) {
  return <SheetPrimitive.Root data-slot="sheet" {...props} />
}

function SheetTrigger({
  ...props
}: React.ComponentProps<typeof SheetPrimitive.Trigger>) {
  return <SheetPrimitive.Trigger data-slot="sheet-trigger" {...props} />
}

function SheetClose({
  ...props
}: React.ComponentProps<typeof SheetPrimitive.Close>) {
  return <SheetPrimitive.Close data-slot="sheet-close" {...props} />
}

function SheetPortal({
  ...props
}: React.ComponentProps<typeof SheetPrimitive.Portal>) {
  return <SheetPrimitive.Portal data-slot="sheet-portal" {...props} />
}

function SheetOverlay({
  className,
  ...props
}: React.ComponentProps<typeof SheetPrimitive.Overlay>) {
  return (
    <SheetPrimitive.Overlay
      data-slot="sheet-overlay"
      className={cn(
        "data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",
        className
      )}
      {...props}
    />
  )
}

function SheetContent({
  className,
  children,
  side = "right",
  ...props
}: React.ComponentProps<typeof SheetPrimitive.Content> & {
  side?: "top" | "right" | "bottom" | "left"
}) {
  return (
    <SheetPortal>
      <SheetOverlay />
      <SheetPrimitive.Content
        data-slot="sheet-content"
        className={cn(
          "bg-background data-[state=open]:animate-in data-[state=closed]:animate-out fixed z-50 flex flex-col gap-4 shadow-lg transition ease-in-out data-[state=closed]:duration-300 data-[state=open]:duration-500",
          side === "right" &&
            "data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right inset-y-0 right-0 h-full w-3/4 border-l sm:max-w-sm",
          side === "left" &&
            "data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left inset-y-0 left-0 h-full w-3/4 border-r sm:max-w-sm",
          side === "top" &&
            "data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top inset-x-0 top-0 h-auto border-b",
          side === "bottom" &&
            "data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom inset-x-0 bottom-0 h-auto border-t",
          className
        )}
        {...props}
      >
        {children}
        <SheetPrimitive.Close className="ring-offset-background focus:ring-ring data-[state=open]:bg-secondary absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none">
          <XIcon className="size-4" />
          <span className="sr-only">Close</span>
        </SheetPrimitive.Close>
      </SheetPrimitive.Content>
    </SheetPortal>
  )
}

function SheetHeader({ className, ...props }: React.ComponentProps<"div">) {
  return (
    <div
      data-slot="sheet-header"
      className={cn("flex flex-col gap-1.5 p-4", className)}
      {...props}
    />
  )
}

function SheetFooter({ className, ...props }: React.ComponentProps<"div">) {
  return (
    <div
      data-slot="sheet-footer"
      className={cn("mt-auto flex flex-col gap-2 p-4", className)}
      {...props}
    />
  )
}

function SheetTitle({
  className,
  ...props
}: React.ComponentProps<typeof SheetPrimitive.Title>) {
  return (
    <SheetPrimitive.Title
      data-slot="sheet-title"
      className={cn("text-foreground font-semibold", className)}
      {...props}
    />
  )
}

function SheetDescription({
  className,
  ...props
}: React.ComponentProps<typeof SheetPrimitive.Description>) {
  return (
    <SheetPrimitive.Description
      data-slot="sheet-description"
      className={cn("text-muted-foreground text-sm", className)}
      {...props}
    />
  )
}

export {
  Sheet,
  SheetTrigger,
  SheetClose,
  SheetContent,
  SheetHeader,
  SheetFooter,
  SheetTitle,
  SheetDescription,
}

// =============== FIN ARCHIVO [114]: src/components/ui/sheet.tsx =============== //

// =============== INICIO ARCHIVO [115]: src/components/ui/sidebar.tsx =============== //
"use client"

import * as React from "react"
import { Slot } from "@radix-ui/react-slot"
import { cva, VariantProps } from "class-variance-authority"
import { PanelLeftIcon } from "lucide-react"

import { useIsMobile } from "@/hooks/use-mobile"
import { cn } from "@/lib/utils"
import { Button } from "@/components/ui/button"
import { Input } from "@/components/ui/input"
import { Separator } from "@/components/ui/separator"
import {
  Sheet,
  SheetContent,
  SheetDescription,
  SheetHeader,
  SheetTitle,
} from "@/components/ui/sheet"
import { Skeleton } from "@/components/ui/skeleton"
import {
  Tooltip,
  TooltipContent,
  TooltipProvider,
  TooltipTrigger,
} from "@/components/ui/tooltip"

const SIDEBAR_COOKIE_NAME = "sidebar_state"
const SIDEBAR_COOKIE_MAX_AGE = 60 * 60 * 24 * 7
const SIDEBAR_WIDTH = "16rem"
const SIDEBAR_WIDTH_MOBILE = "18rem"
const SIDEBAR_WIDTH_ICON = "3rem"
const SIDEBAR_KEYBOARD_SHORTCUT = "b"

type SidebarContextProps = {
  state: "expanded" | "collapsed"
  open: boolean
  setOpen: (open: boolean) => void
  openMobile: boolean
  setOpenMobile: (open: boolean) => void
  isMobile: boolean
  toggleSidebar: () => void
}

const SidebarContext = React.createContext<SidebarContextProps | null>(null)

function useSidebar() {
  const context = React.useContext(SidebarContext)
  if (!context) {
    throw new Error("useSidebar must be used within a SidebarProvider.")
  }

  return context
}

function SidebarProvider({
  defaultOpen = true,
  open: openProp,
  onOpenChange: setOpenProp,
  className,
  style,
  children,
  ...props
}: React.ComponentProps<"div"> & {
  defaultOpen?: boolean
  open?: boolean
  onOpenChange?: (open: boolean) => void
}) {
  const isMobile = useIsMobile()
  const [openMobile, setOpenMobile] = React.useState(false)

  // This is the internal state of the sidebar.
  // We use openProp and setOpenProp for control from outside the component.
  const [_open, _setOpen] = React.useState(defaultOpen)
  const open = openProp ?? _open
  const setOpen = React.useCallback(
    (value: boolean | ((value: boolean) => boolean)) => {
      const openState = typeof value === "function" ? value(open) : value
      if (setOpenProp) {
        setOpenProp(openState)
      } else {
        _setOpen(openState)
      }

      // This sets the cookie to keep the sidebar state.
      document.cookie = `${SIDEBAR_COOKIE_NAME}=${openState}; path=/; max-age=${SIDEBAR_COOKIE_MAX_AGE}`
    },
    [setOpenProp, open]
  )

  // Helper to toggle the sidebar.
  const toggleSidebar = React.useCallback(() => {
    return isMobile ? setOpenMobile((open) => !open) : setOpen((open) => !open)
  }, [isMobile, setOpen, setOpenMobile])

  // Adds a keyboard shortcut to toggle the sidebar.
  React.useEffect(() => {
    const handleKeyDown = (event: KeyboardEvent) => {
      if (
        event.key === SIDEBAR_KEYBOARD_SHORTCUT &&
        (event.metaKey || event.ctrlKey)
      ) {
        event.preventDefault()
        toggleSidebar()
      }
    }

    window.addEventListener("keydown", handleKeyDown)
    return () => window.removeEventListener("keydown", handleKeyDown)
  }, [toggleSidebar])

  // We add a state so that we can do data-state="expanded" or "collapsed".
  // This makes it easier to style the sidebar with Tailwind classes.
  const state = open ? "expanded" : "collapsed"

  const contextValue = React.useMemo<SidebarContextProps>(
    () => ({
      state,
      open,
      setOpen,
      isMobile,
      openMobile,
      setOpenMobile,
      toggleSidebar,
    }),
    [state, open, setOpen, isMobile, openMobile, setOpenMobile, toggleSidebar]
  )

  return (
    <SidebarContext.Provider value={contextValue}>
      <TooltipProvider delayDuration={0}>
        <div
          data-slot="sidebar-wrapper"
          style={
            {
              "--sidebar-width": SIDEBAR_WIDTH,
              "--sidebar-width-icon": SIDEBAR_WIDTH_ICON,
              ...style,
            } as React.CSSProperties
          }
          className={cn(
            "group/sidebar-wrapper has-data-[variant=inset]:bg-sidebar flex min-h-svh w-full",
            className
          )}
          {...props}
        >
          {children}
        </div>
      </TooltipProvider>
    </SidebarContext.Provider>
  )
}

function Sidebar({
  side = "left",
  variant = "sidebar",
  collapsible = "offcanvas",
  className,
  children,
  ...props
}: React.ComponentProps<"div"> & {
  side?: "left" | "right"
  variant?: "sidebar" | "floating" | "inset"
  collapsible?: "offcanvas" | "icon" | "none"
}) {
  const { isMobile, state, openMobile, setOpenMobile } = useSidebar()

  if (collapsible === "none") {
    return (
      <div
        data-slot="sidebar"
        className={cn(
          "bg-sidebar text-sidebar-foreground flex h-full w-(--sidebar-width) flex-col",
          className
        )}
        {...props}
      >
        {children}
      </div>
    )
  }

  if (isMobile) {
    return (
      <Sheet open={openMobile} onOpenChange={setOpenMobile} {...props}>
        <SheetContent
          data-sidebar="sidebar"
          data-slot="sidebar"
          data-mobile="true"
          className="bg-sidebar text-sidebar-foreground w-(--sidebar-width) p-0 [&>button]:hidden"
          style={
            {
              "--sidebar-width": SIDEBAR_WIDTH_MOBILE,
            } as React.CSSProperties
          }
          side={side}
        >
          <SheetHeader className="sr-only">
            <SheetTitle>Sidebar</SheetTitle>
            <SheetDescription>Displays the mobile sidebar.</SheetDescription>
          </SheetHeader>
          <div className="flex h-full w-full flex-col">{children}</div>
        </SheetContent>
      </Sheet>
    )
  }

  return (
    <div
      className="group peer text-sidebar-foreground hidden md:block"
      data-state={state}
      data-collapsible={state === "collapsed" ? collapsible : ""}
      data-variant={variant}
      data-side={side}
      data-slot="sidebar"
    >
      {/* This is what handles the sidebar gap on desktop */}
      <div
        data-slot="sidebar-gap"
        className={cn(
          "relative w-(--sidebar-width) bg-transparent transition-[width] duration-200 ease-linear",
          "group-data-[collapsible=offcanvas]:w-0",
          "group-data-[side=right]:rotate-180",
          variant === "floating" || variant === "inset"
            ? "group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)+(--spacing(4)))]"
            : "group-data-[collapsible=icon]:w-(--sidebar-width-icon)"
        )}
      />
      <div
        data-slot="sidebar-container"
        className={cn(
          "fixed inset-y-0 z-10 hidden h-svh w-(--sidebar-width) transition-[left,right,width] duration-200 ease-linear md:flex",
          side === "left"
            ? "left-0 group-data-[collapsible=offcanvas]:left-[calc(var(--sidebar-width)*-1)]"
            : "right-0 group-data-[collapsible=offcanvas]:right-[calc(var(--sidebar-width)*-1)]",
          // Adjust the padding for floating and inset variants.
          variant === "floating" || variant === "inset"
            ? "p-2 group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)+(--spacing(4))+2px)]"
            : "group-data-[collapsible=icon]:w-(--sidebar-width-icon) group-data-[side=left]:border-r group-data-[side=right]:border-l",
          className
        )}
        {...props}
      >
        <div
          data-sidebar="sidebar"
          data-slot="sidebar-inner"
          className="bg-sidebar group-data-[variant=floating]:border-sidebar-border flex h-full w-full flex-col group-data-[variant=floating]:rounded-lg group-data-[variant=floating]:border group-data-[variant=floating]:shadow-sm"
        >
          {children}
        </div>
      </div>
    </div>
  )
}

function SidebarTrigger({
  className,
  onClick,
  ...props
}: React.ComponentProps<typeof Button>) {
  const { toggleSidebar } = useSidebar()

  return (
    <Button
      data-sidebar="trigger"
      data-slot="sidebar-trigger"
      variant="ghost"
      size="icon"
      className={cn("size-7", className)}
      onClick={(event) => {
        onClick?.(event)
        toggleSidebar()
      }}
      {...props}
    >
      <PanelLeftIcon />
      <span className="sr-only">Toggle Sidebar</span>
    </Button>
  )
}

function SidebarRail({ className, ...props }: React.ComponentProps<"button">) {
  const { toggleSidebar } = useSidebar()

  return (
    <button
      data-sidebar="rail"
      data-slot="sidebar-rail"
      aria-label="Toggle Sidebar"
      tabIndex={-1}
      onClick={toggleSidebar}
      title="Toggle Sidebar"
      className={cn(
        "hover:after:bg-sidebar-border absolute inset-y-0 z-20 hidden w-4 -translate-x-1/2 transition-all ease-linear group-data-[side=left]:-right-4 group-data-[side=right]:left-0 after:absolute after:inset-y-0 after:left-1/2 after:w-[2px] sm:flex",
        "in-data-[side=left]:cursor-w-resize in-data-[side=right]:cursor-e-resize",
        "[[data-side=left][data-state=collapsed]_&]:cursor-e-resize [[data-side=right][data-state=collapsed]_&]:cursor-w-resize",
        "hover:group-data-[collapsible=offcanvas]:bg-sidebar group-data-[collapsible=offcanvas]:translate-x-0 group-data-[collapsible=offcanvas]:after:left-full",
        "[[data-side=left][data-collapsible=offcanvas]_&]:-right-2",
        "[[data-side=right][data-collapsible=offcanvas]_&]:-left-2",
        className
      )}
      {...props}
    />
  )
}

function SidebarInset({ className, ...props }: React.ComponentProps<"main">) {
  return (
    <main
      data-slot="sidebar-inset"
      className={cn(
        "bg-background relative flex w-full flex-1 flex-col",
        "md:peer-data-[variant=inset]:m-2 md:peer-data-[variant=inset]:ml-0 md:peer-data-[variant=inset]:rounded-xl md:peer-data-[variant=inset]:shadow-sm md:peer-data-[variant=inset]:peer-data-[state=collapsed]:ml-2",
        className
      )}
      {...props}
    />
  )
}

function SidebarInput({
  className,
  ...props
}: React.ComponentProps<typeof Input>) {
  return (
    <Input
      data-slot="sidebar-input"
      data-sidebar="input"
      className={cn("bg-background h-8 w-full shadow-none", className)}
      {...props}
    />
  )
}

function SidebarHeader({ className, ...props }: React.ComponentProps<"div">) {
  return (
    <div
      data-slot="sidebar-header"
      data-sidebar="header"
      className={cn("flex flex-col gap-2 p-2", className)}
      {...props}
    />
  )
}

function SidebarFooter({ className, ...props }: React.ComponentProps<"div">) {
  return (
    <div
      data-slot="sidebar-footer"
      data-sidebar="footer"
      className={cn("flex flex-col gap-2 p-2", className)}
      {...props}
    />
  )
}

function SidebarSeparator({
  className,
  ...props
}: React.ComponentProps<typeof Separator>) {
  return (
    <Separator
      data-slot="sidebar-separator"
      data-sidebar="separator"
      className={cn("bg-sidebar-border mx-2 w-auto", className)}
      {...props}
    />
  )
}

function SidebarContent({ className, ...props }: React.ComponentProps<"div">) {
  return (
    <div
      data-slot="sidebar-content"
      data-sidebar="content"
      className={cn(
        "flex min-h-0 flex-1 flex-col gap-2 overflow-auto group-data-[collapsible=icon]:overflow-hidden",
        className
      )}
      {...props}
    />
  )
}

function SidebarGroup({ className, ...props }: React.ComponentProps<"div">) {
  return (
    <div
      data-slot="sidebar-group"
      data-sidebar="group"
      className={cn("relative flex w-full min-w-0 flex-col p-2", className)}
      {...props}
    />
  )
}

function SidebarGroupLabel({
  className,
  asChild = false,
  ...props
}: React.ComponentProps<"div"> & { asChild?: boolean }) {
  const Comp = asChild ? Slot : "div"

  return (
    <Comp
      data-slot="sidebar-group-label"
      data-sidebar="group-label"
      className={cn(
        "text-sidebar-foreground/70 ring-sidebar-ring flex h-8 shrink-0 items-center rounded-md px-2 text-xs font-medium outline-hidden transition-[margin,opacity] duration-200 ease-linear focus-visible:ring-2 [&>svg]:size-4 [&>svg]:shrink-0",
        "group-data-[collapsible=icon]:-mt-8 group-data-[collapsible=icon]:opacity-0",
        className
      )}
      {...props}
    />
  )
}

function SidebarGroupAction({
  className,
  asChild = false,
  ...props
}: React.ComponentProps<"button"> & { asChild?: boolean }) {
  const Comp = asChild ? Slot : "button"

  return (
    <Comp
      data-slot="sidebar-group-action"
      data-sidebar="group-action"
      className={cn(
        "text-sidebar-foreground ring-sidebar-ring hover:bg-sidebar-accent hover:text-sidebar-accent-foreground absolute top-3.5 right-3 flex aspect-square w-5 items-center justify-center rounded-md p-0 outline-hidden transition-transform focus-visible:ring-2 [&>svg]:size-4 [&>svg]:shrink-0",
        // Increases the hit area of the button on mobile.
        "after:absolute after:-inset-2 md:after:hidden",
        "group-data-[collapsible=icon]:hidden",
        className
      )}
      {...props}
    />
  )
}

function SidebarGroupContent({
  className,
  ...props
}: React.ComponentProps<"div">) {
  return (
    <div
      data-slot="sidebar-group-content"
      data-sidebar="group-content"
      className={cn("w-full text-sm", className)}
      {...props}
    />
  )
}

function SidebarMenu({ className, ...props }: React.ComponentProps<"ul">) {
  return (
    <ul
      data-slot="sidebar-menu"
      data-sidebar="menu"
      className={cn("flex w-full min-w-0 flex-col gap-1", className)}
      {...props}
    />
  )
}

function SidebarMenuItem({ className, ...props }: React.ComponentProps<"li">) {
  return (
    <li
      data-slot="sidebar-menu-item"
      data-sidebar="menu-item"
      className={cn("group/menu-item relative", className)}
      {...props}
    />
  )
}

const sidebarMenuButtonVariants = cva(
  "peer/menu-button flex w-full items-center gap-2 overflow-hidden rounded-md p-2 text-left text-sm outline-hidden ring-sidebar-ring transition-[width,height,padding] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 active:bg-sidebar-accent active:text-sidebar-accent-foreground disabled:pointer-events-none disabled:opacity-50 group-has-data-[sidebar=menu-action]/menu-item:pr-8 aria-disabled:pointer-events-none aria-disabled:opacity-50 data-[active=true]:bg-sidebar-accent data-[active=true]:font-medium data-[active=true]:text-sidebar-accent-foreground data-[state=open]:hover:bg-sidebar-accent data-[state=open]:hover:text-sidebar-accent-foreground group-data-[collapsible=icon]:size-8! group-data-[collapsible=icon]:p-2! [&>span:last-child]:truncate [&>svg]:size-4 [&>svg]:shrink-0",
  {
    variants: {
      variant: {
        default: "hover:bg-sidebar-accent hover:text-sidebar-accent-foreground",
        outline:
          "bg-background shadow-[0_0_0_1px_hsl(var(--sidebar-border))] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground hover:shadow-[0_0_0_1px_hsl(var(--sidebar-accent))]",
      },
      size: {
        default: "h-8 text-sm",
        sm: "h-7 text-xs",
        lg: "h-12 text-sm group-data-[collapsible=icon]:p-0!",
      },
    },
    defaultVariants: {
      variant: "default",
      size: "default",
    },
  }
)

function SidebarMenuButton({
  asChild = false,
  isActive = false,
  variant = "default",
  size = "default",
  tooltip,
  className,
  ...props
}: React.ComponentProps<"button"> & {
  asChild?: boolean
  isActive?: boolean
  tooltip?: string | React.ComponentProps<typeof TooltipContent>
} & VariantProps<typeof sidebarMenuButtonVariants>) {
  const Comp = asChild ? Slot : "button"
  const { isMobile, state } = useSidebar()

  const button = (
    <Comp
      data-slot="sidebar-menu-button"
      data-sidebar="menu-button"
      data-size={size}
      data-active={isActive}
      className={cn(sidebarMenuButtonVariants({ variant, size }), className)}
      {...props}
    />
  )

  if (!tooltip) {
    return button
  }

  if (typeof tooltip === "string") {
    tooltip = {
      children: tooltip,
    }
  }

  return (
    <Tooltip>
      <TooltipTrigger asChild>{button}</TooltipTrigger>
      <TooltipContent
        side="right"
        align="center"
        hidden={state !== "collapsed" || isMobile}
        {...tooltip}
      />
    </Tooltip>
  )
}

function SidebarMenuAction({
  className,
  asChild = false,
  showOnHover = false,
  ...props
}: React.ComponentProps<"button"> & {
  asChild?: boolean
  showOnHover?: boolean
}) {
  const Comp = asChild ? Slot : "button"

  return (
    <Comp
      data-slot="sidebar-menu-action"
      data-sidebar="menu-action"
      className={cn(
        "text-sidebar-foreground ring-sidebar-ring hover:bg-sidebar-accent hover:text-sidebar-accent-foreground peer-hover/menu-button:text-sidebar-accent-foreground absolute top-1.5 right-1 flex aspect-square w-5 items-center justify-center rounded-md p-0 outline-hidden transition-transform focus-visible:ring-2 [&>svg]:size-4 [&>svg]:shrink-0",
        // Increases the hit area of the button on mobile.
        "after:absolute after:-inset-2 md:after:hidden",
        "peer-data-[size=sm]/menu-button:top-1",
        "peer-data-[size=default]/menu-button:top-1.5",
        "peer-data-[size=lg]/menu-button:top-2.5",
        "group-data-[collapsible=icon]:hidden",
        showOnHover &&
          "peer-data-[active=true]/menu-button:text-sidebar-accent-foreground group-focus-within/menu-item:opacity-100 group-hover/menu-item:opacity-100 data-[state=open]:opacity-100 md:opacity-0",
        className
      )}
      {...props}
    />
  )
}

function SidebarMenuBadge({
  className,
  ...props
}: React.ComponentProps<"div">) {
  return (
    <div
      data-slot="sidebar-menu-badge"
      data-sidebar="menu-badge"
      className={cn(
        "text-sidebar-foreground pointer-events-none absolute right-1 flex h-5 min-w-5 items-center justify-center rounded-md px-1 text-xs font-medium tabular-nums select-none",
        "peer-hover/menu-button:text-sidebar-accent-foreground peer-data-[active=true]/menu-button:text-sidebar-accent-foreground",
        "peer-data-[size=sm]/menu-button:top-1",
        "peer-data-[size=default]/menu-button:top-1.5",
        "peer-data-[size=lg]/menu-button:top-2.5",
        "group-data-[collapsible=icon]:hidden",
        className
      )}
      {...props}
    />
  )
}

function SidebarMenuSkeleton({
  className,
  showIcon = false,
  ...props
}: React.ComponentProps<"div"> & {
  showIcon?: boolean
}) {
  // Random width between 50 to 90%.
  const width = React.useMemo(() => {
    return `${Math.floor(Math.random() * 40) + 50}%`
  }, [])

  return (
    <div
      data-slot="sidebar-menu-skeleton"
      data-sidebar="menu-skeleton"
      className={cn("flex h-8 items-center gap-2 rounded-md px-2", className)}
      {...props}
    >
      {showIcon && (
        <Skeleton
          className="size-4 rounded-md"
          data-sidebar="menu-skeleton-icon"
        />
      )}
      <Skeleton
        className="h-4 max-w-(--skeleton-width) flex-1"
        data-sidebar="menu-skeleton-text"
        style={
          {
            "--skeleton-width": width,
          } as React.CSSProperties
        }
      />
    </div>
  )
}

function SidebarMenuSub({ className, ...props }: React.ComponentProps<"ul">) {
  return (
    <ul
      data-slot="sidebar-menu-sub"
      data-sidebar="menu-sub"
      className={cn(
        "border-sidebar-border mx-3.5 flex min-w-0 translate-x-px flex-col gap-1 border-l px-2.5 py-0.5",
        "group-data-[collapsible=icon]:hidden",
        className
      )}
      {...props}
    />
  )
}

function SidebarMenuSubItem({
  className,
  ...props
}: React.ComponentProps<"li">) {
  return (
    <li
      data-slot="sidebar-menu-sub-item"
      data-sidebar="menu-sub-item"
      className={cn("group/menu-sub-item relative", className)}
      {...props}
    />
  )
}

function SidebarMenuSubButton({
  asChild = false,
  size = "md",
  isActive = false,
  className,
  ...props
}: React.ComponentProps<"a"> & {
  asChild?: boolean
  size?: "sm" | "md"
  isActive?: boolean
}) {
  const Comp = asChild ? Slot : "a"

  return (
    <Comp
      data-slot="sidebar-menu-sub-button"
      data-sidebar="menu-sub-button"
      data-size={size}
      data-active={isActive}
      className={cn(
        "text-sidebar-foreground ring-sidebar-ring hover:bg-sidebar-accent hover:text-sidebar-accent-foreground active:bg-sidebar-accent active:text-sidebar-accent-foreground [&>svg]:text-sidebar-accent-foreground flex h-7 min-w-0 -translate-x-px items-center gap-2 overflow-hidden rounded-md px-2 outline-hidden focus-visible:ring-2 disabled:pointer-events-none disabled:opacity-50 aria-disabled:pointer-events-none aria-disabled:opacity-50 [&>span:last-child]:truncate [&>svg]:size-4 [&>svg]:shrink-0",
        "data-[active=true]:bg-sidebar-accent data-[active=true]:text-sidebar-accent-foreground",
        size === "sm" && "text-xs",
        size === "md" && "text-sm",
        "group-data-[collapsible=icon]:hidden",
        className
      )}
      {...props}
    />
  )
}

export {
  Sidebar,
  SidebarContent,
  SidebarFooter,
  SidebarGroup,
  SidebarGroupAction,
  SidebarGroupContent,
  SidebarGroupLabel,
  SidebarHeader,
  SidebarInput,
  SidebarInset,
  SidebarMenu,
  SidebarMenuAction,
  SidebarMenuBadge,
  SidebarMenuButton,
  SidebarMenuItem,
  SidebarMenuSkeleton,
  SidebarMenuSub,
  SidebarMenuSubButton,
  SidebarMenuSubItem,
  SidebarProvider,
  SidebarRail,
  SidebarSeparator,
  SidebarTrigger,
  useSidebar,
}

// =============== FIN ARCHIVO [115]: src/components/ui/sidebar.tsx =============== //

// =============== INICIO ARCHIVO [116]: src/components/ui/skeleton.tsx =============== //
import { cn } from "@/lib/utils"

function Skeleton({ className, ...props }: React.ComponentProps<"div">) {
  return (
    <div
      data-slot="skeleton"
      className={cn("bg-accent animate-pulse rounded-md", className)}
      {...props}
    />
  )
}

export { Skeleton }

// =============== FIN ARCHIVO [116]: src/components/ui/skeleton.tsx =============== //

// =============== INICIO ARCHIVO [117]: src/components/ui/slider.tsx =============== //
"use client"

import * as React from "react"
import * as SliderPrimitive from "@radix-ui/react-slider"

import { cn } from "@/lib/utils"

function Slider({
  className,
  defaultValue,
  value,
  min = 0,
  max = 100,
  ...props
}: React.ComponentProps<typeof SliderPrimitive.Root>) {
  const _values = React.useMemo(
    () =>
      Array.isArray(value)
        ? value
        : Array.isArray(defaultValue)
          ? defaultValue
          : [min, max],
    [value, defaultValue, min, max]
  )

  return (
    <SliderPrimitive.Root
      data-slot="slider"
      defaultValue={defaultValue}
      value={value}
      min={min}
      max={max}
      className={cn(
        "relative flex w-full touch-none items-center select-none data-[disabled]:opacity-50 data-[orientation=vertical]:h-full data-[orientation=vertical]:min-h-44 data-[orientation=vertical]:w-auto data-[orientation=vertical]:flex-col",
        className
      )}
      {...props}
    >
      <SliderPrimitive.Track
        data-slot="slider-track"
        className={cn(
          "bg-muted relative grow overflow-hidden rounded-full data-[orientation=horizontal]:h-1.5 data-[orientation=horizontal]:w-full data-[orientation=vertical]:h-full data-[orientation=vertical]:w-1.5"
        )}
      >
        <SliderPrimitive.Range
          data-slot="slider-range"
          className={cn(
            "bg-primary absolute data-[orientation=horizontal]:h-full data-[orientation=vertical]:w-full"
          )}
        />
      </SliderPrimitive.Track>
      {Array.from({ length: _values.length }, (_, index) => (
        <SliderPrimitive.Thumb
          data-slot="slider-thumb"
          key={index}
          className="border-primary bg-background ring-ring/50 block size-4 shrink-0 rounded-full border shadow-sm transition-[color,box-shadow] hover:ring-4 focus-visible:ring-4 focus-visible:outline-hidden disabled:pointer-events-none disabled:opacity-50"
        />
      ))}
    </SliderPrimitive.Root>
  )
}

export { Slider }

// =============== FIN ARCHIVO [117]: src/components/ui/slider.tsx =============== //

// =============== INICIO ARCHIVO [118]: src/components/ui/sonner.tsx =============== //
"use client"

import { useTheme } from "next-themes"
import { Toaster as Sonner, ToasterProps } from "sonner"

const Toaster = ({ ...props }: ToasterProps) => {
  const { theme = "system" } = useTheme()

  return (
    <Sonner
      theme={theme as ToasterProps["theme"]}
      className="toaster group"
      style={
        {
          "--normal-bg": "var(--popover)",
          "--normal-text": "var(--popover-foreground)",
          "--normal-border": "var(--border)",
        } as React.CSSProperties
      }
      {...props}
    />
  )
}

export { Toaster }

// =============== FIN ARCHIVO [118]: src/components/ui/sonner.tsx =============== //

// =============== INICIO ARCHIVO [119]: src/components/ui/switch.tsx =============== //
"use client"

import * as React from "react"
import * as SwitchPrimitive from "@radix-ui/react-switch"

import { cn } from "@/lib/utils"

function Switch({
  className,
  ...props
}: React.ComponentProps<typeof SwitchPrimitive.Root>) {
  return (
    <SwitchPrimitive.Root
      data-slot="switch"
      className={cn(
        "peer data-[state=checked]:bg-primary data-[state=unchecked]:bg-input focus-visible:border-ring focus-visible:ring-ring/50 dark:data-[state=unchecked]:bg-input/80 inline-flex h-[1.15rem] w-8 shrink-0 items-center rounded-full border border-transparent shadow-xs transition-all outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",
        className
      )}
      {...props}
    >
      <SwitchPrimitive.Thumb
        data-slot="switch-thumb"
        className={cn(
          "bg-background dark:data-[state=unchecked]:bg-foreground dark:data-[state=checked]:bg-primary-foreground pointer-events-none block size-4 rounded-full ring-0 transition-transform data-[state=checked]:translate-x-[calc(100%-2px)] data-[state=unchecked]:translate-x-0"
        )}
      />
    </SwitchPrimitive.Root>
  )
}

export { Switch }

// =============== FIN ARCHIVO [119]: src/components/ui/switch.tsx =============== //

// =============== INICIO ARCHIVO [120]: src/components/ui/table.tsx =============== //
"use client"

import * as React from "react"

import { cn } from "@/lib/utils"

function Table({ className, ...props }: React.ComponentProps<"table">) {
  return (
    <div
      data-slot="table-container"
      className="relative w-full overflow-x-auto"
    >
      <table
        data-slot="table"
        className={cn("w-full caption-bottom text-sm", className)}
        {...props}
      />
    </div>
  )
}

function TableHeader({ className, ...props }: React.ComponentProps<"thead">) {
  return (
    <thead
      data-slot="table-header"
      className={cn("[&_tr]:border-b", className)}
      {...props}
    />
  )
}

function TableBody({ className, ...props }: React.ComponentProps<"tbody">) {
  return (
    <tbody
      data-slot="table-body"
      className={cn("[&_tr:last-child]:border-0", className)}
      {...props}
    />
  )
}

function TableFooter({ className, ...props }: React.ComponentProps<"tfoot">) {
  return (
    <tfoot
      data-slot="table-footer"
      className={cn(
        "bg-muted/50 border-t font-medium [&>tr]:last:border-b-0",
        className
      )}
      {...props}
    />
  )
}

function TableRow({ className, ...props }: React.ComponentProps<"tr">) {
  return (
    <tr
      data-slot="table-row"
      className={cn(
        "hover:bg-muted/50 data-[state=selected]:bg-muted border-b transition-colors",
        className
      )}
      {...props}
    />
  )
}

function TableHead({ className, ...props }: React.ComponentProps<"th">) {
  return (
    <th
      data-slot="table-head"
      className={cn(
        "text-foreground h-10 px-2 text-left align-middle font-medium whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",
        className
      )}
      {...props}
    />
  )
}

function TableCell({ className, ...props }: React.ComponentProps<"td">) {
  return (
    <td
      data-slot="table-cell"
      className={cn(
        "p-2 align-middle whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",
        className
      )}
      {...props}
    />
  )
}

function TableCaption({
  className,
  ...props
}: React.ComponentProps<"caption">) {
  return (
    <caption
      data-slot="table-caption"
      className={cn("text-muted-foreground mt-4 text-sm", className)}
      {...props}
    />
  )
}

export {
  Table,
  TableHeader,
  TableBody,
  TableFooter,
  TableHead,
  TableRow,
  TableCell,
  TableCaption,
}

// =============== FIN ARCHIVO [120]: src/components/ui/table.tsx =============== //

// =============== INICIO ARCHIVO [121]: src/components/ui/tabs.tsx =============== //
"use client"

import * as React from "react"
import * as TabsPrimitive from "@radix-ui/react-tabs"

import { cn } from "@/lib/utils"

function Tabs({
  className,
  ...props
}: React.ComponentProps<typeof TabsPrimitive.Root>) {
  return (
    <TabsPrimitive.Root
      data-slot="tabs"
      className={cn("flex flex-col gap-2", className)}
      {...props}
    />
  )
}

function TabsList({
  className,
  ...props
}: React.ComponentProps<typeof TabsPrimitive.List>) {
  return (
    <TabsPrimitive.List
      data-slot="tabs-list"
      className={cn(
        "bg-muted text-muted-foreground inline-flex h-9 w-fit items-center justify-center rounded-lg p-[3px]",
        className
      )}
      {...props}
    />
  )
}

function TabsTrigger({
  className,
  ...props
}: React.ComponentProps<typeof TabsPrimitive.Trigger>) {
  return (
    <TabsPrimitive.Trigger
      data-slot="tabs-trigger"
      className={cn(
        "data-[state=active]:bg-background dark:data-[state=active]:text-foreground focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:outline-ring dark:data-[state=active]:border-input dark:data-[state=active]:bg-input/30 text-foreground dark:text-muted-foreground inline-flex h-[calc(100%-1px)] flex-1 items-center justify-center gap-1.5 rounded-md border border-transparent px-2 py-1 text-sm font-medium whitespace-nowrap transition-[color,box-shadow] focus-visible:ring-[3px] focus-visible:outline-1 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:shadow-sm [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",
        className
      )}
      {...props}
    />
  )
}

function TabsContent({
  className,
  ...props
}: React.ComponentProps<typeof TabsPrimitive.Content>) {
  return (
    <TabsPrimitive.Content
      data-slot="tabs-content"
      className={cn("flex-1 outline-none", className)}
      {...props}
    />
  )
}

export { Tabs, TabsList, TabsTrigger, TabsContent }

// =============== FIN ARCHIVO [121]: src/components/ui/tabs.tsx =============== //

// =============== INICIO ARCHIVO [122]: src/components/ui/textarea.tsx =============== //
import * as React from "react"

import { cn } from "@/lib/utils"

function Textarea({ className, ...props }: React.ComponentProps<"textarea">) {
  return (
    <textarea
      data-slot="textarea"
      className={cn(
        "border-input placeholder:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 flex field-sizing-content min-h-16 w-full rounded-md border bg-transparent px-3 py-2 text-base shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",
        className
      )}
      {...props}
    />
  )
}

export { Textarea }

// =============== FIN ARCHIVO [122]: src/components/ui/textarea.tsx =============== //

// =============== INICIO ARCHIVO [123]: src/components/ui/toast.tsx =============== //
"use client"

import * as React from "react"
import * as ToastPrimitives from "@radix-ui/react-toast"
import { cva, type VariantProps } from "class-variance-authority"
import { X } from "lucide-react"

import { cn } from "@/lib/utils"

const ToastProvider = ToastPrimitives.Provider

const ToastViewport = React.forwardRef<
  React.ElementRef<typeof ToastPrimitives.Viewport>,
  React.ComponentPropsWithoutRef<typeof ToastPrimitives.Viewport>
>(({ className, ...props }, ref) => (
  <ToastPrimitives.Viewport
    ref={ref}
    className={cn(
      "fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",
      className
    )}
    {...props}
  />
))
ToastViewport.displayName = ToastPrimitives.Viewport.displayName

const toastVariants = cva(
  "group pointer-events-auto relative flex w-full items-center justify-between space-x-2 overflow-hidden rounded-md border p-4 pr-6 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",
  {
    variants: {
      variant: {
        default: "border bg-background text-foreground",
        destructive:
          "destructive group border-destructive bg-destructive text-destructive-foreground",
      },
    },
    defaultVariants: {
      variant: "default",
    },
  }
)

const Toast = React.forwardRef<
  React.ElementRef<typeof ToastPrimitives.Root>,
  React.ComponentPropsWithoutRef<typeof ToastPrimitives.Root> &
  VariantProps<typeof toastVariants>
>(({ className, variant, ...props }, ref) => {
  return (
    <ToastPrimitives.Root
      ref={ref}
      className={cn(toastVariants({ variant }), className)}
      {...props}
    />
  )
})
Toast.displayName = ToastPrimitives.Root.displayName

const ToastAction = React.forwardRef<
  React.ElementRef<typeof ToastPrimitives.Action>,
  React.ComponentPropsWithoutRef<typeof ToastPrimitives.Action>
>(({ className, ...props }, ref) => (
  <ToastPrimitives.Action
    ref={ref}
    className={cn(
      "inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium transition-colors hover:bg-secondary focus:outline-none focus:ring-1 focus:ring-ring disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",
      className
    )}
    {...props}
  />
))
ToastAction.displayName = ToastPrimitives.Action.displayName

const ToastClose = React.forwardRef<
  React.ElementRef<typeof ToastPrimitives.Close>,
  React.ComponentPropsWithoutRef<typeof ToastPrimitives.Close>
>(({ className, ...props }, ref) => (
  <ToastPrimitives.Close
    ref={ref}
    className={cn(
      "absolute right-1 top-1 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-1 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",
      className
    )}
    toast-close=""
    {...props}
  >
    <X className="h-4 w-4" />
  </ToastPrimitives.Close>
))
ToastClose.displayName = ToastPrimitives.Close.displayName

const ToastTitle = React.forwardRef<
  React.ElementRef<typeof ToastPrimitives.Title>,
  React.ComponentPropsWithoutRef<typeof ToastPrimitives.Title>
>(({ className, ...props }, ref) => (
  <ToastPrimitives.Title
    ref={ref}
    className={cn("text-sm font-semibold [&+div]:text-xs", className)}
    {...props}
  />
))
ToastTitle.displayName = ToastPrimitives.Title.displayName

const ToastDescription = React.forwardRef<
  React.ElementRef<typeof ToastPrimitives.Description>,
  React.ComponentPropsWithoutRef<typeof ToastPrimitives.Description>
>(({ className, ...props }, ref) => (
  <ToastPrimitives.Description
    ref={ref}
    className={cn("text-sm opacity-90", className)}
    {...props}
  />
))
ToastDescription.displayName = ToastPrimitives.Description.displayName

type ToastProps = React.ComponentPropsWithoutRef<typeof Toast>

type ToastActionElement = React.ReactElement<typeof ToastAction>

export {
  type ToastProps,
  type ToastActionElement,
  ToastProvider,
  ToastViewport,
  Toast,
  ToastTitle,
  ToastDescription,
  ToastClose,
  ToastAction,
}

// =============== FIN ARCHIVO [123]: src/components/ui/toast.tsx =============== //

// =============== INICIO ARCHIVO [124]: src/components/ui/toaster.tsx =============== //
"use client"

import { useToast } from "@/hooks/use-toast"
import {
  Toast,
  ToastClose,
  ToastDescription,
  ToastProvider,
  ToastTitle,
  ToastViewport,
} from "@/components/ui/toast"

export function Toaster() {
  const { toasts } = useToast()

  return (
    <ToastProvider>
      {toasts.map(function ({ id, title, description, action, ...props }) {
        return (
          <Toast key={id} {...props}>
            <div className="grid gap-1">
              {title && <ToastTitle>{title}</ToastTitle>}
              {description && (
                <ToastDescription>{description}</ToastDescription>
              )}
            </div>
            {action}
            <ToastClose />
          </Toast>
        )
      })}
      <ToastViewport />
    </ToastProvider>
  )
}

// =============== FIN ARCHIVO [124]: src/components/ui/toaster.tsx =============== //

// =============== INICIO ARCHIVO [125]: src/components/ui/toggle-group.tsx =============== //
"use client"

import * as React from "react"
import * as ToggleGroupPrimitive from "@radix-ui/react-toggle-group"
import { type VariantProps } from "class-variance-authority"

import { cn } from "@/lib/utils"
import { toggleVariants } from "@/components/ui/toggle"

const ToggleGroupContext = React.createContext<
  VariantProps<typeof toggleVariants>
>({
  size: "default",
  variant: "default",
})

function ToggleGroup({
  className,
  variant,
  size,
  children,
  ...props
}: React.ComponentProps<typeof ToggleGroupPrimitive.Root> &
  VariantProps<typeof toggleVariants>) {
  return (
    <ToggleGroupPrimitive.Root
      data-slot="toggle-group"
      data-variant={variant}
      data-size={size}
      className={cn(
        "group/toggle-group flex w-fit items-center rounded-md data-[variant=outline]:shadow-xs",
        className
      )}
      {...props}
    >
      <ToggleGroupContext.Provider value={{ variant, size }}>
        {children}
      </ToggleGroupContext.Provider>
    </ToggleGroupPrimitive.Root>
  )
}

function ToggleGroupItem({
  className,
  children,
  variant,
  size,
  ...props
}: React.ComponentProps<typeof ToggleGroupPrimitive.Item> &
  VariantProps<typeof toggleVariants>) {
  const context = React.useContext(ToggleGroupContext)

  return (
    <ToggleGroupPrimitive.Item
      data-slot="toggle-group-item"
      data-variant={context.variant || variant}
      data-size={context.size || size}
      className={cn(
        toggleVariants({
          variant: context.variant || variant,
          size: context.size || size,
        }),
        "min-w-0 flex-1 shrink-0 rounded-none shadow-none first:rounded-l-md last:rounded-r-md focus:z-10 focus-visible:z-10 data-[variant=outline]:border-l-0 data-[variant=outline]:first:border-l",
        className
      )}
      {...props}
    >
      {children}
    </ToggleGroupPrimitive.Item>
  )
}

export { ToggleGroup, ToggleGroupItem }

// =============== FIN ARCHIVO [125]: src/components/ui/toggle-group.tsx =============== //

// =============== INICIO ARCHIVO [126]: src/components/ui/toggle.tsx =============== //
"use client"

import * as React from "react"
import * as TogglePrimitive from "@radix-ui/react-toggle"
import { cva, type VariantProps } from "class-variance-authority"

import { cn } from "@/lib/utils"

const toggleVariants = cva(
  "inline-flex items-center justify-center gap-2 rounded-md text-sm font-medium hover:bg-muted hover:text-muted-foreground disabled:pointer-events-none disabled:opacity-50 data-[state=on]:bg-accent data-[state=on]:text-accent-foreground [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 [&_svg]:shrink-0 focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] outline-none transition-[color,box-shadow] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive whitespace-nowrap",
  {
    variants: {
      variant: {
        default: "bg-transparent",
        outline:
          "border border-input bg-transparent shadow-xs hover:bg-accent hover:text-accent-foreground",
      },
      size: {
        default: "h-9 px-2 min-w-9",
        sm: "h-8 px-1.5 min-w-8",
        lg: "h-10 px-2.5 min-w-10",
      },
    },
    defaultVariants: {
      variant: "default",
      size: "default",
    },
  }
)

function Toggle({
  className,
  variant,
  size,
  ...props
}: React.ComponentProps<typeof TogglePrimitive.Root> &
  VariantProps<typeof toggleVariants>) {
  return (
    <TogglePrimitive.Root
      data-slot="toggle"
      className={cn(toggleVariants({ variant, size, className }))}
      {...props}
    />
  )
}

export { Toggle, toggleVariants }

// =============== FIN ARCHIVO [126]: src/components/ui/toggle.tsx =============== //

// =============== INICIO ARCHIVO [127]: src/components/ui/tooltip.tsx =============== //
"use client"

import * as React from "react"
import * as TooltipPrimitive from "@radix-ui/react-tooltip"

import { cn } from "@/lib/utils"

function TooltipProvider({
  delayDuration = 0,
  ...props
}: React.ComponentProps<typeof TooltipPrimitive.Provider>) {
  return (
    <TooltipPrimitive.Provider
      data-slot="tooltip-provider"
      delayDuration={delayDuration}
      {...props}
    />
  )
}

function Tooltip({
  ...props
}: React.ComponentProps<typeof TooltipPrimitive.Root>) {
  return (
    <TooltipProvider>
      <TooltipPrimitive.Root data-slot="tooltip" {...props} />
    </TooltipProvider>
  )
}

function TooltipTrigger({
  ...props
}: React.ComponentProps<typeof TooltipPrimitive.Trigger>) {
  return <TooltipPrimitive.Trigger data-slot="tooltip-trigger" {...props} />
}

function TooltipContent({
  className,
  sideOffset = 0,
  children,
  ...props
}: React.ComponentProps<typeof TooltipPrimitive.Content>) {
  return (
    <TooltipPrimitive.Portal>
      <TooltipPrimitive.Content
        data-slot="tooltip-content"
        sideOffset={sideOffset}
        className={cn(
          "bg-primary text-primary-foreground animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 w-fit origin-(--radix-tooltip-content-transform-origin) rounded-md px-3 py-1.5 text-xs text-balance",
          className
        )}
        {...props}
      >
        {children}
        <TooltipPrimitive.Arrow className="bg-primary fill-primary z-50 size-2.5 translate-y-[calc(-50%_-_2px)] rotate-45 rounded-[2px]" />
      </TooltipPrimitive.Content>
    </TooltipPrimitive.Portal>
  )
}

export { Tooltip, TooltipTrigger, TooltipContent, TooltipProvider }

// =============== FIN ARCHIVO [127]: src/components/ui/tooltip.tsx =============== //

// =============== INICIO ARCHIVO [128]: src/globals/AnalyticsDashboard.ts =============== //
import type { GlobalConfig } from 'payload'
// Importamos tu componente visual
import AnalyticsView from '../components/admin/Analytics/AnalyticsView'

export const AnalyticsDashboard: GlobalConfig = {
  slug: 'analytics-dashboard', 
  label: 'Analytics & KPIs',   
  admin: {
    group: 'Command Center',
    components: {
      views: {
        // CORRECCI√ìN 1: 'edit' en min√∫scula y estructura 'root' para reemplazar toda la pantalla
        edit: {
          root: {
            Component: AnalyticsView as any,
          },
        },
      },
    },
  },
  access: {
    // Solo admins pueden verlo
    read: ({ req: { user } }) => Boolean(user),
  },
  fields: [
    // CORRECCI√ìN 2: Usamos un campo 'text' oculto en lugar de 'ui'
    // Esto satisface el requisito de Payload de tener campos sin dar errores de tipo.
    {
      name: 'placeholder',
      type: 'text',
      admin: {
        hidden: true,
      },
    },
  ],
}

// =============== FIN ARCHIVO [128]: src/globals/AnalyticsDashboard.ts =============== //

// =============== INICIO ARCHIVO [129]: src/globals/Company.ts =============== //
import type { GlobalConfig } from 'payload'

export const Company: GlobalConfig = {
  slug: 'company-info',
  label: 'Configuraci√≥n Empresa',
  access: {
    read: () => true,
  },
  fields: [
    {
      type: 'tabs',
      tabs: [
        {
          label: 'Identidad',
          fields: [
            {
              name: 'logo',
              type: 'upload',
              relationTo: 'media',
              required: false,
              label: 'Logo Principal (Imagen Opcional)',
              admin: {
                description: 'Sube una imagen solo si quieres reemplazar el texto OHCODEX del header.',
              },
            },
            {
              name: 'logoDark',
              type: 'upload',
              relationTo: 'media',
              label: 'Logo Secundario/Oscuro (Opcional)',
            },
            {
              name: 'tagline',
              type: 'text',
              label: 'Eslogan Corto (Footer)',
              localized: true, // ‚úÖ
              defaultValue: 'Arquitectos de Ecosistemas Digitales',
            },
            {
              name: 'description',
              type: 'textarea',
              label: 'Descripci√≥n Breve (Footer)',
              localized: true, // ‚úÖ
              defaultValue: 'Ingenier√≠a de software avanzada para empresas que buscan escalabilidad.',
            },
          ],
        },
        {
          label: 'SEO Global',
          description: 'Configuraci√≥n por defecto para buscadores (Google)',
          fields: [
            {
              name: 'defaultTitle',
              type: 'text',
              required: true,
              label: 'T√≠tulo por defecto (Home)',
              localized: true, // ‚úÖ
              defaultValue: 'OHCodex | Desarrollo de Software a Medida y Sistemas SaaS',
              admin: {
                description: 'Se usar√° en la p√°gina principal y como fallback.',
              },
            },
            {
              name: 'titleTemplate',
              type: 'text',
              required: true,
              label: 'Plantilla de T√≠tulo',
              localized: true, // ‚úÖ
              defaultValue: '%s | OHCodex',
              admin: {
                description: 'El %s se reemplazar√° por el t√≠tulo de la p√°gina actual (ej: "Aviso Legal | OHCodex").',
              },
            },
            {
              name: 'defaultDescription',
              type: 'textarea',
              required: true,
              label: 'Meta Descripci√≥n Global',
              localized: true, // ‚úÖ
              defaultValue: 'Empresa de desarrollo de software especializada en PWAs, arquitecturas SaaS escalables y transformaci√≥n digital.',
              minLength: 50,
              maxLength: 160,
            },
            {
              name: 'keywords',
              type: 'array',
              label: 'Palabras Clave Globales',
              labels: {
                singular: 'Keyword',
                plural: 'Keywords',
              },
              fields: [
                {
                  name: 'keyword',
                  type: 'text',
                  label: 'Palabra clave',
                  localized: true, // ‚úÖ
                },
              ],
            },
          ],
        },
        {
          label: 'Contacto',
          fields: [
            {
              name: 'contactEmail',
              type: 'email',
              required: true,
              label: 'Email de Contacto (Visible en Web)',
              defaultValue: 'info@ohcodex.com',
            },
            {
              name: 'phoneNumber',
              type: 'text',
              label: 'Tel√©fono',
            },
            {
              name: 'address',
              type: 'textarea',
              label: 'Direcci√≥n F√≠sica',
              localized: true, // ‚úÖ
              defaultValue: 'J√°vea, Alicante, Espa√±a',
            },
            {
              name: 'schedule',
              type: 'text',
              label: 'Horario de Atenci√≥n',
              localized: true, // ‚úÖ
              defaultValue: 'L-V: 09:00 - 18:00',
            },
          ],
        },
        {
          label: 'Redes Sociales',
          fields: [
            {
              name: 'linkedin',
              type: 'text',
              label: 'URL LinkedIn',
            },
            {
              name: 'github',
              type: 'text',
              label: 'URL GitHub',
            },
            {
              name: 'twitter',
              type: 'text',
              label: 'URL Twitter/X',
            },
          ],
        },
      ],
    },
  ],
}

// =============== FIN ARCHIVO [129]: src/globals/Company.ts =============== //

// =============== INICIO ARCHIVO [130]: src/globals/EmailSettings.ts =============== //
import type { GlobalConfig } from 'payload'

export const EmailSettings: GlobalConfig = {
  slug: 'email-settings',
  label: 'Configuraci√≥n de Correo (SMTP)',
  access: {
    // Solo los admins pueden ver o editar esto por seguridad
    read: ({ req: { user } }) => Boolean(user),
    update: ({ req: { user } }) => Boolean(user),
  },
  fields: [
    {
      type: 'row',
      fields: [
        {
          name: 'smtpHost',
          type: 'text',
          label: 'Servidor SMTP',
          required: true,
          defaultValue: 'smtp.zoho.eu', // Valor por defecto para Zoho Europa
          admin: { width: '50%' },
        },
        {
          name: 'smtpPort',
          type: 'number',
          label: 'Puerto SMTP',
          required: true,
          defaultValue: 465, // Puerto SSL est√°ndar
          admin: { width: '50%' },
        },
      ],
    },
    {
      type: 'row',
      fields: [
        {
          name: 'smtpUser',
          type: 'text',
          label: 'Usuario SMTP (Login)',
          required: true,
          admin: {
            width: '50%',
            description: 'Tu email principal de Zoho (admin@crono-job.com)',
          },
        },
        {
          name: 'smtpPass',
          type: 'text', 
          label: 'Contrase√±a de Aplicaci√≥n',
          required: true,
          admin: {
            width: '50%',
            description: 'Pega aqu√≠ la clave que generaste (rRc6...)',
          },
        },
      ],
    },
    // CORRECCI√ìN: Usamos 'collapsible' en lugar de 'section'
    {
      type: 'collapsible',
      label: 'Configuraci√≥n de Env√≠o',
      admin: {
        initCollapsed: false,
      },
      fields: [
        {
          type: 'row',
          fields: [
            {
              name: 'fromName',
              type: 'text',
              label: 'Nombre del Remitente',
              defaultValue: 'Web OHCodex',
              required: true,
              admin: { width: '50%' },
            },
            {
              name: 'fromEmail',
              type: 'email',
              label: 'Email del Remitente (De parte de)',
              defaultValue: 'info@ohcodex.com',
              required: true,
              admin: {
                width: '50%',
                description: 'Debe ser un alias v√°lido de tu cuenta.',
              },
            },
          ],
        },
        {
          name: 'toEmail',
          type: 'email',
          label: 'Recibir notificaciones en',
          defaultValue: 'admin@crono-job.com', // O donde quieras recibir los leads
          required: true,
          admin: {
            description: 'A este correo llegar√°n los avisos cuando alguien rellene el formulario.',
          },
        },
      ],
    },
  ],
}

// =============== FIN ARCHIVO [130]: src/globals/EmailSettings.ts =============== //

// =============== INICIO ARCHIVO [131]: src/globals/Landing.ts =============== //
import type { GlobalConfig } from 'payload'
import { revalidatePath } from 'next/cache'

export const Landing: GlobalConfig = {
  slug: 'landing-page',
  label: 'Contenido Home',
  access: {
    read: () => true,
  },
  hooks: {
    afterChange: [
      async () => {
        revalidatePath('/')
        console.log('üîÑ Home regenerada bajo demanda')
      },
    ],
  },
  fields: [
    {
      type: 'tabs',
      tabs: [
        {
          label: 'Secci√≥n Hero',
          fields: [
            {
              name: 'heroBadge',
              type: 'text',
              label: 'Etiqueta Superior (Badge)',
              localized: true, // ‚úÖ
              defaultValue: 'Nuevo: Pool-Control Beta Disponible',
            },
            {
              name: 'heroTitle',
              type: 'text',
              label: 'T√≠tulo Principal',
              required: true,
              localized: true, // ‚úÖ
              defaultValue: 'Arquitectos de Ecosistemas Digitales',
            },
            {
              name: 'heroSubtitle',
              type: 'textarea',
              label: 'Subt√≠tulo',
              required: true,
              localized: true, // ‚úÖ
              defaultValue: 'Transformamos negocios con software a medida de alto rendimiento. Desde PWAs ultra-r√°pidas hasta infraestructuras SaaS complejas.',
            },
          ],
        },
        {
          label: 'Barra de Confianza',
          fields: [
            {
              name: 'trustBarTitle',
              type: 'text',
              label: 'T√≠tulo peque√±o (sobre los logos)',
              localized: true, // ‚úÖ
              defaultValue: 'Tecnolog√≠as que impulsan nuestros productos',
            },
            {
              name: 'trustLogos',
              type: 'relationship',
              relationTo: 'media',
              hasMany: true,
              label: 'Logos Tecnol√≥gicos o Clientes',
            },
          ],
        },
        {
          label: 'Secci√≥n Productos',
          fields: [
            {
              name: 'productsTitle',
              type: 'text',
              label: 'T√≠tulo Secci√≥n Productos',
              localized: true, // ‚úÖ
              defaultValue: 'Soluciones OHCodex',
            },
            {
              name: 'productsDescription',
              type: 'textarea',
              label: 'Descripci√≥n Secci√≥n Productos',
              localized: true, // ‚úÖ
              defaultValue: 'Software dise√±ado para resolver problemas reales. Desde la automatizaci√≥n de infraestructura hasta la gesti√≥n comercial.',
            },
            {
              type: 'row',
              fields: [
                {
                  name: 'productsGridCols',
                  type: 'select',
                  label: 'Columnas en PC',
                  defaultValue: '3',
                  options: [
                    { label: '2 Columnas', value: '2' },
                    { label: '3 Columnas', value: '3' },
                    { label: '4 Columnas', value: '4' },
                  ],
                  admin: { width: '50%' },
                },
                {
                  name: 'productsAlign',
                  type: 'select',
                  label: 'Alineaci√≥n de Texto',
                  defaultValue: 'center',
                  options: [
                    { label: 'Centrado', value: 'center' },
                    { label: 'Izquierda', value: 'left' },
                  ],
                  admin: { width: '50%' },
                },
              ],
            },
          ],
        },
        {
          label: 'Secci√≥n Metodolog√≠a',
          fields: [
            {
              name: 'featuresTitle',
              type: 'text',
              label: 'T√≠tulo Metodolog√≠a',
              localized: true, // ‚úÖ
              defaultValue: 'M√°s all√° del c√≥digo: Ingenier√≠a de Producto',
            },
            {
              name: 'featuresDescription',
              type: 'textarea',
              label: 'Descripci√≥n Metodolog√≠a',
              localized: true, // ‚úÖ
              defaultValue: 'En OHCodex no somos una factor√≠a de software al peso. Actuamos como tu socio tecnol√≥gico.',
            },
            {
              name: 'featuresAlign',
              type: 'select',
              label: 'Dise√±o de la Secci√≥n',
              defaultValue: 'left',
              options: [
                { label: 'Izquierda (Texto Izq + Grid Der)', value: 'left' },
                { label: 'Centro (Texto Arriba + Grid Abajo)', value: 'center' },
              ],
            },
            {
              name: 'featuresList',
              type: 'array',
              label: 'Lista de Caracter√≠sticas',
              minRows: 3,
              maxRows: 4,
              labels: {
                singular: 'Caracter√≠stica',
                plural: 'Caracter√≠sticas',
              },
              fields: [
                {
                  name: 'icon',
                  type: 'select',
                  label: 'Icono',
                  defaultValue: 'zap',
                  options: [
                    { label: 'Smartphone (PWA)', value: 'smartphone' },
                    { label: 'Rayo (Rendimiento)', value: 'zap' },
                    { label: 'Base de Datos (Integraci√≥n)', value: 'database' },
                    { label: 'Escudo (Seguridad)', value: 'shield' },
                    { label: 'C√≥digo (Desarrollo)', value: 'code' },
                    { label: 'Usuarios (Equipo)', value: 'users' },
                    { label: 'Cohete (Lanzamiento)', value: 'rocket' },
                  ],
                },
                {
                  name: 'title',
                  type: 'text',
                  label: 'T√≠tulo',
                  localized: true, // ‚úÖ
                  required: true,
                },
                {
                  name: 'description',
                  type: 'textarea',
                  label: 'Descripci√≥n',
                  localized: true, // ‚úÖ
                  required: true,
                },
              ],
            },
          ],
        },
        {
          label: 'Testimonios',
          fields: [
            {
              name: 'testimonialsTitle',
              type: 'text',
              label: 'T√≠tulo Secci√≥n Testimonios',
              localized: true, // ‚úÖ
              defaultValue: 'Confianza que se construye con c√≥digo',
            },
            {
              name: 'testimonialsSubtitle',
              type: 'textarea',
              label: 'Subt√≠tulo',
              localized: true, // ‚úÖ
              defaultValue: 'Lo que dicen los l√≠deres t√©cnicos que ya escalan con nuestra arquitectura.',
            },
            {
              name: 'testimonials',
              type: 'array',
              label: 'Lista de Rese√±as',
              labels: {
                singular: 'Testimonio',
                plural: 'Testimonios',
              },
              fields: [
                {
                  type: 'row',
                  fields: [
                    {
                      name: 'authorName',
                      type: 'text',
                      label: 'Nombre Autor',
                      required: true,
                      admin: { width: '50%' },
                    },
                    {
                      name: 'authorRole',
                      type: 'text',
                      label: 'Cargo (ej: CTO)',
                      localized: true, // ‚úÖ
                      required: true,
                      admin: { width: '50%' },
                    },
                  ],
                },
                {
                  name: 'companyName',
                  type: 'text',
                  label: 'Empresa',
                  required: true,
                },
                {
                  name: 'quote',
                  type: 'textarea',
                  label: 'La Cita / Opini√≥n',
                  localized: true, // ‚úÖ
                  required: true,
                },
                {
                  name: 'authorImage',
                  type: 'upload',
                  relationTo: 'media',
                  label: 'Foto del Autor',
                },
              ],
            },
          ],
        },
        {
          label: 'FAQs',
          fields: [
            {
              name: 'faqTitle',
              type: 'text',
              label: 'T√≠tulo Secci√≥n FAQ',
              localized: true, // ‚úÖ
              defaultValue: 'Preguntas Frecuentes',
            },
            {
              name: 'faqSubtitle',
              type: 'textarea',
              label: 'Subt√≠tulo',
              localized: true, // ‚úÖ
              defaultValue: 'Todo lo que necesitas saber sobre nuestra forma de trabajar.',
            },
            {
              name: 'faqs',
              type: 'array',
              label: 'Lista de Preguntas',
              labels: {
                singular: 'Pregunta',
                plural: 'Preguntas',
              },
              fields: [
                {
                  name: 'question',
                  type: 'text',
                  label: 'Pregunta',
                  localized: true, // ‚úÖ
                  required: true,
                },
                {
                  name: 'answer',
                  type: 'textarea',
                  label: 'Respuesta',
                  localized: true, // ‚úÖ
                  required: true,
                },
              ],
            },
          ],
        },
      ],
    },
  ],
}

// =============== FIN ARCHIVO [131]: src/globals/Landing.ts =============== //

// =============== INICIO ARCHIVO [132]: src/globals/Legal.ts =============== //
import type { GlobalConfig } from 'payload'
import { revalidatePath } from 'next/cache'

export const Legal: GlobalConfig = {
  slug: 'legal-texts',
  label: 'Textos Legales',
  access: {
    read: () => true, // Acceso p√∫blico para que la web pueda leerlos
  },
  // --- AQUI EST√Å LA ACTUALIZACI√ìN AUTOM√ÅTICA ---
  hooks: {
    afterChange: [
      async () => {
        // Regeneramos las 3 p√°ginas legales al mismo tiempo
        // Nota: Al introducir locales, Next.js revalidar√° las rutas espec√≠ficas por idioma
        revalidatePath('/aviso-legal')
        revalidatePath('/privacidad')
        revalidatePath('/terminos')
        console.log('üîÑ Textos legales regenerados bajo demanda')
      },
    ],
  },
  // ---------------------------------------------
  fields: [
    {
      type: 'tabs',
      tabs: [
        {
          label: 'Aviso Legal',
          fields: [
            {
              name: 'legalNotice',
              type: 'richText',
              label: 'Contenido del Aviso Legal',
              required: true,
              localized: true, // ‚úÖ AHORA TRADUCIBLE
            },
          ],
        },
        {
          label: 'Privacidad',
          fields: [
            {
              name: 'privacyPolicy',
              type: 'richText',
              label: 'Contenido de Pol√≠tica de Privacidad',
              required: true,
              localized: true, // ‚úÖ AHORA TRADUCIBLE
            },
          ],
        },
        {
          label: 'T√©rminos',
          fields: [
            {
              name: 'termsConditions',
              type: 'richText',
              label: 'Contenido de T√©rminos y Condiciones',
              required: true,
              localized: true, // ‚úÖ AHORA TRADUCIBLE
            },
          ],
        },
      ],
    },
  ],
}

// =============== FIN ARCHIVO [132]: src/globals/Legal.ts =============== //

// =============== INICIO ARCHIVO [133]: src/hooks/use-mobile.ts =============== //
import * as React from "react"

const MOBILE_BREAKPOINT = 768

export function useIsMobile() {
  const [isMobile, setIsMobile] = React.useState<boolean | undefined>(undefined)

  React.useEffect(() => {
    const mql = window.matchMedia(`(max-width: ${MOBILE_BREAKPOINT - 1}px)`)
    const onChange = () => {
      setIsMobile(window.innerWidth < MOBILE_BREAKPOINT)
    }
    mql.addEventListener("change", onChange)
    setIsMobile(window.innerWidth < MOBILE_BREAKPOINT)
    return () => mql.removeEventListener("change", onChange)
  }, [])

  return !!isMobile
}

// =============== FIN ARCHIVO [133]: src/hooks/use-mobile.ts =============== //

// =============== INICIO ARCHIVO [134]: src/hooks/use-toast.ts =============== //
"use client"

// Inspired by react-hot-toast library
import * as React from "react"

import type {
  ToastActionElement,
  ToastProps,
} from "@/components/ui/toast"

const TOAST_LIMIT = 1
const TOAST_REMOVE_DELAY = 1000000

type ToasterToast = ToastProps & {
  id: string
  title?: React.ReactNode
  description?: React.ReactNode
  action?: ToastActionElement
}

const actionTypes = {
  ADD_TOAST: "ADD_TOAST",
  UPDATE_TOAST: "UPDATE_TOAST",
  DISMISS_TOAST: "DISMISS_TOAST",
  REMOVE_TOAST: "REMOVE_TOAST",
} as const

let count = 0

function genId() {
  count = (count + 1) % Number.MAX_SAFE_INTEGER
  return count.toString()
}

type ActionType = typeof actionTypes

type Action =
  | {
    type: ActionType["ADD_TOAST"]
    toast: ToasterToast
  }
  | {
    type: ActionType["UPDATE_TOAST"]
    toast: Partial<ToasterToast>
  }
  | {
    type: ActionType["DISMISS_TOAST"]
    toastId?: ToasterToast["id"]
  }
  | {
    type: ActionType["REMOVE_TOAST"]
    toastId?: ToasterToast["id"]
  }

interface State {
  toasts: ToasterToast[]
}

const toastTimeouts = new Map<string, ReturnType<typeof setTimeout>>()

const addToRemoveQueue = (toastId: string) => {
  if (toastTimeouts.has(toastId)) {
    return
  }

  const timeout = setTimeout(() => {
    toastTimeouts.delete(toastId)
    dispatch({
      type: "REMOVE_TOAST",
      toastId: toastId,
    })
  }, TOAST_REMOVE_DELAY)

  toastTimeouts.set(toastId, timeout)
}

export const reducer = (state: State, action: Action): State => {
  switch (action.type) {
    case "ADD_TOAST":
      return {
        ...state,
        toasts: [action.toast, ...state.toasts].slice(0, TOAST_LIMIT),
      }

    case "UPDATE_TOAST":
      return {
        ...state,
        toasts: state.toasts.map((t) =>
          t.id === action.toast.id ? { ...t, ...action.toast } : t
        ),
      }

    case "DISMISS_TOAST": {
      const { toastId } = action

      // ! Side effects ! - This could be extracted into a dismissToast() action,
      // but I'll keep it here for simplicity
      if (toastId) {
        addToRemoveQueue(toastId)
      } else {
        state.toasts.forEach((toast) => {
          addToRemoveQueue(toast.id)
        })
      }

      return {
        ...state,
        toasts: state.toasts.map((t) =>
          t.id === toastId || toastId === undefined
            ? {
              ...t,
              open: false,
            }
            : t
        ),
      }
    }
    case "REMOVE_TOAST":
      if (action.toastId === undefined) {
        return {
          ...state,
          toasts: [],
        }
      }
      return {
        ...state,
        toasts: state.toasts.filter((t) => t.id !== action.toastId),
      }
  }
}

const listeners: Array<(state: State) => void> = []

let memoryState: State = { toasts: [] }

function dispatch(action: Action) {
  memoryState = reducer(memoryState, action)
  listeners.forEach((listener) => {
    listener(memoryState)
  })
}

type Toast = Omit<ToasterToast, "id">

function toast({ ...props }: Toast) {
  const id = genId()

  const update = (props: ToasterToast) =>
    dispatch({
      type: "UPDATE_TOAST",
      toast: { ...props, id },
    })
  const dismiss = () => dispatch({ type: "DISMISS_TOAST", toastId: id })

  dispatch({
    type: "ADD_TOAST",
    toast: {
      ...props,
      id,
      open: true,
      onOpenChange: (open) => {
        if (!open) dismiss()
      },
    },
  })

  return {
    id: id,
    dismiss,
    update,
  }
}

function useToast() {
  const [state, setState] = React.useState<State>(memoryState)

  React.useEffect(() => {
    listeners.push(setState)
    return () => {
      const index = listeners.indexOf(setState)
      if (index > -1) {
        listeners.splice(index, 1)
      }
    }
  }, [state])

  return {
    ...state,
    toast,
    dismiss: (toastId?: string) => dispatch({ type: "DISMISS_TOAST", toastId }),
  }
}

export { useToast, toast }

// =============== FIN ARCHIVO [134]: src/hooks/use-toast.ts =============== //

// =============== INICIO ARCHIVO [135]: src/i18n.ts =============== //
// =============== INICIO ARCHIVO: src/i18n.ts =============== //
import { notFound } from 'next/navigation'
import { getRequestConfig } from 'next-intl/server'

// Actualizamos la lista con todos los nuevos idiomas
const locales = ['es', 'en', 'fr', 'de', 'it', 'pt'] as const
export type Locale = (typeof locales)[number]

export default getRequestConfig(async ({ locale }) => {
  // Validamos que el idioma solicitado est√© en nuestra lista
  if (!locales.includes(locale as Locale)) notFound()

  return {
    // Usamos importaci√≥n din√°mica. 
    // Esto permite compilar el proyecto aunque los archivos JSON 
    // de los nuevos idiomas a√∫n no existan f√≠sicamente.
    messages: (await import(`./messages/${locale}.json`)).default
  }
})
// =============== FIN ARCHIVO: src/i18n.ts =============== //

// =============== FIN ARCHIVO [135]: src/i18n.ts =============== //

// =============== INICIO ARCHIVO [136]: src/i18n/request.ts =============== //
import { getRequestConfig } from 'next-intl/server';
import { routing } from './routing';

export default getRequestConfig(async ({ requestLocale }) => {
  // üëá LOG DE DEPURACI√ìN
  console.log("üî• [DEBUG i18n] Cargando configuraci√≥n. Locale solicitado:", await requestLocale);

  let locale = await requestLocale;

  // Validaci√≥n de seguridad usando la config centralizada
  if (!locale || !routing.locales.includes(locale as any)) {
    console.log("‚ö†Ô∏è [DEBUG i18n] Locale inv√°lido. Usando fallback:", routing.defaultLocale);
    locale = routing.defaultLocale;
  }

  return {
    locale,
    messages: (await import(`../messages/${locale}.json`)).default
  };
});

// =============== FIN ARCHIVO [136]: src/i18n/request.ts =============== //

// =============== INICIO ARCHIVO [137]: src/i18n/routing.ts =============== //
// =============== INICIO ARCHIVO: src/i18n/routing.ts =============== //
import { defineRouting } from 'next-intl/routing';
import { createSharedPathnamesNavigation } from 'next-intl/navigation';

export const routing = defineRouting({
  // A√±adimos: fr (Franc√©s), de (Alem√°n), it (Italiano), pt (Portugu√©s)
  locales: ['es', 'en', 'fr', 'de', 'it', 'pt'],
  defaultLocale: 'es',
  localePrefix: 'always'
});

export const { Link, redirect, usePathname, useRouter } = createSharedPathnamesNavigation(routing);

// Exportamos tambi√©n las constantes sueltas para compatibilidad
export const locales = routing.locales;
export const defaultLocale = routing.defaultLocale;
// =============== FIN ARCHIVO: src/i18n/routing.ts =============== //

// =============== FIN ARCHIVO [137]: src/i18n/routing.ts =============== //

// =============== INICIO ARCHIVO [138]: src/lib/cloudinaryAdapter.ts =============== //
// ========== src/lib/cloudinaryAdapter.ts ========== //

import { v2 as cloudinary } from 'cloudinary'
import type { CollectionBeforeChangeHook, CollectionAfterDeleteHook, CollectionAfterReadHook } from 'payload'

cloudinary.config({
  cloud_name: process.env.CLOUDINARY_CLOUD_NAME,
  api_key: process.env.CLOUDINARY_API_KEY,
  api_secret: process.env.CLOUDINARY_API_SECRET,
})

export const uploadToCloudinary: CollectionBeforeChangeHook = async ({ data, req }) => {
  if (req.file) {
    try {
      const file = req.file
      const result = await new Promise<any>((resolve, reject) => {
        const uploadStream = cloudinary.uploader.upload_stream(
          {
            folder: 'ohcodex-media',
            resource_type: 'auto',
          },
          (error, result) => {
            if (error) {
              console.error('Cloudinary Error:', error)
              reject(error)
            } else {
              resolve(result)
            }
          }
        )
        uploadStream.end(file.data)
      })

      data.width = result.width
      data.height = result.height
      data.filesize = result.bytes
      data.mimeType = result.resource_type === 'image' ? `image/${result.format}` : 'application/pdf'
      data.publicId = result.public_id 
      
      // CAMBIO: Usamos 'externalUrl'
      data.externalUrl = result.secure_url

    } catch (error) {
      console.error('Error fatal subiendo a Cloudinary:', error)
      throw new Error('Fallo en la subida de imagen externa.')
    }
  }
  
  return data
}

export const useCloudinaryUrl: CollectionAfterReadHook = ({ doc }) => {
  // CAMBIO: Usamos 'externalUrl'
  if (doc.externalUrl) {
    doc.url = doc.externalUrl
    
    if (doc.sizes) {
      Object.keys(doc.sizes).forEach((key) => {
        if (doc.sizes[key]) {
          doc.sizes[key].url = doc.externalUrl
        }
      })
    }
  }
  return doc
}

export const deleteFromCloudinary: CollectionAfterDeleteHook = async ({ doc }) => {
  try {
    if (doc.publicId) {
      await cloudinary.uploader.destroy(doc.publicId)
      console.log(`Imagen borrada de Cloudinary: ${doc.publicId}`)
    }
  } catch (error) {
    console.error('Error borrando imagen de Cloudinary:', error)
  }
}

// ========== Fin de src/lib/cloudinaryAdapter.ts ========== //

// =============== FIN ARCHIVO [138]: src/lib/cloudinaryAdapter.ts =============== //

// =============== INICIO ARCHIVO [139]: src/lib/engines/crypto-engine.ts =============== //
// =============== INICIO ARCHIVO: src/lib/engines/crypto-engine.ts =============== //
/**
 * Crypto Engine - Zero-Knowledge Encryption using Web Crypto API
 * Client-side only, no server dependencies
 */

export interface EncryptedFileMetadata {
  name: string
  type: string
  size: number
  lastModified: number
}

export interface EncryptedFileStructure {
  salt: Uint8Array
  iv: Uint8Array
  metadata?: EncryptedFileMetadata
  data: Uint8Array
}

export interface EncryptedTextResult {
  salt: string // base64
  iv: string // base64
  data: string // base64 encrypted
}

const ALGORITHM = 'AES-GCM'
const KEY_LENGTH = 256
const SALT_LENGTH = 16
const IV_LENGTH = 12
const PBKDF2_ITERATIONS = 100000

/**
 * Derive a cryptographic key from a password using PBKDF2
 */
async function deriveKey(password: string, salt: Uint8Array): Promise<CryptoKey> {
  const encoder = new TextEncoder()
  const passwordBuffer = encoder.encode(password)

  const keyMaterial = await window.crypto.subtle.importKey(
    'raw',
    passwordBuffer,
    'PBKDF2',
    false,
    ['deriveKey']
  )

  return window.crypto.subtle.deriveKey(
    {
      name: 'PBKDF2',
      // Casting necesario para TS
      salt: salt as any,
      iterations: PBKDF2_ITERATIONS,
      hash: 'SHA-256'
    },
    keyMaterial,
    { name: ALGORITHM, length: KEY_LENGTH },
    false,
    ['encrypt', 'decrypt']
  )
}

/**
 * Encrypt text data
 */
export async function encryptText(
  text: string,
  password: string
): Promise<EncryptedTextResult> {
  try {
    const salt = window.crypto.getRandomValues(new Uint8Array(SALT_LENGTH))
    const iv = window.crypto.getRandomValues(new Uint8Array(IV_LENGTH))
    const key = await deriveKey(password, salt)

    const encoder = new TextEncoder()
    const dataBuffer = encoder.encode(text)

    const encryptedBuffer = await window.crypto.subtle.encrypt(
      { name: ALGORITHM, iv: iv as any },
      key,
      // Casting necesario para dataBuffer
      dataBuffer as any
    )

    return {
      salt: bufferToBase64(salt),
      iv: bufferToBase64(iv),
      data: bufferToBase64(new Uint8Array(encryptedBuffer))
    }
  } catch (error) {
    throw new Error(`Encryption failed: ${error instanceof Error ? error.message : 'Unknown error'}`)
  }
}

/**
 * Decrypt text data
 */
export async function decryptText(
  encryptedData: EncryptedTextResult,
  password: string
): Promise<string> {
  try {
    const salt = base64ToBuffer(encryptedData.salt)
    const iv = base64ToBuffer(encryptedData.iv)
    const data = base64ToBuffer(encryptedData.data)

    const key = await deriveKey(password, salt)

    const decryptedBuffer = await window.crypto.subtle.decrypt(
      { name: ALGORITHM, iv: iv as any },
      key,
      data as any
    )

    const decoder = new TextDecoder()
    return decoder.decode(decryptedBuffer)
  } catch (error) {
    throw new Error('Decryption failed. Incorrect password or corrupted data.')
  }
}

/**
 * Encrypt a file ( ArrayBuffer )
 */
export async function encryptFile(
  file: File,
  password: string,
  includeMetadata: boolean = true
): Promise<Blob> {
  try {
    const salt = window.crypto.getRandomValues(new Uint8Array(SALT_LENGTH))
    const iv = window.crypto.getRandomValues(new Uint8Array(IV_LENGTH))
    const key = await deriveKey(password, salt)

    const arrayBuffer = await file.arrayBuffer()
    const dataBuffer = new Uint8Array(arrayBuffer)

    const encryptedBuffer = await window.crypto.subtle.encrypt(
      { name: ALGORITHM, iv: iv as any },
      key,
      // Casting necesario para dataBuffer
      dataBuffer as any
    )

    // Build the structure: [salt length][salt][iv length][iv][metadata length][metadata][data]
    const structure: EncryptedFileStructure = {
      salt,
      iv,
      metadata: includeMetadata ? {
        name: file.name,
        type: file.type,
        size: file.size,
        lastModified: file.lastModified
      } : undefined,
      data: new Uint8Array(encryptedBuffer)
    }

    const combinedBuffer = serializeFileStructure(structure)
    return new Blob([combinedBuffer as any], { type: 'application/octet-stream' })
  } catch (error) {
    throw new Error(`File encryption failed: ${error instanceof Error ? error.message : 'Unknown error'}`)
  }
}

/**
 * Decrypt a file
 */
export async function decryptFile(
  encryptedBlob: Blob,
  password: string
): Promise<{ file: Blob; metadata?: EncryptedFileMetadata }> {
  try {
    const arrayBuffer = await encryptedBlob.arrayBuffer()
    const structure = deserializeFileStructure(new Uint8Array(arrayBuffer))

    const key = await deriveKey(password, structure.salt)

    const decryptedBuffer = await window.crypto.subtle.decrypt(
      { name: ALGORITHM, iv: structure.iv as any },
      key,
      structure.data as any
    )

    const decryptedBlob = new Blob([decryptedBuffer], {
      type: structure.metadata?.type || 'application/octet-stream'
    })

    return {
      file: decryptedBlob,
      metadata: structure.metadata
    }
  } catch (error) {
    throw new Error('File decryption failed. Incorrect password or corrupted file.')
  }
}

/**
 * Serialize file structure to binary format
 * Format: [salt_len:2][salt][iv_len:2][iv][meta_len:4][metadata:JSON][data]
 */
function serializeFileStructure(structure: EncryptedFileStructure): Uint8Array {
  const metadataBuffer = structure.metadata
    ? new TextEncoder().encode(JSON.stringify(structure.metadata))
    : new Uint8Array(0)

  // Calculate total size
  const totalSize =
    2 + structure.salt.length + // salt length + salt
    2 + structure.iv.length + // iv length + iv
    4 + metadataBuffer.length + // metadata length + metadata
    structure.data.length // data

  const buffer = new Uint8Array(totalSize)
  let offset = 0

  // Salt length and salt
  const view = new DataView(buffer.buffer)
  view.setUint16(offset, structure.salt.length, false)
  offset += 2
  buffer.set(structure.salt, offset)
  offset += structure.salt.length

  // IV length and IV
  view.setUint16(offset, structure.iv.length, false)
  offset += 2
  buffer.set(structure.iv, offset)
  offset += structure.iv.length

  // Metadata length and metadata
  view.setUint32(offset, metadataBuffer.length, false)
  offset += 4
  buffer.set(metadataBuffer, offset)
  offset += metadataBuffer.length

  // Data
  buffer.set(structure.data, offset)

  return buffer
}

/**
 * Deserialize file structure from binary format
 */
function deserializeFileStructure(buffer: Uint8Array): EncryptedFileStructure {
  const view = new DataView(buffer.buffer)
  let offset = 0

  // Read salt
  const saltLength = view.getUint16(offset, false)
  offset += 2
  const salt = buffer.slice(offset, offset + saltLength)
  offset += saltLength

  // Read IV
  const ivLength = view.getUint16(offset, false)
  offset += 2
  const iv = buffer.slice(offset, offset + ivLength)
  offset += ivLength

  // Read metadata
  const metadataLength = view.getUint32(offset, false)
  offset += 4
  let metadata: EncryptedFileMetadata | undefined
  if (metadataLength > 0) {
    const metadataBuffer = buffer.slice(offset, offset + metadataLength)
    const metadataString = new TextDecoder().decode(metadataBuffer)
    metadata = JSON.parse(metadataString)
    offset += metadataLength
  }

  // Read data
  const data = buffer.slice(offset)

  return { salt, iv, metadata, data }
}

// Utility functions for base64 encoding/decoding
function bufferToBase64(buffer: Uint8Array): string {
  const binary = Array.from(buffer, byte => String.fromCharCode(byte)).join('')
  return btoa(binary)
}

function base64ToBuffer(base64: string): Uint8Array {
  const binary = atob(base64)
  const bytes = new Uint8Array(binary.length)
  for (let i = 0; i < binary.length; i++) {
    bytes[i] = binary.charCodeAt(i)
  }
  return bytes
}
// =============== FIN ARCHIVO: src/lib/engines/crypto-engine.ts =============== //

// =============== FIN ARCHIVO [139]: src/lib/engines/crypto-engine.ts =============== //

// =============== INICIO ARCHIVO [140]: src/lib/engines/data-engine.ts =============== //
// =============== INICIO ARCHIVO: src/lib/engines/data-engine.ts =============== //
/**
 * Data Engine - Data formatting, validation, and conversion
 * Client-side only, no server dependencies
 */

export interface JSONParseResult {
  valid: boolean
  data?: any
  error?: string
  errorLine?: number
}

export interface ConversionResult {
  success: boolean
  data?: string
  error?: string
}

/**
 * Format JSON (prettify)
 */
export function formatJSON(json: string, indent: number = 2): string {
  try {
    const parsed = JSON.parse(json)
    return JSON.stringify(parsed, null, indent)
  } catch (error) {
    throw error
  }
}

/**
 * Minify JSON
 */
export function minifyJSON(json: string): string {
  try {
    const parsed = JSON.parse(json)
    return JSON.stringify(parsed)
  } catch (error) {
    throw error
  }
}

/**
 * Validate JSON with detailed error info
 */
export function validateJSON(json: string): JSONParseResult {
  try {
    const data = JSON.parse(json)
    return { valid: true, data }
  } catch (error) {
    const errorMessage = error instanceof Error ? error.message : 'Invalid JSON'
    const lineMatch = errorMessage.match(/position (\d+)/)
    const errorLine = lineMatch ? parseInt(lineMatch[1], 10) : undefined

    return {
      valid: false,
      error: errorMessage,
      errorLine
    }
  }
}

/**
 * Try to fix common JSON errors
 */
export function fixCommonJSONErrors(json: string): string {
  let fixed = json

  // Fix single quotes
  fixed = fixed.replace(/'/g, '"')

  // Fix trailing commas (simple cases)
  fixed = fixed.replace(/,(\s*[}\]])/g, '$1')

  // Fix unquoted keys (basic)
  fixed = fixed.replace(/(\w+):/g, '"$1":')

  return fixed
}

/**
 * Convert JSON to CSV
 */
export function jsonToCSV(json: string, delimiter: string = ','): ConversionResult {
  try {
    const data = JSON.parse(json)
    const items = Array.isArray(data) ? data : [data]

    if (items.length === 0) {
      return { success: true, data: '' }
    }

    // Get all unique keys
    const keys = Array.from(new Set(
      items.flatMap((item: any) => Object.keys(item))
    ))

    // Create CSV header
    const header = keys.join(delimiter)

    // Create CSV rows
    const rows = items.map((item: any) =>
      keys.map(key => {
        const value = item[key]
        if (value === null || value === undefined) return ''
        if (typeof value === 'object') return JSON.stringify(value)
        return String(value).replace(/"/g, '""')
      }).join(delimiter)
    )

    // Combine with proper quoting
    const csv = [header, ...rows]
      .map(row => {
        const columns = row.split(delimiter)
        return columns.map(col => {
          if (col.includes('"') || col.includes(delimiter) || col.includes('\n')) {
            return `"${col}"`
          }
          return col
        }).join(delimiter)
      }).join('\n')

    return { success: true, data: csv }
  } catch (error) {
    return {
      success: false,
      error: error instanceof Error ? error.message : 'Conversion failed'
    }
  }
}

/**
 * Convert CSV to JSON
 */
export function csvToJSON(csv: string, delimiter: string = ','): ConversionResult {
  try {
    const lines = csv.trim().split('\n')

    if (lines.length < 2) {
      return { success: false, error: 'CSV must have at least a header and one row' }
    }

    // Parse header
    const headers = parseCSVLine(lines[0], delimiter)

    // Parse rows
    const data = lines.slice(1).map(line => {
      const values = parseCSVLine(line, delimiter)
      const row: Record<string, any> = {}

      headers.forEach((header, index) => {
        const value = values[index] || ''

        // Try to parse as number or boolean
        if (value === 'true') {
          row[header] = true
        } else if (value === 'false') {
          row[header] = false
        } else if (!isNaN(Number(value)) && value !== '') {
          row[header] = Number(value)
        } else {
          row[header] = value
        }
      })

      return row
    })

    return { success: true, data: JSON.stringify(data, null, 2) }
  } catch (error) {
    return {
      success: false,
      error: error instanceof Error ? error.message : 'Conversion failed'
    }
  }
}

/**
 * Parse a single CSV line, handling quoted values
 */
function parseCSVLine(line: string, delimiter: string): string[] {
  const result: string[] = []
  let current = ''
  let inQuotes = false

  for (let i = 0; i < line.length; i++) {
    const char = line[i]

    if (char === '"') {
      if (inQuotes && line[i + 1] === '"') {
        // Escaped quote
        current += '"'
        i++
      } else {
        // Toggle quote mode
        inQuotes = !inQuotes
      }
    } else if (char === delimiter && !inQuotes) {
      // End of field
      result.push(current.trim())
      current = ''
    } else {
      current += char
    }
  }

  result.push(current.trim())
  return result
}

/**
 * Convert JSON to YAML (simple implementation)
 */
export function jsonToYAML(json: string, indent: number = 2): ConversionResult {
  try {
    const data = JSON.parse(json)
    return { success: true, data: objectToYAML(data, '', indent) }
  } catch (error) {
    return {
      success: false,
      error: error instanceof Error ? error.message : 'Conversion failed'
    }
  }
}

/**
 * Convert YAML-like object to YAML string (simple)
 */
function objectToYAML(obj: any, prefix: string, indent: number): string {
  const spaces = ' '.repeat(indent)

  if (typeof obj !== 'object' || obj === null) {
    return prefix + String(obj)
  }

  if (Array.isArray(obj)) {
    if (obj.length === 0) return prefix + '[]'
    return obj.map(item => {
      if (typeof item === 'object' && item !== null) {
        return `${prefix}-\n${objectToYAML(item, prefix + spaces, indent)}`
      }
      return `${prefix}- ${String(item)}`
    }).join('\n')
  }

  const lines: string[] = []
  for (const [key, value] of Object.entries(obj)) {
    if (typeof value === 'object' && value !== null) {
      lines.push(`${prefix}${key}:`)
      lines.push(objectToYAML(value, prefix + spaces, indent))
    } else if (typeof value === 'string') {
      lines.push(`${prefix}${key}: "${value}"`)
    } else {
      lines.push(`${prefix}${key}: ${String(value)}`)
    }
  }

  return lines.join('\n')
}

/**
 * Simple SQL formatter (beautifier)
 */
export function formatSQL(sql: string, dialect: 'standard' | 'mysql' | 'postgresql' = 'standard'): string {
  // Normalize SQL
  let formatted = sql.trim()
    .replace(/\s+/g, ' ')
    .replace(/\s*([(),;])\s*/g, '$1 ')

  // Add line breaks before keywords
  const keywords = [
    'SELECT', 'FROM', 'WHERE', 'AND', 'OR', 'JOIN', 'LEFT JOIN', 'RIGHT JOIN',
    'INNER JOIN', 'OUTER JOIN', 'ON', 'GROUP BY', 'ORDER BY', 'HAVING',
    'UNION', 'UNION ALL', 'INSERT', 'INTO', 'VALUES', 'UPDATE', 'SET', 'DELETE',
    'CREATE', 'TABLE', 'INDEX', 'DROP', 'ALTER', 'AS', 'DISTINCT', 'LIMIT', 'OFFSET'
  ]

  keywords.forEach(keyword => {
    const regex = new RegExp(`\\b${keyword}\\b`, 'gi')
    formatted = formatted.replace(regex, '\n' + keyword)
  })

  // Clean up extra whitespace
  formatted = formatted
    .replace(/^\n+/gm, '')
    .replace(/\n\s*\n/g, '\n')

  // Add proper indentation
  const lines = formatted.split('\n')
  let indentLevel = 0
  const indented = lines.map(line => {
    const trimmed = line.trim().toUpperCase()
    if (trimmed.startsWith(')') || trimmed.startsWith('END')) {
      indentLevel = Math.max(0, indentLevel - 1)
    }

    const indentedLine = '  '.repeat(indentLevel) + line.trim()

    if (trimmed.startsWith('SELECT') || trimmed.startsWith('FROM') ||
        trimmed.startsWith('WHERE') || trimmed.startsWith('GROUP BY') ||
        trimmed.startsWith('ORDER BY') || trimmed.startsWith('HAVING') ||
        trimmed.startsWith('UNION') || trimmed.startsWith('INSERT') ||
        trimmed.startsWith('VALUES') || trimmed.startsWith('UPDATE') ||
        trimmed.startsWith('SET') || trimmed.startsWith('CREATE') ||
        trimmed.startsWith('DROP') || trimmed.startsWith('ALTER')) {
      // Keep current indent
    } else if (trimmed.startsWith(')')) {
      // Handled before
    } else if (trimmed.startsWith('(')) {
      indentLevel++
    }

    return indentedLine
  })

  return indented.join('\n').trim()
}

/**
 * Diff two text strings (simple line-by-line)
 */
export function diffText(original: string, modified: string): Array<{
  line: string
  type: 'same' | 'added' | 'removed'
}> {
  const originalLines = original.split('\n')
  const modifiedLines = modified.split('\n')
  const result: Array<{ line: string; type: 'same' | 'added' | 'removed' }> = []

  let i = 0, j = 0
  while (i < originalLines.length || j < modifiedLines.length) {
    if (i < originalLines.length && j < modifiedLines.length && originalLines[i] === modifiedLines[j]) {
      result.push({ line: originalLines[i], type: 'same' })
      i++
      j++
    } else if (i < originalLines.length && (j >= modifiedLines.length || !modifiedLines.includes(originalLines[i]))) {
      result.push({ line: originalLines[i], type: 'removed' })
      i++
    } else if (j < modifiedLines.length) {
      result.push({ line: modifiedLines[j], type: 'added' })
      j++
    }
  }

  return result
}

/**
 * Format data size
 */
export function formatDataSize(bytes: number): string {
  const units = ['B', 'KB', 'MB', 'GB']
  let size = bytes
  let unitIndex = 0

  while (size >= 1024 && unitIndex < units.length - 1) {
    size /= 1024
    unitIndex++
  }

  return `${size.toFixed(2)} ${units[unitIndex]}`
}
// =============== FIN ARCHIVO: src/lib/engines/data-engine.ts =============== //

// =============== FIN ARCHIVO [140]: src/lib/engines/data-engine.ts =============== //

// =============== INICIO ARCHIVO [141]: src/lib/engines/image-engine.ts =============== //
/**
 * Image Engine - Image processing and optimization using Canvas API
 * Client-side only, no server dependencies
 */

// ELIMINAMOS LA IMPORTACI√ìN EST√ÅTICA
// import heic2any from 'heic2any' 

export interface ImageProcessingOptions {
  maxWidth?: number
  maxHeight?: number
  quality?: number // 0 to 1
  format?: 'image/jpeg' | 'image/png' | 'image/webp'
  watermark?: {
    image?: File | string
    text?: string
    opacity?: number
    position?: 'top-left' | 'top-right' | 'bottom-left' | 'bottom-right' | 'center'
    scale?: number // 0 to 1, relative to image size
  }
  stripExif?: boolean // Default true for privacy
}

export interface ProcessedImage {
  blob: Blob
  originalSize: number
  processedSize: number
  width: number
  height: number
}

/**
 * Process a single image according to options
 */
export async function processImage(
  file: File,
  options: ImageProcessingOptions = {}
): Promise<ProcessedImage> {
  const {
    maxWidth = Infinity,
    maxHeight = Infinity,
    quality = 0.8,
    format = 'image/webp',
    watermark,
    stripExif = true
  } = options

  // --- BLOQUE HEIC (NUEVO) ---
  // Si es un archivo de iPhone, lo convertimos a JPEG en memoria primero
  let sourceFile = file
  const lowerName = file.name.toLowerCase()
  
  if (lowerName.endsWith('.heic') || lowerName.endsWith('.heif')) {
    try {
      // IMPORTACI√ìN DIN√ÅMICA AQU√ç (Solo en cliente)
      const heic2any = (await import('heic2any')).default
      
      const convertedBlob = await heic2any({
        blob: file,
        toType: 'image/jpeg',
        quality: 0.9
      })
      // heic2any puede devolver un array, nos aseguramos de tomar el primero
      const blob = Array.isArray(convertedBlob) ? convertedBlob[0] : convertedBlob
      sourceFile = new File([blob], file.name.replace(/\.heic$/i, '.jpg').replace(/\.heif$/i, '.jpg'), { type: 'image/jpeg' })
    } catch (e) {
      console.error("Error convirtiendo HEIC:", e)
      throw new Error("No se pudo procesar el archivo HEIC. Aseg√∫rate de que es v√°lido.")
    }
  }
  // ---------------------------

  return new Promise((resolve, reject) => {
    const img = new Image()
    img.onload = () => {
      try {
        const canvas = document.createElement('canvas')
        const ctx = canvas.getContext('2d')

        if (!ctx) {
          throw new Error('Failed to get canvas context')
        }

        // Calculate new dimensions
        let { width, height } = img

        if (width > maxWidth || height > maxHeight) {
          const aspectRatio = width / height

          if (width > maxWidth) {
            width = maxWidth
            height = width / aspectRatio
          }

          if (height > maxHeight) {
            height = maxHeight
            width = height * aspectRatio
          }

          width = Math.round(width)
          height = Math.round(height)
        }

        canvas.width = width
        canvas.height = height

        // Draw image (this strips EXIF metadata automatically)
        ctx.drawImage(img, 0, 0, width, height)

        // Apply watermark if specified
        if (watermark) {
          applyWatermark(ctx, watermark, width, height)
        }

        // Convert to blob
        canvas.toBlob(
          (blob) => {
            if (blob) {
              resolve({
                blob,
                originalSize: file.size, // Mantenemos el tama√±o original del archivo subido (sea HEIC o JPG)
                processedSize: blob.size,
                width,
                height
              })
            } else {
              reject(new Error('Failed to process image'))
            }
          },
          format,
          quality
        )
      } catch (error) {
        reject(error)
      }
    }

    img.onerror = () => reject(new Error('Failed to load image'))
    // Usamos el sourceFile (que puede ser el original o el convertido desde HEIC)
    img.src = URL.createObjectURL(sourceFile)
  })
}

/**
 * Process multiple images in batch
 */
export async function processBatch(
  files: File[],
  options: ImageProcessingOptions = {},
  onProgress?: (index: number, total: number, result: ProcessedImage) => void
): Promise<ProcessedImage[]> {
  const results: ProcessedImage[] = []

  for (let i = 0; i < files.length; i++) {
    try {
      const result = await processImage(files[i], options)
      results.push(result)

      if (onProgress) {
        onProgress(i + 1, files.length, result)
      }
    } catch (error) {
      console.error(`Failed to process image ${i + 1}:`, error)
      throw error
    }
  }

  return results
}

/**
 * Apply watermark to canvas
 */
function applyWatermark(
  ctx: CanvasRenderingContext2D,
  watermark: NonNullable<ImageProcessingOptions['watermark']>,
  canvasWidth: number,
  canvasHeight: number
): void {
  const {
    image,
    text,
    opacity = 0.5,
    position = 'bottom-right',
    scale = 0.15
  } = watermark

  ctx.save()
  ctx.globalAlpha = opacity

  if (image && typeof image === 'string') {
    // Image watermark (URL string)
    const watermarkImg = new Image()
    watermarkImg.onload = () => {
      const wmWidth = canvasWidth * scale
      const wmHeight = (watermarkImg.height / watermarkImg.width) * wmWidth

      const { x, y } = getPosition(
        position,
        wmWidth,
        wmHeight,
        canvasWidth,
        canvasHeight
      )

      ctx.drawImage(watermarkImg, x, y, wmWidth, wmHeight)
      ctx.restore()
    }
    watermarkImg.src = image
  } else if (text) {
    // Text watermark
    const fontSize = Math.max(canvasWidth * 0.05, 24)
    ctx.font = `bold ${fontSize}px sans-serif`
    ctx.fillStyle = 'rgba(255, 255, 255, 1)'

    const metrics = ctx.measureText(text)
    const textWidth = metrics.width
    const textHeight = fontSize

    const { x, y } = getPosition(
      position,
      textWidth,
      textHeight,
      canvasWidth,
      canvasHeight,
      true
    )

    ctx.fillText(text, x, y)
    ctx.restore()
  }
}

/**
 * Get watermark position
 */
function getPosition(
  position: string,
  width: number,
  height: number,
  canvasWidth: number,
  canvasHeight: number,
  isText = false
): { x: number; y: number } {
  const padding = 20

  switch (position) {
    case 'top-left':
      return {
        x: padding,
        y: padding + (isText ? height : 0)
      }
    case 'top-right':
      return {
        x: canvasWidth - width - padding,
        y: padding + (isText ? height : 0)
      }
    case 'bottom-left':
      return {
        x: padding,
        y: canvasHeight - height - padding + (isText ? height : 0)
      }
    case 'bottom-right':
      return {
        x: canvasWidth - width - padding,
        y: canvasHeight - height - padding + (isText ? height : 0)
      }
    case 'center':
      return {
        x: (canvasWidth - width) / 2,
        y: (canvasHeight - height) / 2 + (isText ? height : 0)
      }
    default:
      return {
        x: canvasWidth - width - padding,
        y: canvasHeight - height - padding + (isText ? height : 0)
      }
  }
}

/**
 * Get image dimensions without loading the full image
 */
export async function getImageDimensions(file: File): Promise<{ width: number; height: number }> {
  return new Promise((resolve, reject) => {
    const img = new Image()
    img.onload = () => {
      resolve({ width: img.width, height: img.height })
      URL.revokeObjectURL(img.src)
    }
    img.onerror = () => reject(new Error('Failed to load image'))
    img.src = URL.createObjectURL(file)
  })
}

/**
 * Create a thumbnail preview
 */
export async function createThumbnail(
  file: File,
  maxSize: number = 200
): Promise<string> {
  return new Promise((resolve, reject) => {
    const img = new Image()
    img.onload = () => {
      const canvas = document.createElement('canvas')
      const ctx = canvas.getContext('2d')

      if (!ctx) {
        reject(new Error('Failed to get canvas context'))
        return
      }

      let { width, height } = img

      if (width > height) {
        if (width > maxSize) {
          height = (height / width) * maxSize
          width = maxSize
        }
      } else {
        if (height > maxSize) {
          width = (width / height) * maxSize
          height = maxSize
        }
      }

      canvas.width = width
      canvas.height = height

      ctx.drawImage(img, 0, 0, width, height)

      resolve(canvas.toDataURL('image/jpeg', 0.7))
      URL.revokeObjectURL(img.src)
    }
    img.onerror = () => reject(new Error('Failed to load image'))
    img.src = URL.createObjectURL(file)
  })
}

/**
 * Format file size
 */
export function formatFileSize(bytes: number): string {
  if (bytes === 0) return '0 Bytes'

  const k = 1024
  const sizes = ['Bytes', 'KB', 'MB', 'GB']
  const i = Math.floor(Math.log(bytes) / Math.log(k))

  return Math.round((bytes / Math.pow(k, i)) * 100) / 100 + ' ' + sizes[i]
}

/**
 * Calculate size reduction percentage
 */
export function calculateReduction(original: number, compressed: number): number {
  if (original === 0) return 0
  return Math.round(((original - compressed) / original) * 100)
}

// =============== FIN ARCHIVO [141]: src/lib/engines/image-engine.ts =============== //

// =============== INICIO ARCHIVO [142]: src/lib/engines/ocr-engine.ts =============== //
import { createWorker } from 'tesseract.js'

// Idiomas soportados (puedes a√±adir m√°s buscando sus c√≥digos ISO 639-2)
export type OCRLanguage = 'eng' | 'spa' | 'fra' | 'deu' | 'ita' | 'por'

export interface OCRResult {
  text: string
  confidence: number
}

// Variables globales para mantener el worker activo en memoria (Singleton)
let worker: any = null
let currentLang: OCRLanguage | null = null

/**
 * Funci√≥n principal para reconocer texto
 * @param image - Archivo File, Blob o URL string
 * @param lang - Idioma del texto a reconocer
 * @param onProgress - Callback para la barra de progreso (0-100)
 */
export const recognizeText = async (
  image: File | string | Blob, 
  lang: OCRLanguage = 'eng',
  onProgress?: (progress: number) => void
): Promise<OCRResult> => {
  
  // 1. Inicializaci√≥n o Cambio de Idioma
  // Si no hay worker o el idioma ha cambiado, recreamos el worker
  if (!worker || currentLang !== lang) {
    // Si ya exist√≠a uno en otro idioma, lo matamos para liberar memoria
    if (worker) {
      await worker.terminate()
    }
    
    // Creamos el nuevo worker con el idioma seleccionado
    worker = await createWorker(lang, 1, {
      logger: (m: any) => {
        // Filtramos solo el estado de reconocimiento para la barra de progreso
        if (m.status === 'recognizing text' && onProgress) {
          onProgress(m.progress * 100)
        }
      },
      // Cacheamos los datos entrenados en el navegador para que la pr√≥xima vez sea instant√°neo
      cacheMethod: 'write',
      cachePath: '.', 
    })
    
    currentLang = lang
  }

  // 2. Reconocimiento
  const { data } = await worker.recognize(image)
  
  return {
    text: data.text,
    confidence: data.confidence
  }
}

/**
 * Limpieza de memoria
 * √ötil para desmontar el componente si el usuario sale de la p√°gina
 */
export const terminateOCR = async () => {
  if (worker) {
    await worker.terminate()
    worker = null
    currentLang = null
  }
}

// =============== FIN ARCHIVO [142]: src/lib/engines/ocr-engine.ts =============== //

// =============== INICIO ARCHIVO [143]: src/lib/engines/pdf-engine.ts =============== //
// =============== INICIO ARCHIVO: src/lib/engines/pdf-engine.ts =============== //
/**
 * PDF Engine - PDF manipulation using pdf-lib
 * Client-side only, no server dependencies for basic operations
 */

import { PDFDocument, degrees, rgb } from 'pdf-lib'

export interface PDFPageInfo {
  pageIndex: number
  width: number
  height: number
  rotation: number
}

export interface PDFManipulationOptions {
  password?: string
}

/**
 * Load PDF from ArrayBuffer
 */
export async function loadPDF(
  arrayBuffer: ArrayBuffer,
  options: PDFManipulationOptions = {}
): Promise<PDFDocument> {
  try {
    if (options.password) {
      return await PDFDocument.load(arrayBuffer, {
        ignoreEncryption: true // Note: pdf-lib has limited password support
      })
    }
    return await PDFDocument.load(arrayBuffer)
  } catch (error) {
    throw new Error(`Failed to load PDF: ${error instanceof Error ? error.message : 'Unknown error'}`)
  }
}

/**
 * Get PDF info (number of pages, page sizes)
 */
export async function getPDFInfo(
  pdfDoc: PDFDocument
): Promise<{ pageCount: number; pages: PDFPageInfo[] }> {
  const pageCount = pdfDoc.getPageCount()
  const pages: PDFPageInfo[] = []

  for (let i = 0; i < pageCount; i++) {
    const page = pdfDoc.getPage(i)
    pages.push({
      pageIndex: i,
      width: page.getWidth(),
      height: page.getHeight(),
      rotation: page.getRotation().angle
    })
  }

  return { pageCount, pages }
}

/**
 * Extract pages (create new PDF with selected pages)
 */
export async function extractPages(
  pdfDoc: PDFDocument,
  pageIndices: number[]
): Promise<PDFDocument> {
  const newPdf = await PDFDocument.create()
  const copiedPages = await newPdf.copyPages(pdfDoc, pageIndices)

  copiedPages.forEach(page => {
    newPdf.addPage(page)
  })

  return newPdf
}

/**
 * Delete pages from PDF
 */
export async function deletePages(
  pdfDoc: PDFDocument,
  pageIndices: number[]
): Promise<PDFDocument> {
  const newPdf = await PDFDocument.create()

  const allIndices = Array.from({ length: pdfDoc.getPageCount() }, (_, i) => i)
  const indicesToKeep = allIndices.filter(i => !pageIndices.includes(i))

  const copiedPages = await newPdf.copyPages(pdfDoc, indicesToKeep)
  copiedPages.forEach(page => {
    newPdf.addPage(page)
  })

  return newPdf
}

/**
 * Rotate pages
 */
export async function rotatePages(
  pdfDoc: PDFDocument,
  rotations: Array<{ pageIndex: number; angle: number }>
): Promise<void> {
  rotations.forEach(({ pageIndex, angle }) => {
    const page = pdfDoc.getPage(pageIndex)
    const currentRotation = page.getRotation().angle
    page.setRotation(degrees(currentRotation + angle))
  })
}

/**
 * Merge multiple PDFs into one
 */
export async function mergePDFs(
  pdfs: Array<{ name: string; doc: PDFDocument }>,
  insertBlank: boolean = false
): Promise<PDFDocument> {
  const mergedPdf = await PDFDocument.create()

  for (let i = 0; i < pdfs.length; i++) {
    const { doc } = pdfs[i]
    const copiedPages = await mergedPdf.copyPages(
      doc,
      doc.getPageIndices()
    )

    copiedPages.forEach(page => {
      mergedPdf.addPage(page)
    })

    // Insert blank page between PDFs if requested
    if (insertBlank && i < pdfs.length - 1) {
      const blankPage = mergedPdf.addPage([600, 800])
      blankPage.setRotation(degrees(0))
    }
  }

  return mergedPdf
}

/**
 * Reorder pages
 */
export async function reorderPages(
  pdfDoc: PDFDocument,
  newOrder: number[]
): Promise<PDFDocument> {
  const newPdf = await PDFDocument.create()
  const copiedPages = await newPdf.copyPages(pdfDoc, newOrder)

  copiedPages.forEach(page => {
    newPdf.addPage(page)
  })

  return newPdf
}

/**
 * Add text annotation to page
 */
export async function addTextAnnotation(
  pdfDoc: PDFDocument,
  pageIndex: number,
  text: string,
  x: number,
  y: number,
  size: number = 12,
  color: { r: number; g: number; b: number } = { r: 0, g: 0, b: 0 }
): Promise<void> {
  const page = pdfDoc.getPage(pageIndex)
  const { height } = page.getSize()

  page.drawText(text, {
    x,
    y: height - y, // PDF coordinates start from bottom-left
    size,
    color: rgb(color.r, color.g, color.b)
  })
}

/**
 * Add image to page
 */
export async function addImageToPage(
  pdfDoc: PDFDocument,
  pageIndex: number,
  imageBuffer: ArrayBuffer,
  x: number,
  y: number,
  width: number,
  height: number,
  maintainAspectRatio: boolean = true
): Promise<void> {
  const page = pdfDoc.getPage(pageIndex)
  let image

  // Try to detect image type and embed
  try {
    image = await pdfDoc.embedPng(imageBuffer)
  } catch {
    try {
      image = await pdfDoc.embedJpg(imageBuffer)
    } catch (error) {
      throw new Error('Unsupported image format. Use PNG or JPEG.')
    }
  }

  let drawWidth = width
  let drawHeight = height

  if (maintainAspectRatio && image) {
    const aspectRatio = image.width / image.height
    if (drawWidth / drawHeight > aspectRatio) {
      drawWidth = drawHeight * aspectRatio
    } else {
      drawHeight = drawWidth / aspectRatio
    }
  }

  page.drawImage(image!, {
    x,
    y: page.getHeight() - y - drawHeight,
    width: drawWidth,
    height: drawHeight
  })
}

/**
 * Save PDF to Blob
 */
export async function savePDFToBlob(pdfDoc: PDFDocument): Promise<Blob> {
  const pdfBytes = await pdfDoc.save()
  // FIX: Casting 'as any' para resolver el conflicto de tipos Uint8Array vs BlobPart en TS estricto
  return new Blob([pdfBytes as any], { type: 'application/pdf' })
}

/**
 * Save PDF to Base64
 */
export async function savePDFToBase64(pdfDoc: PDFDocument): Promise<string> {
  const pdfBytes = await pdfDoc.save()
  const binary = Array.from(pdfBytes, byte => String.fromCharCode(byte)).join('')
  return btoa(binary)
}

/**
 * Get PDF page as image (placeholder)
 */
export async function getPageThumbnail(
  pdfDoc: PDFDocument,
  pageIndex: number,
  scale: number = 1
): Promise<string> {
  // Placeholder: Rendering PDF to image client-side usually requires pdf.js
  // which is heavy. For simple tools, we might skip previews or use a lighter approach later.
  return ''
}

/**
 * Optimize PDF (basic placeholder)
 */
export async function optimizePDF(
  pdfDoc: PDFDocument
): Promise<PDFDocument> {
  // pdf-lib mostly optimizes on save automatically
  return pdfDoc
}

/**
 * Check if PDF is encrypted
 */
export function isPDFEncrypted(arrayBuffer: ArrayBuffer): boolean {
  try {
    const header = String.fromCharCode(
      ...new Uint8Array(arrayBuffer.slice(0, 5))
    )
    return header === '%PDF-'
  } catch {
    return false
  }
}
// =============== FIN ARCHIVO: src/lib/engines/pdf-engine.ts =============== //

// =============== FIN ARCHIVO [143]: src/lib/engines/pdf-engine.ts =============== //

// =============== INICIO ARCHIVO [144]: src/lib/engines/qr-engine.ts =============== //
// =============== INICIO ARCHIVO: src/lib/engines/qr-engine.ts =============== //
/**
 * QR/Barcode Utility Functions
 * These functions format data for QR codes and barcodes
 */

export interface WiFiCredentials {
  ssid: string
  password: string
  security: 'WPA' | 'WEP' | 'nopass'
  hidden?: boolean
}

export interface VCardData {
  firstName: string
  lastName: string
  phone?: string
  email?: string
  organization?: string
  url?: string
  address?: {
    street?: string
    city?: string
    state?: string
    zip?: string
    country?: string
  }
}

/**
 * Format WiFi credentials for QR code
 */
export function formatWiFiQR(credentials: WiFiCredentials): string {
  const parts = ['WIFI', `T:${credentials.security}`, `S:${credentials.ssid}`]

  if (credentials.security !== 'nopass' && credentials.password) {
    parts.push(`P:${credentials.password}`)
  }

  if (credentials.hidden) {
    parts.push('H:true')
  }

  return parts.join(';') + ';;'
}

/**
 * Format VCard for QR code (v3.0 standard)
 */
export function formatVCardQR(card: VCardData): string {
  const lines = ['BEGIN:VCARD', 'VERSION:3.0']

  // Name
  lines.push(`N:${card.lastName};${card.firstName};;;`)
  lines.push(`FN:${card.firstName} ${card.lastName}`)

  // Organization
  if (card.organization) {
    lines.push(`ORG:${card.organization}`)
  }

  // Phone
  if (card.phone) {
    lines.push(`TEL:${card.phone}`)
  }

  // Email
  if (card.email) {
    lines.push(`EMAIL:${card.email}`)
  }

  // URL
  if (card.url) {
    lines.push(`URL:${card.url}`)
  }

  // Address
  if (card.address) {
    const { street, city, state, zip, country } = card.address
    const addressParts = [street, city, state, zip, country].filter(Boolean)
    if (addressParts.length > 0) {
      lines.push(`ADR:;;${addressParts.join(';')};;;;`)
    }
  }

  lines.push('END:VCARD')

  return lines.join('\n')
}

/**
 * Format WhatsApp message for QR code
 */
export function formatWhatsAppQR(phone: string, message?: string): string {
  const cleanedPhone = phone.replace(/\D/g, '')
  const url = `https://wa.me/${cleanedPhone}${message ? `?text=${encodeURIComponent(message)}` : ''}`
  return url
}

/**
 * Validate EAN-13 barcode
 */
export function validateEAN13(code: string): boolean {
  if (!/^\d{13}$/.test(code)) {
    return false
  }

  let sum = 0
  for (let i = 0; i < 12; i++) {
    const digit = parseInt(code[i], 10)
    sum += i % 2 === 0 ? digit : digit * 3
  }

  const checksum = (10 - (sum % 10)) % 10
  return checksum === parseInt(code[12], 10)
}

/**
 * Calculate EAN-13 checksum
 */
export function calculateEAN13Checksum(first12: string): string {
  if (!/^\d{12}$/.test(first12)) {
    throw new Error('Invalid EAN-13 input')
  }

  let sum = 0
  for (let i = 0; i < 12; i++) {
    const digit = parseInt(first12[i], 10)
    sum += i % 2 === 0 ? digit : digit * 3
  }

  return String((10 - (sum % 10)) % 10)
}

/**
 * Validate UPC-A barcode (12 digits)
 */
export function validateUPCA(code: string): boolean {
  if (!/^\d{12}$/.test(code)) {
    return false
  }

  let sum = 0
  for (let i = 0; i < 11; i++) {
    const digit = parseInt(code[i], 10)
    sum += i % 2 === 0 ? digit * 3 : digit
  }

  const checksum = (10 - (sum % 10)) % 10
  return checksum === parseInt(code[11], 10)
}

/**
 * Validate Code128 barcode
 */
export function validateCode128(code: string): boolean {
  // Code128 can contain ASCII characters 32-126
  return /^[ -~]+$/.test(code)
}

/**
 * Determine barcode format from input
 */
export function detectBarcodeFormat(code: string): 'EAN-13' | 'UPC' | 'CODE128' | null {
  if (/^\d{13}$/.test(code)) {
    return 'EAN-13'
  }
  if (/^\d{12}$/.test(code)) {
    return 'UPC'
  }
  if (/^[ -~]+$/.test(code)) {
    return 'CODE128'
  }
  return null
}
// =============== FIN ARCHIVO: src/lib/engines/qr-engine.ts =============== //

// =============== FIN ARCHIVO [144]: src/lib/engines/qr-engine.ts =============== //

// =============== INICIO ARCHIVO [145]: src/lib/utils.ts =============== //
import { clsx, type ClassValue } from "clsx"
import { twMerge } from "tailwind-merge"

export function cn(...inputs: ClassValue[]) {
  return twMerge(clsx(inputs))
}

// =============== FIN ARCHIVO [145]: src/lib/utils.ts =============== //

// =============== INICIO ARCHIVO [146]: src/messages/de.json =============== //
{
  "common": {
    "tools": "Werkzeuge",
    "home": "Startseite",
    "visitStudio": "Studio besuchen",
    "blog": "Blog",
    "aboutUs": "√úber uns",
    "contact": "Kontakt",
    "products": "Produkte",
    "methodology": "Methodik",
    "madeWith": "Gemacht mit ‚ù§Ô∏è vom OHCodex Engineering Team",
    "copyright": "Alle Rechte vorbehalten",
    "legal": {
      "legalNotice": "Impressum",
      "privacy": "Datenschutz",
      "terms": "AGB"
    },
    "buttons": {
      "copy": "Kopieren",
      "download": "Herunterladen",
      "process": "Verarbeiten",
      "clear": "L√∂schen",
      "readArticle": "Artikel lesen",
      "backToHome": "Zur√ºck zur Startseite"
    }
  },
  "hero": {
    "badge": "Neu: Werkzeug-Bereich verf√ºgbar",
    "title": "Software-Architektur & Entwicklung",
    "subtitle": "Engineering f√ºr die Zukunft digitaler √ñkosysteme.",
    "ctaProject": "Projekt starten",
    "ctaPortfolio": "Portfolio ansehen"
  },
  "home": {
    "hero": {
      "badge": "Neu: Werkzeug-Bereich verf√ºgbar",
      "title": "Software-Architektur & Entwicklung",
      "subtitle": "Engineering f√ºr die Zukunft digitaler √ñkosysteme.",
      "ctaProject": "Projekt starten",
      "ctaPortfolio": "Portfolio ansehen"
    },
    "ourTools": {
      "title": "Engineering Suite",
      "subtitle": "Leistungsstarke, private und browserbasierte Tools f√ºr moderne Entwickler.",
      "useTool": "Tool nutzen"
    }
  },
  "contactSection": {
    "title": "Starten Sie Ihre digitale Transformation",
    "subtitle": "Bereit zur Skalierung? Erz√§hlen Sie uns von Ihrer technischen Herausforderung. Wir analysieren Ihren Fall und entwerfen die Softwarearchitektur, die Ihr Unternehmen ben√∂tigt, um grenzenlos zu wachsen.",
    "directContact": "Direkter Kontakt",
    "response": "Antwort in < 24h (Werktage)",
    "operations": "Betrieb",
    "location": "Spanien (Remote First)",
    "global": "Globaler Service",
    "form": {
      "name": "Name",
      "namePlaceholder": "Ihr vollst√§ndiger Name",
      "email": "Firmen-E-Mail",
      "emailPlaceholder": "name@firma.com",
      "type": "Projekttyp",
      "types": {
        "pwa": "PWA Entwicklung / Web App",
        "saas": "SaaS-Plattform",
        "api": "Systemintegration / API",
        "other": "Beratung / Sonstiges"
      },
      "details": "Projektdetails",
      "detailsPlaceholder": "Beschreiben Sie kurz Ihre Ziele, gesch√§tzten Zeitrahmen oder aktuelle Technologie...",
      "privacy": "Ich habe die Datenschutzerkl√§rung gelesen und akzeptiere sie. Ich verstehe, dass meine Daten zur Bearbeitung dieser Anfrage verarbeitet werden.",
      "submit": "Anfrage senden",
      "processing": "Verarbeitung...",
      "sentTitle": "Anfrage gesendet!",
      "sentDesc": "Wir haben Ihre Daten korrekt erhalten. Unser Engineering-Team wird Ihren Vorschlag pr√ºfen und Sie in K√ºrze kontaktieren.",
      "errors": {
        "required": "Bitte f√ºllen Sie alle erforderlichen Felder aus.",
        "generic": "Es gab einen Fehler beim Senden der Nachricht. Bitte versuchen Sie es erneut."
      },
      "successMessage": "Nachricht erfolgreich gesendet! Wir werden Sie bald kontaktieren."
    }
  },
  "blog": {
    "title": "Ingenieurwesen & Gedanken",
    "subtitle": "Artikel √ºber Softwareentwicklung, Systemarchitektur und Technologiestrategie.",
    "backToBlog": "Zur√ºck zum Blog",
    "publishedOn": "Ver√∂ffentlicht am",
    "minRead": "Min. Lesezeit",
    "interested": "Interessiert an diesem Ansatz?",
    "helpText": "Wir wenden diese Philosophie bei jedem Projekt an, das wir entwickeln.",
    "letsTalk": "Lassen Sie uns √ºber Ihr Projekt sprechen",
    "noArticles": "Noch keine Artikel ver√∂ffentlicht."
  },
  "products": {
    "backToPortfolio": "Zur√ºck zum Portfolio",
    "aboutProject": "√úber das Projekt",
    "related": "Verwandte Projekte",
    "technicalSheet": "Technisches Datenblatt",
    "visitWebsite": "Website besuchen",
    "inDevelopment": "In Entwicklung",
    "techStack": "Tech Stack",
    "noCover": "Kein Titelbild",
    "status": {
      "live": "Live",
      "beta": "Public Beta",
      "development": "In Entwicklung",
      "concept": "Konzept"
    }
  },
  "notFound": {
    "title": "404",
    "subtitle": "Seite nicht gefunden",
    "description": "Entschuldigung, wir konnten die gesuchte Seite nicht finden. M√∂glicherweise wurde sie verschoben oder gel√∂scht."
  },
  "tools": {
    "vault": {
      "title": "Vault",
      "description": "AES-256 Verschl√ºsselung f√ºr Text und Dateien. Zero-Knowledge, alles in Ihrem Browser.",
      "seo": {
        "title": "Text und Dateien online verschl√ºsseln - OHCodex Vault",
        "description": "Kostenloses AES-256 Verschl√ºsselungstool im Browser. Sch√ºtzen Sie Dokumente, Fotos und Videos vor dem Senden. Totale Privatsph√§re, keine Server."
      },
      "header": "OHCodex Vault",
      "subtitle": "AES-256 Verschl√ºsselung auf Milit√§rniveau. Zero-Knowledge - Ihre Daten verlassen niemals Ihren Browser.",
      "alert": "Die gesamte Verarbeitung erfolgt in Ihrem Browser √ºber die Web Crypto API. Das Passwort wird niemals an einen Server gesendet.",
      "textTab": "Text verschl√ºsseln",
      "fileTab": "Dateien verschl√ºsseln",
      "textToEncrypt": "Text zum Verschl√ºsseln",
      "textDecrypted": "Entschl√ºsselter Text",
      "encryptedText": "Verschl√ºsselter Text (Base64)",
      "encrypted": "Verschl√ºsselter Text",
      "password": "Passwort",
      "enterPassword": "Geben Sie ein sicheres Passwort ein...",
      "encrypt": "Verschl√ºsseln",
      "decrypt": "Entschl√ºsseln",
      "encryptedSuccess": "Text erfolgreich verschl√ºsselt",
      "readyToDecrypt": "Text bereit zum Entschl√ºsseln",
      "decryptedSuccess": "Text erfolgreich entschl√ºsselt",
      "fileAlert": "Dateien werden mit derselben Sicherheit verschl√ºsselt. Das Ergebnis wird mit der Endung .ohc heruntergeladen.",
      "encryptFile": "Datei verschl√ºsseln",
      "decryptFile": ".ohc Datei entschl√ºsseln",
      "encryptDesc": "Ziehen Sie eine Datei hierher oder klicken Sie zum Ausw√§hlen",
      "decryptDesc": "W√§hlen Sie eine .ohc Datei zum Entschl√ºsseln",
      "dragHere": "Ziehen Sie eine Datei hierher",
      "clickToSelect": "oder klicken Sie zum Ausw√§hlen",
      "size": "{size} MB",
      "encryptionPassword": "Verschl√ºsselungspasswort",
      "encryptAndDownload": "Verschl√ºsseln & Laden",
      "decryptAndDownload": "Entschl√ºsseln & Laden",
      "changeToDecrypt": "Zu Entschl√ºsseln wechseln",
      "changeToEncrypt": "Zu Verschl√ºsseln wechseln",
      "decryptFileButton": "Datei entschl√ºsseln",
      "encryptFileButton": "Datei verschl√ºsseln",
      "enterTextPassword": "Bitte geben Sie Text und Passwort ein",
      "enterEncrypted": "Bitte geben Sie den verschl√ºsselten Text und das Passwort ein",
      "selectFilePassword": "Bitte w√§hlen Sie eine Datei und geben Sie das Passwort ein",
      "selectOhcFile": "Bitte w√§hlen Sie eine .ohc Datei und geben Sie das Passwort ein",
      "copied": "In die Zwischenablage kopiert",
      "copyError": "Fehler beim Kopieren",
      "encryptionError": "Verschl√ºsselungsfehler",
      "decryptionError": "Falsches Passwort oder besch√§digte Daten"
    },
    "image-optimizer": {
      "title": "Pixel Optimizer",
      "description": "Komprimieren, skalieren und konvertieren von HEIC/JPG in WebP im Stapel.",
      "seo": {
        "title": "HEIC in JPG konvertieren und Bilder optimieren - OHCodex",
        "description": "Fotogr√∂√üe reduzieren, Wasserzeichen hinzuf√ºgen und iPhone HEIC kostenlos in JPG/WebP umwandeln. Private Verarbeitung im Browser."
      },
      "header": "Pixel Optimizer",
      "subtitle": "Komprimieren, skalieren und konvertieren Sie Bilder (inkl. HEIC) im Stapel. 100% im Browser.",
      "settings": "Einstellungen",
      "outputFormat": "Ausgabeformat",
      "webp": "WebP (Empfohlen)",
      "jpeg": "JPEG",
      "png": "PNG",
      "quality": "Qualit√§t",
      "resize": "Skalieren",
      "maxWidth": "Max. Breite",
      "maxWidthValue": "{maxWidth}px",
      "privacyAlert": "EXIF-Metadaten werden f√ºr mehr Privatsph√§re automatisch entfernt",
      "processAll": "Alles verarbeiten",
      "processing": "Verarbeite...",
      "dragImages": "Ziehen Sie Bilder hierher",
      "clickToSelect": "oder klicken Sie zum Ausw√§hlen",
      "imagesSelected": "{count} Bilder ausgew√§hlt",
      "results": "Ergebnisse",
      "size": "{size}",
      "download": "Herunterladen",
      "processedSuccess": "{count} Bilder verarbeitet",
      "processingError": "Fehler bei der Bildverarbeitung"
    },
    "pdf-studio": {
      "title": "PDF Studio",
      "description": "PDFs zusammenf√ºgen, teilen, signieren und komprimieren in einer professionellen Oberfl√§che.",
      "seo": {
        "title": "Online PDF Editor: Zusammenf√ºgen, Signieren & Komprimieren - OHCodex",
        "description": "Kostenloses Tool zur PDF-Verwaltung. Seiten organisieren, Dokumente digital signieren und Dateigr√∂√üe reduzieren. Ohne Registrierung und sicher."
      },
      "header": "PDF Studio",
      "subtitle": "PDFs zusammenf√ºgen, drehen und organisieren direkt in Ihrem Browser.",
      "infoAlert": "Dies ist die Basisversion. F√ºr erweiterte Funktionen wie Komprimierung und Signatur ist eine zus√§tzliche Implementierung erforderlich.",
      "dragPdfs": "Ziehen Sie PDFs hierher",
      "dropzoneSubtitle": "Oder klicken Sie zum Ausw√§hlen. 100% private lokale Verarbeitung.",
      "privacyAlert": "Ihre Dokumente werden niemals auf einen Server hochgeladen. Das Zusammenf√ºgen und Signieren erfolgt in Ihrem Browser.",
      "documents": "Dokumente",
      "pdfsSelected": "{count} PDFs ausgew√§hlt",
      "filesAdded": "{count} Dateien hinzugef√ºgt",
      "mergeAll": "Alle PDFs zusammenf√ºgen",
      "merging": "F√ºge zusammen...",
      "page": "Seite {page}",
      "rotate": "Drehen",
      "remove": "Entfernen",
      "mergePdf": "PDF zusammenf√ºgen",
      "mergeSuccess": "PDFs erfolgreich zusammengef√ºgt",
      "mergeError": "Fehler beim Zusammenf√ºgen der PDFs",
      "rotateSuccess": "Seite gedreht",
      "rotateError": "Fehler beim Drehen der Seite",
      "downloadError": "Fehler beim Herunterladen",
      "needTwoPdfs": "W√§hlen Sie mindestens 2 PDFs zum Zusammenf√ºgen",
      "signed": "Signiert",
      "sign": "Signieren",
      "addMore": "Weiteres PDF hinzuf√ºgen",
      "signature": {
        "title": "Digitale Signatur",
        "drawSignature": "Unterschrift zeichnen",
        "clear": "L√∂schen",
        "save": "Speichern",
        "canvasPlaceholder": "Zeichnen Sie hier Ihre Unterschrift",
        "upload": "Bild hochladen"
      },
      "signatureSaved": "Unterschrift gespeichert"
    },
    "data-station": {
      "title": "Data Station",
      "description": "JSON formatieren, CSV/XML konvertieren, SQL validieren und Code-Diff vergleichen.",
      "seo": {
        "title": "JSON Formatter, CSV Konverter und SQL Online - OHCodex Data Station",
        "description": "JSON validieren, CSV in JSON konvertieren, SQL formatieren und Code vergleichen. Kostenlose, private und serverlose Entwicklertools."
      },
      "header": "Data Station",
      "subtitle": "Formatieren, validieren und konvertieren Sie Daten direkt in Ihrem Browser.",
      "json": "JSON",
      "converter": "Konverter",
      "sql": "SQL",
      "inputJson": "Eingabe JSON",
      "spaces": "Leerzeichen",
      "format": "Formatieren",
      "minify": "Minimieren",
      "validate": "Validieren",
      "output": "Ausgabe",
      "inputData": "Eingabedaten",
      "jsonToCsv": "JSON ‚Üí CSV",
      "csvToJson": "CSV ‚Üí JSON",
      "inputSql": "Eingabe SQL",
      "formatSql": "SQL formatieren",
      "formattedSql": "Formatiertes SQL",
      "jsonValid": "‚úì G√ºltiges JSON",
      "jsonInvalid": "‚úó Fehler: {error}",
      "convertedToCsv": "In CSV konvertiert",
      "convertedToJson": "In JSON konvertiert",
      "sqlFormatted": "SQL formatiert",
      "jsonFormatted": "JSON formatiert",
      "jsonMinified": "JSON minimiert",
      "invalidJson": "Ung√ºltiges JSON",
      "conversionError": "Konvertierungsfehler",
      "formatError": "Formatierungsfehler"
    },
    "qr-factory": {
      "title": "QR Factory",
      "description": "Generieren Sie benutzerdefinierte QRs mit Logo und EAN-13, UPC Barcodes.",
      "seo": {
        "title": "QR-Code und Barcode Generator mit Logo (SVG/PNG) - OHCodex",
        "description": "Erstellen Sie benutzerdefinierte QRs f√ºr WiFi, VCard und WhatsApp. EAN-13 und Code-128 Barcode-Generator f√ºr Inventar. Kostenloser Vektor-Download."
      },
      "header": "QR Factory",
      "subtitle": "Generieren Sie professionelle QR-Codes und Barcodes.",
      "generator": "QR Generator",
      "barcode": "Barcode",
      "scanner": "Scanner",
      "qrType": "QR Typ",
      "design": "Design & Farben",
      "foregroundColor": "Vordergrundfarbe",
      "backgroundColor": "Hintergrundfarbe",
      "logo": "Logo",
      "uploadLogo": "Logo hochladen",
      "barcodeType": "Code-Typ",
      "showText": "Text anzeigen",
      "height": "H√∂he",
      "uploadImage": "Bild hochladen",
      "enterUrl": "URL eingeben...",
      "ssid": "Netzwerkname (SSID)",
      "wifiPassword": "WiFi Passwort",
      "security": { "nopass": "Kein Passwort" },
      "firstName": "Vorname",
      "lastName": "Nachname",
      "phone": "Telefon",
      "email": "E-Mail",
      "whatsappNumber": "WhatsApp Nummer",
      "message": "Nachricht (optional)",
      "enterCode": "Code eingeben...",
      "scanResult": "Scan-Ergebnis",
      "noCodeFound": "Kein Code erkannt",
      "scanError": "Scan-Fehler",
      "qrGenerated": "QR erfolgreich generiert",
      "barcodeGenerated": "Barcode erfolgreich generiert"
    },
    "ocr-vision": {
      "title": "OCR Vision",
      "description": "Text aus Bildern und gescannten Dokumenten extrahieren. Lokale KI-Technologie unterst√ºtzt mehrere Sprachen.",
      "seo": {
        "title": "Kostenloses Online-OCR mit KI - Text aus Bild extrahieren - OHCodex",
        "description": "Kostenloses OCR-Tool zur Umwandlung von Bildern in bearbeitbaren Text. Funktioniert im Browser mit KI (Tesseract). Unterst√ºtzt Deutsch, Englisch, Spanisch, etc."
      },
      "header": "OCR Vision",
      "subtitle": "Wandeln Sie Bilder sofort in bearbeitbaren Text um. Totale Privatsph√§re: Ihr Ausweis oder Rechnungen verlassen nie Ihr Ger√§t.",
      "sourceImage": "Quellbild",
      "dragImage": "Bild hierher ziehen",
      "extractText": "Text extrahieren",
      "extracting": "Analysiere...",
      "result": "Extrahierter Text",
      "placeholder": "Der erkannte Text erscheint hier zur Bearbeitung...",
      "success": "Text erfolgreich extrahiert",
      "error": "Text konnte nicht erkannt werden"
    },
    "ui": {
      "ctaButton": "Lassen Sie uns √ºber Ihr Projekt sprechen",
      "faqTitle": "H√§ufig gestellte Fragen"
    }
  },
  "footer": {
    "description": "Kostenlose Entwickler- und Produktivit√§tstools. Clientseitige Verarbeitung f√ºr maximale Privatsph√§re.",
    "tools": "Werkzeuge",
    "navigation": "Navigation",
    "contact": "Kontakt",
    "support": "Technischer Support"
  },
  "crossSell": {
    "title": "Ben√∂tigen Sie ma√ügeschneiderte Software?",
    "description": "Das OHCodex-Team erstellt leistungsstarke Web- und Mobile-Apps. Next.js, TypeScript, KI und Cloud-Native-Architektur.",
    "requestQuote": "Angebot anfordern",
    "common": {
      "ultraFast": "Ultraschnell",
      "secure": "Sicher",
      "scalable": "Skalierbar"
    }
  }
}

// =============== FIN ARCHIVO [146]: src/messages/de.json =============== //

// =============== INICIO ARCHIVO [147]: src/messages/en.json =============== //
{
  "common": {
    "tools": "Tools",
    "home": "Home",
    "visitStudio": "Visit Studio",
    "blog": "Blog",
    "aboutUs": "About Us",
    "contact": "Contact",
    "products": "Products",
    "methodology": "Methodology",
    "madeWith": "Made with ‚ù§Ô∏è by the OHCodex engineering team",
    "copyright": "All rights reserved",
    "legal": {
      "legalNotice": "Legal Notice",
      "privacy": "Privacy",
      "terms": "Terms"
    },
    "buttons": {
      "copy": "Copy",
      "download": "Download",
      "process": "Process",
      "clear": "Clear",
      "readArticle": "Read Article",
      "backToHome": "Back to Home"
    }
  },
  "hero": {
    "badge": "New: Tools Section Available",
    "title": "Software Architecture & Development",
    "subtitle": "Engineering the future of digital ecosystems.",
    "ctaProject": "Start Project",
    "ctaPortfolio": "View Portfolio"
  },
  "home": {
    "hero": {
      "badge": "New: Tools Section Available",
      "title": "Software Architecture & Development",
      "subtitle": "Engineering the future of digital ecosystems.",
      "ctaProject": "Start Project",
      "ctaPortfolio": "View Portfolio"
    },
    "ourTools": {
      "title": "Engineering Suite",
      "subtitle": "Powerful, private, and browser-based tools for modern developers.",
      "useTool": "Use Tool"
    }
  },
  "contactSection": {
    "title": "Start your Digital Transformation",
    "subtitle": "Ready to scale? Tell us about your technical challenge. We will analyze your case and design the software architecture your business needs to grow without limits.",
    "directContact": "Direct Contact",
    "response": "Response in < 24h business days",
    "operations": "Operations",
    "location": "Spain (Remote First)",
    "global": "Global Service",
    "form": {
      "name": "Name",
      "namePlaceholder": "Your full name",
      "email": "Corporate Email",
      "emailPlaceholder": "name@company.com",
      "type": "Project Type",
      "types": {
        "pwa": "PWA Development / Web App",
        "saas": "SaaS Platform",
        "api": "System Integration / API",
        "other": "Consulting / Other"
      },
      "details": "Project Details",
      "detailsPlaceholder": "Briefly describe your goals, estimated timeline, or current technology...",
      "privacy": "I have read and accept the privacy policy. I understand my data will be processed to manage this request.",
      "submit": "Send Request",
      "processing": "Processing...",
      "sentTitle": "Request Sent!",
      "sentDesc": "We have received your details correctly. Our engineering team will review your proposal and contact you shortly.",
      "errors": {
        "required": "Please complete all required fields.",
        "generic": "There was an error sending the message. Please try again."
      },
      "successMessage": "Message sent successfully! We will contact you soon."
    }
  },
  "blog": {
    "title": "Engineering & Thought",
    "subtitle": "Articles on software development, system architecture, and technology strategy.",
    "backToBlog": "Back to Blog",
    "publishedOn": "Published on",
    "minRead": "min read",
    "interested": "Interested in this approach?",
    "helpText": "We apply this same philosophy to every project we develop.",
    "letsTalk": "Let's Talk About Your Project",
    "noArticles": "No articles published yet."
  },
  "products": {
    "backToPortfolio": "Back to Portfolio",
    "aboutProject": "About the Project",
    "related": "Related Projects",
    "technicalSheet": "Technical Sheet",
    "visitWebsite": "Visit Website",
    "inDevelopment": "In Development",
    "techStack": "Tech Stack",
    "noCover": "No cover image",
    "status": {
      "live": "Live",
      "beta": "Public Beta",
      "development": "In Development",
      "concept": "Concept"
    }
  },
  "notFound": {
    "title": "404",
    "subtitle": "Page Not Found",
    "description": "Sorry, we couldn't find the page you're looking for. It might have been moved or deleted."
  },
  "tools": {
    "vault": {
      "title": "Vault",
      "description": "AES-256 encryption for text and files. Zero-Knowledge, all in your browser.",
      "seo": {
        "title": "Encrypt Text and Files Online - OHCodex Vault",
        "description": "Free AES-256 encryption tool in the browser. Protect your documents, photos, and videos before sending. Total privacy, no servers."
      },
      "header": "OHCodex Vault",
      "subtitle": "Military-grade AES-256 encryption. Zero-Knowledge - Your data never leaves your browser.",
      "alert": "All processing happens in your browser using Web Crypto API. Password never sent to any server.",
      "textTab": "Encrypt Text",
      "fileTab": "Encrypt Files",
      "textToEncrypt": "Text to Encrypt",
      "textDecrypted": "Decrypted Text",
      "encryptedText": "Encrypted Text (Base64)",
      "encrypted": "Encrypted Text",
      "password": "Password",
      "enterPassword": "Enter a secure password...",
      "encrypt": "Encrypt",
      "decrypt": "Decrypt",
      "encryptedSuccess": "Text encrypted successfully",
      "readyToDecrypt": "Text ready to decrypt",
      "decryptedSuccess": "Text decrypted successfully",
      "fileAlert": "Files are encrypted with the same security. Result downloads with .ohc extension",
      "encryptFile": "Encrypt File",
      "decryptFile": "Decrypt .ohc File",
      "encryptDesc": "Drag a file here or click to select",
      "decryptDesc": "Select an .ohc file to decrypt",
      "dragHere": "Drag a file here",
      "clickToSelect": "or click to select",
      "size": "{size} MB",
      "encryptionPassword": "Encryption Password",
      "encryptAndDownload": "Encrypt and Download",
      "decryptAndDownload": "Decrypt and Download",
      "changeToDecrypt": "Change to Decrypt",
      "changeToEncrypt": "Change to Encrypt",
      "decryptFileButton": "Decrypt File",
      "encryptFileButton": "Encrypt File",
      "enterTextPassword": "Please enter text and password",
      "enterEncrypted": "Please enter encrypted text and password",
      "selectFilePassword": "Please select a file and enter password",
      "selectOhcFile": "Please select an .ohc file and enter password",
      "copied": "Copied to clipboard",
      "copyError": "Error copying",
      "encryptionError": "Encryption error",
      "decryptionError": "Incorrect password or corrupted data"
    },
    "image-optimizer": {
      "title": "Pixel Optimizer",
      "description": "Compress, resize and convert HEIC/JPG to WebP in batches.",
      "seo": {
        "title": "Convert HEIC to JPG and Optimize Images - OHCodex",
        "description": "Reduce photo weight, add watermark and convert HEIC from iPhone to JPG/WebP for free. Private processing in your browser."
      },
      "header": "Pixel Optimizer",
      "subtitle": "Compress, resize and convert images (including HEIC) in batches. 100% in the browser.",
      "settings": "Settings",
      "outputFormat": "Output Format",
      "webp": "WebP (Recommended)",
      "jpeg": "JPEG",
      "png": "PNG",
      "quality": "Quality",
      "resize": "Resize",
      "maxWidth": "Max Width",
      "maxWidthValue": "{maxWidth}px",
      "privacyAlert": "EXIF metadata automatically removed for privacy",
      "processAll": "Process All",
      "processing": "Processing...",
      "dragImages": "Drag images here",
      "clickToSelect": "or click to select",
      "imagesSelected": "{count} images selected",
      "results": "Results",
      "size": "{size}",
      "download": "Download",
      "processedSuccess": "{count} images processed",
      "processingError": "Error processing images"
    },
    "pdf-studio": {
      "title": "PDF Studio",
      "description": "Merge, split, sign and compress PDFs in a professional interface.",
      "seo": {
        "title": "Online PDF Editor: Merge, Sign and Compress - OHCodex PDF Studio",
        "description": "Free tool to manage PDFs. Organize pages, sign documents digitally and reduce file size. No registration and secure."
      },
      "header": "PDF Studio",
      "subtitle": "Merge, rotate and organize PDFs directly in your browser.",
      "infoAlert": "This is the basic version. For advanced features like compression and signing, additional implementation is required.",
      "dragPdfs": "Drag PDFs here",
      "dropzoneSubtitle": "Or click to select files. 100% private local processing.",
      "privacyAlert": "Your documents are never uploaded to any server. Merging and signing happens in your browser.",
      "documents": "Documents",
      "pdfsSelected": "{count} PDFs selected",
      "filesAdded": "{count} files added",
      "mergeAll": "Merge All PDFs",
      "merging": "Merging...",
      "page": "Page {page}",
      "rotate": "Rotate",
      "remove": "Remove",
      "mergePdf": "Merge PDF",
      "mergeSuccess": "PDFs merged successfully",
      "mergeError": "Error merging PDFs",
      "rotateSuccess": "Page rotated",
      "rotateError": "Error rotating page",
      "downloadError": "Error downloading",
      "needTwoPdfs": "Select at least 2 PDFs to merge",
      "signed": "Signed",
      "sign": "Sign",
      "addMore": "Add another PDF",
      "signature": {
        "title": "Digital Signature",
        "drawSignature": "Draw Signature",
        "clear": "Clear",
        "save": "Save Signature",
        "canvasPlaceholder": "Draw your signature here",
        "upload": "Upload Image"
      },
      "signatureSaved": "Signature saved"
    },
    "data-station": {
      "title": "Data Station",
      "description": "Format JSON, convert CSV/XML, validate SQL and compare code diff.",
      "seo": {
        "title": "JSON Formatter, CSV Converter and SQL Online - OHCodex Data Station",
        "description": "Validate JSON, convert CSV to JSON, format SQL and compare code. Free, private and serverless developer tools."
      },
      "header": "Data Station",
      "subtitle": "Format, validate and convert data directly in your browser.",
      "json": "JSON",
      "converter": "Converter",
      "sql": "SQL",
      "inputJson": "Input JSON",
      "spaces": "spaces",
      "format": "Format",
      "minify": "Minify",
      "validate": "Validate",
      "output": "Output",
      "inputData": "Input Data",
      "jsonToCsv": "JSON ‚Üí CSV",
      "csvToJson": "CSV ‚Üí JSON",
      "inputSql": "Input SQL",
      "formatSql": "Format SQL",
      "formattedSql": "Formatted SQL",
      "jsonValid": "‚úì Valid JSON",
      "jsonInvalid": "‚úó Error: {error}",
      "convertedToCsv": "Converted to CSV",
      "convertedToJson": "Converted to JSON",
      "sqlFormatted": "SQL formatted",
      "jsonFormatted": "JSON formatted",
      "jsonMinified": "JSON minified",
      "invalidJson": "Invalid JSON",
      "conversionError": "Conversion error",
      "formatError": "Format error"
    },
    "qr-factory": {
      "title": "QR Factory",
      "description": "Generate custom QRs with logo and EAN-13, UPC barcodes.",
      "seo": {
        "title": "QR Code and Barcode Generator with Logo (SVG/PNG) - OHCodex",
        "description": "Create custom QRs for WiFi, VCard and WhatsApp. EAN-13 and Code-128 barcode generator for inventory. Free vector download."
      },
      "header": "QR Factory",
      "subtitle": "Generate custom QR codes and barcodes professionally.",
      "generator": "QR Generator",
      "barcode": "Barcode",
      "scanner": "Scanner",
      "qrType": "QR Type",
      "design": "Design & Colors",
      "foregroundColor": "Foreground Color",
      "backgroundColor": "Background Color",
      "logo": "Logo",
      "uploadLogo": "Upload Logo",
      "barcodeType": "Barcode Type",
      "showText": "Show Text",
      "height": "Height",
      "uploadImage": "Upload Image",
      "enterUrl": "Enter URL...",
      "ssid": "Network Name (SSID)",
      "wifiPassword": "WiFi Password",
      "security": { "nopass": "No password" },
      "firstName": "First Name",
      "lastName": "Last Name",
      "phone": "Phone",
      "email": "Email",
      "whatsappNumber": "WhatsApp Number",
      "message": "Message (optional)",
      "enterCode": "Enter code...",
      "scanResult": "Scan Result",
      "noCodeFound": "No code detected",
      "scanError": "Scan error",
      "qrGenerated": "QR generated successfully",
      "barcodeGenerated": "Barcode generated successfully"
    },
    "ocr-vision": {
      "title": "OCR Vision",
      "description": "Extract text from images and scanned documents. Local AI technology supporting multiple languages.",
      "seo": {
        "title": "Free Online OCR with AI - Extract Text from Image - OHCodex",
        "description": "Free OCR tool to convert images to editable text. Runs in your browser with AI (Tesseract). Supports Spanish, English, and more."
      },
      "header": "OCR Vision",
      "subtitle": "Transform images into editable text instantly. Total privacy: your ID or invoices never leave your device.",
      "sourceImage": "Source Image",
      "dragImage": "Drag an image",
      "extractText": "Extract Text",
      "extracting": "Analyzing...",
      "result": "Extracted Text",
      "placeholder": "Recognized text will appear here for editing...",
      "success": "Text extracted successfully",
      "error": "Could not recognize text"
    },
    "ui": {
      "ctaButton": "Let's Talk About Your Project",
      "faqTitle": "Frequently Asked Questions"
    }
  },
  "footer": {
    "description": "Free development and productivity tools. Client-side processing for maximum privacy.",
    "tools": "Tools",
    "navigation": "Navigation",
    "contact": "Contact",
    "support": "Technical Support"
  },
  "crossSell": {
    "title": "Need Custom Software?",
    "description": "The OHCodex team creates high-performance web and mobile apps. Next.js, TypeScript, AI and cloud-native architecture.",
    "requestQuote": "Request Quote",
    "common": {
      "ultraFast": "Ultra Fast",
      "secure": "Secure",
      "scalable": "Scalable"
    }
  }
}

// =============== FIN ARCHIVO [147]: src/messages/en.json =============== //

// =============== INICIO ARCHIVO [148]: src/messages/es.json =============== //
{
  "common": {
    "tools": "Herramientas",
    "home": "Inicio",
    "visitStudio": "Visitar Studio",
    "blog": "Blog",
    "aboutUs": "Sobre Nosotros",
    "contact": "Contacto",
    "products": "Productos",
    "methodology": "Metodolog√≠a",
    "madeWith": "Hecho con ‚ù§Ô∏è por el equipo de ingenier√≠a de OHCodex",
    "copyright": "Todos los derechos reservados",
    "legal": {
      "legalNotice": "Aviso Legal",
      "privacy": "Privacidad",
      "terms": "T√©rminos"
    },
    "buttons": {
      "copy": "Copiar",
      "download": "Descargar",
      "process": "Procesar",
      "clear": "Limpiar",
      "readArticle": "Leer art√≠culo",
      "backToHome": "Volver al Inicio"
    }
  },
  "hero": {
    "badge": "Nuevo: Secci√≥n de Herramientas Disponible",
    "title": "Arquitectura & Desarrollo de Software",
    "subtitle": "Ingenier√≠a para el futuro de los ecosistemas digitales.",
    "ctaProject": "Empezar Proyecto",
    "ctaPortfolio": "Ver Portfolio"
  },
  "home": {
    "hero": {
      "badge": "Nuevo: Secci√≥n de Herramientas Disponible",
      "title": "Arquitectura & Desarrollo de Software",
      "subtitle": "Ingenier√≠a para el futuro de los ecosistemas digitales.",
      "ctaProject": "Empezar Proyecto",
      "ctaPortfolio": "Ver Portfolio"
    },
    "ourTools": {
      "title": "Suite de Ingenier√≠a",
      "subtitle": "Herramientas potentes, privadas y basadas en el navegador para desarrolladores modernos.",
      "useTool": "Usar Herramienta"
    }
  },
  "contactSection": {
    "title": "Inicia tu Transformaci√≥n Digital",
    "subtitle": "¬øListo para escalar? Cu√©ntanos tu desaf√≠o t√©cnico. Analizaremos tu caso y dise√±aremos la arquitectura de software que tu negocio necesita para crecer sin l√≠mites.",
    "directContact": "Contacto Directo",
    "response": "Respuesta en < 24h laborables",
    "operations": "Operaciones",
    "location": "Espa√±a (Remote First)",
    "global": "Servicio Global",
    "form": {
      "name": "Nombre",
      "namePlaceholder": "Tu nombre completo",
      "email": "Email Corporativo",
      "emailPlaceholder": "nombre@empresa.com",
      "type": "Tipo de Proyecto",
      "types": {
        "pwa": "Desarrollo PWA / Aplicaci√≥n Web",
        "saas": "Plataforma SaaS",
        "api": "Integraci√≥n de Sistemas / API",
        "other": "Consultor√≠a / Otro"
      },
      "details": "Detalles del Proyecto",
      "detailsPlaceholder": "Describe brevemente tus objetivos, plazos estimados o la tecnolog√≠a actual...",
      "privacy": "He le√≠do y acepto la pol√≠tica de privacidad. Entiendo que mis datos se procesar√°n para gestionar esta solicitud.",
      "submit": "Enviar Solicitud",
      "processing": "Procesando...",
      "sentTitle": "¬°Solicitud Enviada!",
      "sentDesc": "Hemos recibido tus datos correctamente. Nuestro equipo de ingenier√≠a revisar√° tu propuesta y te contactar√° en breve.",
      "errors": {
        "required": "Por favor, completa todos los campos requeridos.",
        "generic": "Hubo un error al enviar el mensaje. Int√©ntalo de nuevo."
      },
      "successMessage": "¬°Mensaje enviado con √©xito! Nos pondremos en contacto contigo pronto."
    }
  },
  "blog": {
    "title": "Ingenier√≠a & Pensamiento",
    "subtitle": "Art√≠culos sobre desarrollo de software, arquitectura de sistemas y estrategia tecnol√≥gica.",
    "backToBlog": "Volver al Blog",
    "publishedOn": "Publicado el",
    "minRead": "min de lectura",
    "interested": "¬øTe interesa este enfoque?",
    "helpText": "Aplicamos esta misma filosof√≠a en cada proyecto que desarrollamos.",
    "letsTalk": "Hablemos de tu Proyecto",
    "noArticles": "No hay art√≠culos publicados todav√≠a."
  },
  "products": {
    "backToPortfolio": "Volver al Portfolio",
    "aboutProject": "Sobre el Proyecto",
    "related": "Proyectos Relacionados",
    "technicalSheet": "Ficha T√©cnica",
    "visitWebsite": "Visitar Sitio Web",
    "inDevelopment": "En Desarrollo",
    "techStack": "Tech Stack",
    "noCover": "Sin imagen de portada",
    "status": {
      "live": "En Producci√≥n",
      "beta": "Beta P√∫blica",
      "development": "En Desarrollo",
      "concept": "Concepto"
    }
  },
  "notFound": {
    "title": "404",
    "subtitle": "P√°gina no encontrada",
    "description": "Lo sentimos, no hemos podido encontrar la p√°gina que buscas. Puede que haya sido movida o eliminada."
  },
  "tools": {
    "vault": {
      "title": "Vault",
      "description": "Encriptaci√≥n AES-256 para texto y archivos. Zero-Knowledge, todo en tu navegador.",
      "seo": {
        "title": "Encriptar Texto y Archivos Online - OHCodex Vault",
        "description": "Herramienta gratuita de encriptaci√≥n AES-256 en el navegador. Protege tus documentos, fotos y v√≠deos antes de enviarlos. Privacidad total, sin servidores."
      },
      "header": "OHCodex Vault",
      "subtitle": "Encriptaci√≥n AES-256 de grado militar. Zero-Knowledge - Tus datos nunca salen de tu navegador.",
      "alert": "Todo el procesamiento ocurre en tu navegador usando Web Crypto API. Contrase√±a nunca enviada a ning√∫n servidor.",
      "textTab": "Encriptar Texto",
      "fileTab": "Encriptar Archivos",
      "textToEncrypt": "Texto a Encriptar",
      "textDecrypted": "Texto Desencriptado",
      "encryptedText": "Texto Encriptado (Base64)",
      "encrypted": "Texto Encriptado",
      "password": "Contrase√±a",
      "enterPassword": "Ingresa una contrase√±a segura...",
      "encrypt": "Encriptar",
      "decrypt": "Desencriptar",
      "encryptedSuccess": "Texto encriptado correctamente",
      "readyToDecrypt": "Texto listo para desencriptar",
      "decryptedSuccess": "Texto desencriptado correctamente",
      "fileAlert": "Los archivos se encriptan con la misma seguridad. El resultado se descarga con extensi√≥n .ohc",
      "encryptFile": "Encriptar Archivo",
      "decryptFile": "Desencriptar Archivo .ohc",
      "encryptDesc": "Arrastra un archivo aqu√≠ o haz clic para seleccionar",
      "decryptDesc": "Selecciona un archivo .ohc para desencriptar",
      "dragHere": "Arrastra un archivo aqu√≠",
      "clickToSelect": "o haz clic para seleccionar",
      "size": "{size} MB",
      "encryptionPassword": "Contrase√±a de Encriptaci√≥n",
      "encryptAndDownload": "Encriptar y Descargar",
      "decryptAndDownload": "Desencriptar y Descargar",
      "changeToDecrypt": "Cambiar a Desencriptar",
      "changeToEncrypt": "Cambiar a Encriptar",
      "decryptFileButton": "Desencriptar Archivo",
      "encryptFileButton": "Encriptar Archivo",
      "enterTextPassword": "Por favor ingresa texto y contrase√±a",
      "enterEncrypted": "Por favor ingresa el texto encriptado y contrase√±a",
      "selectFilePassword": "Por favor selecciona un archivo e ingresa contrase√±a",
      "selectOhcFile": "Por favor selecciona un archivo .ohc e ingresa contrase√±a",
      "copied": "Copiado al portapapeles",
      "copyError": "Error al copiar",
      "encryptionError": "Error al encriptar",
      "decryptionError": "Contrase√±a incorrecta o datos corruptos"
    },
    "image-optimizer": {
      "title": "Pixel Optimizer",
      "description": "Comprime, redimensiona y convierte HEIC/JPG a WebP por lotes.",
      "seo": {
        "title": "Convertir HEIC a JPG y Optimizar Im√°genes - OHCodex",
        "description": "Reducir peso de fotos, a√±adir marca de agua y convertir HEIC de iPhone a JPG/WebP gratis. Procesamiento privado en tu navegador."
      },
      "header": "Pixel Optimizer",
      "subtitle": "Comprime, redimensiona y convierte im√°genes (incluido HEIC) por lotes. 100% en el navegador.",
      "settings": "Ajustes",
      "outputFormat": "Formato de salida",
      "webp": "WebP (Recomendado)",
      "jpeg": "JPEG",
      "png": "PNG",
      "quality": "Calidad",
      "resize": "Redimensionar",
      "maxWidth": "Ancho m√°ximo",
      "maxWidthValue": "{maxWidth}px",
      "privacyAlert": "Metadatos EXIF eliminados autom√°ticamente para mayor privacidad",
      "processAll": "Procesar Todo",
      "processing": "Procesando...",
      "dragImages": "Arrastra im√°genes aqu√≠",
      "clickToSelect": "o haz clic para seleccionar",
      "imagesSelected": "{count} im√°genes seleccionadas",
      "results": "Resultados",
      "size": "{size}",
      "download": "Descargar",
      "processedSuccess": "{count} im√°genes procesadas",
      "processingError": "Error al procesar im√°genes"
    },
"pdf-studio": {
      "title": "PDF Studio",
      "description": "Unir, dividir, firmar y comprimir PDFs en una interfaz profesional.",
      "seo": {
        "title": "Editor PDF Online: Unir, Firmar y Comprimir - OHCodex PDF Studio",
        "description": "Herramienta gratuita para gestionar PDFs. Organiza p√°ginas, firma documentos digitalmente y reduce el tama√±o de archivo. Sin registro y seguro."
      },
      "header": "PDF Studio",
      "subtitle": "Unir, rotar y organizar PDFs directamente en tu navegador.",
      "infoAlert": "Esta es la versi√≥n b√°sica. Para funciones avanzadas como compresi√≥n y firma, se requiere implementaci√≥n adicional.",
      "dragPdfs": "Arrastra PDFs aqu√≠",
      "dropzoneSubtitle": "O haz clic para seleccionar archivos. Procesamiento local 100% privado.",
      "privacyAlert": "Tus documentos nunca se suben a ning√∫n servidor. La fusi√≥n y firma ocurre en tu navegador.",
      "documents": "Documentos",
      "pdfsSelected": "{count} PDFs seleccionados",
      "filesAdded": "{count} archivos a√±adidos",
      "mergeAll": "Unir Todos los PDFs",
      "merging": "Uniendo...",
      "page": "P√°gina {page}",
      "rotate": "Rotar",
      "remove": "Eliminar",
      "mergePdf": "Unir PDF",
      "mergeSuccess": "PDFs unidos exitosamente",
      "mergeError": "Error al unir PDFs",
      "rotateSuccess": "P√°gina rotada",
      "rotateError": "Error al rotar p√°gina",
      "downloadError": "Error al descargar",
      "needTwoPdfs": "Selecciona al menos 2 PDFs para unir",
      "signed": "Firmado",
      "sign": "Firmar",
      "addMore": "A√±adir otro PDF",
      "signature": {
        "title": "Firma Digital",
        "drawSignature": "Dibujar Firma",
        "clear": "Limpiar",
        "save": "Guardar Firma",
        "canvasPlaceholder": "Dibuja tu firma aqu√≠",
        "upload": "Subir Imagen"
      },
      "signatureSaved": "Firma guardada"
    },
    "data-station": {
      "title": "Data Station",
      "description": "Formatea JSON, convierte CSV/XML, valida SQL y compara c√≥digo diff.",
      "seo": {
        "title": "Formateador JSON, Conversor CSV y SQL Online - OHCodex Data Station",
        "description": "Valida JSON, convierte CSV a JSON, formatea SQL y compara c√≥digo. Herramientas para desarrolladores gratuitas, privadas y sin servidor."
      },
      "header": "Data Station",
      "subtitle": "Formatea, valida y convierte datos directamente en tu navegador.",
      "json": "JSON",
      "converter": "Converter",
      "sql": "SQL",
      "inputJson": "Input JSON",
      "spaces": "espacios",
      "format": "Formatear",
      "minify": "Minify",
      "validate": "Validar",
      "output": "Output",
      "inputData": "Input Data",
      "jsonToCsv": "JSON ‚Üí CSV",
      "csvToJson": "CSV ‚Üí JSON",
      "inputSql": "Input SQL",
      "formatSql": "Formatear SQL",
      "formattedSql": "Formatted SQL",
      "jsonValid": "‚úì JSON V√°lido",
      "jsonInvalid": "‚úó Error: {error}",
      "convertedToCsv": "Convertido a CSV",
      "convertedToJson": "Convertido a JSON",
      "sqlFormatted": "SQL formateado",
      "jsonFormatted": "JSON formateado",
      "jsonMinified": "JSON minificado",
      "invalidJson": "JSON inv√°lido",
      "conversionError": "Error al convertir",
      "formatError": "Error al formatear"
    },
    "qr-factory": {
      "title": "QR Factory",
      "description": "Genera QRs personalizados con logo y c√≥digos de barras EAN-13, UPC.",
      "seo": {
        "title": "Generador de C√≥digos QR y Barras con Logo (SVG/PNG) - OHCodex",
        "description": "Crea QRs personalizados para WiFi, VCard y WhatsApp. Generador de c√≥digos de barras EAN-13 y Code-128 para inventario. Descarga vectorial gratuita."
      },
      "header": "QR Factory",
      "subtitle": "Genera QRs personalizados y c√≥digos de barras profesionalmente.",
      "generator": "Generador QR",
      "barcode": "C√≥digo Barras",
      "scanner": "Escanear",
      "qrType": "Tipo de QR",
      "design": "Dise√±o y Colores",
      "foregroundColor": "Color Principal",
      "backgroundColor": "Color de Fondo",
      "logo": "Logo",
      "uploadLogo": "Subir Logo",
      "barcodeType": "Tipo de C√≥digo",
      "showText": "Mostrar Texto",
      "height": "Altura",
      "uploadImage": "Subir Imagen",
      "enterUrl": "Ingresa URL...",
      "ssid": "Nombre de Red (SSID)",
      "wifiPassword": "Contrase√±a WiFi",
      "security": { "nopass": "Sin contrase√±a" },
      "firstName": "Nombre",
      "lastName": "Apellidos",
      "phone": "Tel√©fono",
      "email": "Email",
      "whatsappNumber": "N√∫mero WhatsApp",
      "message": "Mensaje (opcional)",
      "enterCode": "Ingresa el c√≥digo...",
      "scanResult": "Resultado del Escaneo",
      "noCodeFound": "No se detect√≥ ning√∫n c√≥digo",
      "scanError": "Error al escanear",
      "qrGenerated": "QR generado exitosamente",
      "barcodeGenerated": "C√≥digo de barras generado exitosamente"
    },
    "ocr-vision": {
      "title": "OCR Vision",
      "description": "Extrae texto de im√°genes y documentos escaneados. Tecnolog√≠a IA local que soporta m√∫ltiples idiomas.",
      "seo": {
        "title": "OCR Online Gratis con IA - Extraer Texto de Imagen - OHCodex",
        "description": "Herramienta OCR gratuita para convertir im√°genes a texto editable. Funciona en tu navegador con IA (Tesseract). Soporta Espa√±ol, Ingl√©s y m√°s."
      },
      "header": "OCR Vision",
      "subtitle": "Transforma im√°genes en texto editable al instante. Privacidad total: tu DNI o facturas nunca salen de tu dispositivo.",
      "sourceImage": "Imagen Origen",
      "dragImage": "Arrastra una imagen",
      "extractText": "Extraer Texto",
      "extracting": "Analizando...",
      "result": "Texto Extra√≠do",
      "placeholder": "El texto reconocido aparecer√° aqu√≠ para que puedas editarlo...",
      "success": "Texto extra√≠do correctamente",
      "error": "No se pudo reconocer el texto"
    },
    "ui": {
      "ctaButton": "Hablemos de tu Proyecto",
      "faqTitle": "Preguntas Frecuentes"
    }
  },
  "footer": {
    "description": "Herramientas de desarrollo y productividad gratuitas. Procesamiento client-side para m√°xima privacidad.",
    "tools": "Herramientas",
    "navigation": "Navegaci√≥n",
    "contact": "Contacto",
    "support": "Soporte T√©cnico"
  },
  "crossSell": {
    "title": "¬øNecesitas un Software a Medida?",
    "description": "El equipo de OHCodex crea aplicaciones web y m√≥viles de alto rendimiento. Next.js, TypeScript, IA y arquitectura cloud-native.",
    "requestQuote": "Solicitar Presupuesto",
    "common": {
      "ultraFast": "Ultra R√°pido",
      "secure": "Seguro",
      "scalable": "Escalable"
    }
  }
}

// =============== FIN ARCHIVO [148]: src/messages/es.json =============== //

// =============== INICIO ARCHIVO [149]: src/messages/fr.json =============== //
{
  "common": {
    "tools": "Outils",
    "home": "Accueil",
    "visitStudio": "Visiter le Studio",
    "blog": "Blog",
    "aboutUs": "√Ä Propos",
    "contact": "Contact",
    "products": "Produits",
    "methodology": "M√©thodologie",
    "madeWith": "Fait avec ‚ù§Ô∏è par l'√©quipe d'ing√©nierie OHCodex",
    "copyright": "Tous droits r√©serv√©s",
    "legal": {
      "legalNotice": "Mentions L√©gales",
      "privacy": "Confidentialit√©",
      "terms": "CGU"
    },
    "buttons": {
      "copy": "Copier",
      "download": "T√©l√©charger",
      "process": "Traiter",
      "clear": "Effacer",
      "readArticle": "Lire l'article",
      "backToHome": "Retour √† l'accueil"
    }
  },
  "hero": {
    "badge": "Nouveau : Section Outils Disponible",
    "title": "Architecture & D√©veloppement Logiciel",
    "subtitle": "Ing√©nierie pour le futur des √©cosyst√®mes num√©riques.",
    "ctaProject": "D√©marrer le Projet",
    "ctaPortfolio": "Voir le Portfolio"
  },
  "home": {
    "hero": {
      "badge": "Nouveau : Section Outils Disponible",
      "title": "Architecture & D√©veloppement Logiciel",
      "subtitle": "Ing√©nierie pour le futur des √©cosyst√®mes num√©riques.",
      "ctaProject": "D√©marrer le Projet",
      "ctaPortfolio": "Voir le Portfolio"
    },
    "ourTools": {
      "title": "Suite d'Ing√©nierie",
      "subtitle": "Outils puissants, priv√©s et bas√©s sur navigateur pour d√©veloppeurs modernes.",
      "useTool": "Utiliser l'outil"
    }
  },
  "contactSection": {
    "title": "Lancez votre Transformation Num√©rique",
    "subtitle": "Pr√™t √† passer √† l'√©chelle ? Parlez-nous de votre d√©fi technique. Nous analyserons votre cas et concevrons l'architecture logicielle dont votre entreprise a besoin pour cro√Ætre sans limites.",
    "directContact": "Contact Direct",
    "response": "R√©ponse en < 24h ouvrables",
    "operations": "Op√©rations",
    "location": "Espagne (Remote First)",
    "global": "Service Global",
    "form": {
      "name": "Nom",
      "namePlaceholder": "Votre nom complet",
      "email": "Email Professionnel",
      "emailPlaceholder": "nom@entreprise.com",
      "type": "Type de Projet",
      "types": {
        "pwa": "D√©veloppement PWA / App Web",
        "saas": "Plateforme SaaS",
        "api": "Int√©gration Syst√®me / API",
        "other": "Consulting / Autre"
      },
      "details": "D√©tails du Projet",
      "detailsPlaceholder": "D√©crivez bri√®vement vos objectifs, d√©lais estim√©s ou technologie actuelle...",
      "privacy": "J'ai lu et j'accepte la politique de confidentialit√©. Je comprends que mes donn√©es seront trait√©es pour g√©rer cette demande.",
      "submit": "Envoyer la Demande",
      "processing": "Traitement...",
      "sentTitle": "Demande Envoy√©e !",
      "sentDesc": "Nous avons bien re√ßu vos coordonn√©es. Notre √©quipe d'ing√©nierie examinera votre proposition et vous contactera sous peu.",
      "errors": {
        "required": "Veuillez remplir tous les champs obligatoires.",
        "generic": "Une erreur s'est produite lors de l'envoi du message. Veuillez r√©essayer."
      },
      "successMessage": "Message envoy√© avec succ√®s ! Nous vous contacterons bient√¥t."
    }
  },
  "blog": {
    "title": "Ing√©nierie & R√©flexion",
    "subtitle": "Articles sur le d√©veloppement logiciel, l'architecture syst√®me et la strat√©gie technologique.",
    "backToBlog": "Retour au Blog",
    "publishedOn": "Publi√© le",
    "minRead": "min de lecture",
    "interested": "Int√©ress√© par cette approche ?",
    "helpText": "Nous appliquons cette m√™me philosophie √† chaque projet que nous d√©veloppons.",
    "letsTalk": "Parlons de votre Projet",
    "noArticles": "Aucun article publi√© pour le moment."
  },
  "products": {
    "backToPortfolio": "Retour au Portfolio",
    "aboutProject": "√Ä propos du Projet",
    "related": "Projets Connexes",
    "technicalSheet": "Fiche Technique",
    "visitWebsite": "Visiter le Site",
    "inDevelopment": "En D√©veloppement",
    "techStack": "Stack Technique",
    "noCover": "Aucune image de couverture",
    "status": {
      "live": "En Production",
      "beta": "B√™ta Publique",
      "development": "En D√©veloppement",
      "concept": "Concept"
    }
  },
  "notFound": {
    "title": "404",
    "subtitle": "Page Non Trouv√©e",
    "description": "D√©sol√©, nous n'avons pas trouv√© la page que vous recherchez. Elle a peut-√™tre √©t√© d√©plac√©e ou supprim√©e."
  },
  "tools": {
    "vault": {
      "title": "Vault",
      "description": "Chiffrement AES-256 pour textes et fichiers. Z√©ro Connaissance, tout dans votre navigateur.",
      "seo": {
        "title": "Chiffrement de Texte et Fichiers en Ligne - OHCodex Vault",
        "description": "Outil gratuit de chiffrement AES-256 dans le navigateur. Prot√©gez vos documents, photos et vid√©os avant envoi. Confidentialit√© totale, sans serveurs."
      },
      "header": "OHCodex Vault",
      "subtitle": "Chiffrement AES-256 de grade militaire. Z√©ro Connaissance - Vos donn√©es ne quittent jamais votre navigateur.",
      "alert": "Tout le traitement se fait dans votre navigateur via Web Crypto API. Le mot de passe n'est jamais envoy√© √† aucun serveur.",
      "textTab": "Chiffrer Texte",
      "fileTab": "Chiffrer Fichiers",
      "textToEncrypt": "Texte √† Chiffrer",
      "textDecrypted": "Texte D√©chiffr√©",
      "encryptedText": "Texte Chiffr√© (Base64)",
      "encrypted": "Texte Chiffr√©",
      "password": "Mot de passe",
      "enterPassword": "Entrez un mot de passe s√©curis√©...",
      "encrypt": "Chiffrer",
      "decrypt": "D√©chiffrer",
      "encryptedSuccess": "Texte chiffr√© avec succ√®s",
      "readyToDecrypt": "Texte pr√™t √† √™tre d√©chiffr√©",
      "decryptedSuccess": "Texte d√©chiffr√© avec succ√®s",
      "fileAlert": "Les fichiers sont chiffr√©s avec la m√™me s√©curit√©. Le r√©sultat est t√©l√©charg√© avec l'extension .ohc",
      "encryptFile": "Chiffrer Fichier",
      "decryptFile": "D√©chiffrer Fichier .ohc",
      "encryptDesc": "Glissez un fichier ici ou cliquez pour s√©lectionner",
      "decryptDesc": "S√©lectionnez un fichier .ohc √† d√©chiffrer",
      "dragHere": "Glissez un fichier ici",
      "clickToSelect": "ou cliquez pour s√©lectionner",
      "size": "{size} MB",
      "encryptionPassword": "Mot de passe de chiffrement",
      "encryptAndDownload": "Chiffrer et T√©l√©charger",
      "decryptAndDownload": "D√©chiffrer et T√©l√©charger",
      "changeToDecrypt": "Passer au D√©chiffrement",
      "changeToEncrypt": "Passer au Chiffrement",
      "decryptFileButton": "D√©chiffrer Fichier",
      "encryptFileButton": "Chiffrer Fichier",
      "enterTextPassword": "Veuillez entrer le texte et le mot de passe",
      "enterEncrypted": "Veuillez entrer le texte chiffr√© et le mot de passe",
      "selectFilePassword": "Veuillez s√©lectionner un fichier et entrer le mot de passe",
      "selectOhcFile": "Veuillez s√©lectionner un fichier .ohc et entrer le mot de passe",
      "copied": "Copi√© dans le presse-papiers",
      "copyError": "Erreur lors de la copie",
      "encryptionError": "Erreur de chiffrement",
      "decryptionError": "Mot de passe incorrect ou donn√©es corrompues"
    },
    "image-optimizer": {
      "title": "Pixel Optimizer",
      "description": "Compresser, redimensionner et convertir HEIC/JPG en WebP par lots.",
      "seo": {
        "title": "Convertir HEIC en JPG et Optimiser Images - OHCodex",
        "description": "R√©duire le poids des photos, ajouter filigrane et convertir HEIC d'iPhone en JPG/WebP gratuitement. Traitement priv√© dans votre navigateur."
      },
      "header": "Pixel Optimizer",
      "subtitle": "Compresser, redimensionner et convertir des images (y compris HEIC) par lots. 100% dans le navigateur.",
      "settings": "Param√®tres",
      "outputFormat": "Format de sortie",
      "webp": "WebP (Recommand√©)",
      "jpeg": "JPEG",
      "png": "PNG",
      "quality": "Qualit√©",
      "resize": "Redimensionner",
      "maxWidth": "Largeur max",
      "maxWidthValue": "{maxWidth}px",
      "privacyAlert": "M√©tadonn√©es EXIF supprim√©es automatiquement pour plus de confidentialit√©",
      "processAll": "Tout Traiter",
      "processing": "Traitement...",
      "dragImages": "Glissez les images ici",
      "clickToSelect": "ou cliquez pour s√©lectionner",
      "imagesSelected": "{count} images s√©lectionn√©es",
      "results": "R√©sultats",
      "size": "{size}",
      "download": "T√©l√©charger",
      "processedSuccess": "{count} images trait√©es",
      "processingError": "Erreur lors du traitement des images"
    },
    "pdf-studio": {
      "title": "PDF Studio",
      "description": "Fusionner, diviser, signer et compresser des PDF dans une interface professionnelle.",
      "seo": {
        "title": "√âditeur PDF en Ligne : Fusionner, Signer et Compresser - OHCodex PDF Studio",
        "description": "Outil gratuit pour g√©rer les PDF. Organisez les pages, signez num√©riquement et r√©duisez la taille. Sans inscription et s√©curis√©."
      },
      "header": "PDF Studio",
      "subtitle": "Fusionner, faire pivoter et organiser des PDF directement dans votre navigateur.",
      "infoAlert": "Ceci est la version de base. Pour des fonctions avanc√©es comme la compression et la signature, une impl√©mentation suppl√©mentaire est requise.",
      "dragPdfs": "Glissez les PDF ici",
      "dropzoneSubtitle": "Ou cliquez pour s√©lectionner. Traitement local 100% priv√©.",
      "privacyAlert": "Vos documents ne sont jamais envoy√©s sur un serveur. La fusion et la signature se font dans votre navigateur.",
      "documents": "Documents",
      "pdfsSelected": "{count} PDF s√©lectionn√©s",
      "filesAdded": "{count} fichiers ajout√©s",
      "mergeAll": "Fusionner Tous les PDF",
      "merging": "Fusion en cours...",
      "page": "Page {page}",
      "rotate": "Pivoter",
      "remove": "Supprimer",
      "mergePdf": "Fusionner PDF",
      "mergeSuccess": "PDF fusionn√©s avec succ√®s",
      "mergeError": "Erreur lors de la fusion des PDF",
      "rotateSuccess": "Page pivot√©e",
      "rotateError": "Erreur lors de la rotation de la page",
      "downloadError": "Erreur lors du t√©l√©chargement",
      "needTwoPdfs": "S√©lectionnez au moins 2 PDF √† fusionner",
      "signed": "Sign√©",
      "sign": "Signer",
      "addMore": "Ajouter un autre PDF",
      "signature": {
        "title": "Signature Num√©rique",
        "drawSignature": "Dessiner Signature",
        "clear": "Effacer",
        "save": "Enregistrer",
        "canvasPlaceholder": "Dessinez votre signature ici",
        "upload": "Uploader Image"
      },
      "signatureSaved": "Signature enregistr√©e"
    },
    "data-station": {
      "title": "Data Station",
      "description": "Formater JSON, convertir CSV/XML, valider SQL et comparer du code diff.",
      "seo": {
        "title": "Formateur JSON, Convertisseur CSV et SQL en Ligne - OHCodex Data Station",
        "description": "Valider JSON, convertir CSV en JSON, formater SQL et comparer du code. Outils pour d√©veloppeurs gratuits, priv√©s et sans serveur."
      },
      "header": "Data Station",
      "subtitle": "Formatez, validez et convertissez des donn√©es directement dans votre navigateur.",
      "json": "JSON",
      "converter": "Convertisseur",
      "sql": "SQL",
      "inputJson": "Entr√©e JSON",
      "spaces": "espaces",
      "format": "Formater",
      "minify": "Minifier",
      "validate": "Valider",
      "output": "Sortie",
      "inputData": "Donn√©es d'Entr√©e",
      "jsonToCsv": "JSON ‚Üí CSV",
      "csvToJson": "CSV ‚Üí JSON",
      "inputSql": "Entr√©e SQL",
      "formatSql": "Formater SQL",
      "formattedSql": "SQL Format√©",
      "jsonValid": "‚úì JSON Valide",
      "jsonInvalid": "‚úó Erreur : {error}",
      "convertedToCsv": "Converti en CSV",
      "convertedToJson": "Converti en JSON",
      "sqlFormatted": "SQL format√©",
      "jsonFormatted": "JSON format√©",
      "jsonMinified": "JSON minifi√©",
      "invalidJson": "JSON invalide",
      "conversionError": "Erreur de conversion",
      "formatError": "Erreur de formatage"
    },
    "qr-factory": {
      "title": "QR Factory",
      "description": "G√©n√©rer des QR personnalis√©s avec logo et codes-barres EAN-13, UPC.",
      "seo": {
        "title": "G√©n√©rateur de Code QR et Barres avec Logo (SVG/PNG) - OHCodex",
        "description": "Cr√©ez des QR personnalis√©s pour WiFi, VCard et WhatsApp. G√©n√©rateur de codes-barres EAN-13 et Code-128 pour inventaire. T√©l√©chargement vectoriel gratuit."
      },
      "header": "QR Factory",
      "subtitle": "G√©n√©rez des codes QR personnalis√©s et des codes-barres professionnellement.",
      "generator": "G√©n√©rateur QR",
      "barcode": "Code-barres",
      "scanner": "Scanner",
      "qrType": "Type de QR",
      "design": "Design & Couleurs",
      "foregroundColor": "Couleur Principale",
      "backgroundColor": "Couleur de Fond",
      "logo": "Logo",
      "uploadLogo": "Uploader Logo",
      "barcodeType": "Type de Code",
      "showText": "Afficher Texte",
      "height": "Hauteur",
      "uploadImage": "Uploader Image",
      "enterUrl": "Entrer l'URL...",
      "ssid": "Nom du R√©seau (SSID)",
      "wifiPassword": "Mot de Passe WiFi",
      "security": { "nopass": "Sans mot de passe" },
      "firstName": "Pr√©nom",
      "lastName": "Nom",
      "phone": "T√©l√©phone",
      "email": "Email",
      "whatsappNumber": "Num√©ro WhatsApp",
      "message": "Message (optionnel)",
      "enterCode": "Entrer le code...",
      "scanResult": "R√©sultat du Scan",
      "noCodeFound": "Aucun code d√©tect√©",
      "scanError": "Erreur de scan",
      "qrGenerated": "QR g√©n√©r√© avec succ√®s",
      "barcodeGenerated": "Code-barres g√©n√©r√© avec succ√®s"
    },
    "ocr-vision": {
      "title": "OCR Vision",
      "description": "Extraire du texte d'images et documents scann√©s. Technologie IA locale supportant plusieurs langues.",
      "seo": {
        "title": "OCR en Ligne Gratuit avec IA - Extraire Texte d'Image - OHCodex",
        "description": "Outil OCR gratuit pour convertir des images en texte √©ditable. Fonctionne dans votre navigateur avec IA (Tesseract). Supporte Espagnol, Anglais, Fran√ßais, etc."
      },
      "header": "OCR Vision",
      "subtitle": "Transformez instantan√©ment des images en texte √©ditable. Confidentialit√© totale : votre CNI ou factures ne quittent jamais votre appareil.",
      "sourceImage": "Image Source",
      "dragImage": "Glissez une image",
      "extractText": "Extraire Texte",
      "extracting": "Analyse...",
      "result": "Texte Extrait",
      "placeholder": "Le texte reconnu appara√Ætra ici pour √©dition...",
      "success": "Texte extrait avec succ√®s",
      "error": "Impossible de reconna√Ætre le texte"
    },
    "ui": {
      "ctaButton": "Parlons de votre Projet",
      "faqTitle": "Questions Fr√©quentes"
    }
  },
  "footer": {
    "description": "Outils de d√©veloppement et de productivit√© gratuits. Traitement c√¥t√© client pour une confidentialit√© maximale.",
    "tools": "Outils",
    "navigation": "Navigation",
    "contact": "Contact",
    "support": "Support Technique"
  },
  "crossSell": {
    "title": "Besoin d'un Logiciel sur Mesure ?",
    "description": "L'√©quipe OHCodex cr√©e des applications web et mobiles haute performance. Next.js, TypeScript, IA et architecture cloud-native.",
    "requestQuote": "Demander un Devis",
    "common": {
      "ultraFast": "Ultra Rapide",
      "secure": "S√©curis√©",
      "scalable": "√âvolutif"
    }
  }
}

// =============== FIN ARCHIVO [149]: src/messages/fr.json =============== //

// =============== INICIO ARCHIVO [150]: src/messages/it.json =============== //
{
  "common": {
    "tools": "Strumenti",
    "home": "Home",
    "visitStudio": "Visita lo Studio",
    "blog": "Blog",
    "aboutUs": "Chi Siamo",
    "contact": "Contatti",
    "products": "Prodotti",
    "methodology": "Metodologia",
    "madeWith": "Fatto con ‚ù§Ô∏è dal team di ingegneria OHCodex",
    "copyright": "Tutti i diritti riservati",
    "legal": {
      "legalNotice": "Note Legali",
      "privacy": "Privacy",
      "terms": "Termini"
    },
    "buttons": {
      "copy": "Copia",
      "download": "Scarica",
      "process": "Elabora",
      "clear": "Pulisci",
      "readArticle": "Leggi articolo",
      "backToHome": "Torna alla Home"
    }
  },
  "hero": {
    "badge": "Nuovo: Sezione Strumenti Disponibile",
    "title": "Architettura & Sviluppo Software",
    "subtitle": "Ingegneria per il futuro degli ecosistemi digitali.",
    "ctaProject": "Inizia Progetto",
    "ctaPortfolio": "Vedi Portfolio"
  },
  "home": {
    "hero": {
      "badge": "Nuovo: Sezione Strumenti Disponibile",
      "title": "Architettura & Sviluppo Software",
      "subtitle": "Ingegneria per il futuro degli ecosistemi digitali.",
      "ctaProject": "Inizia Progetto",
      "ctaPortfolio": "Vedi Portfolio"
    },
    "ourTools": {
      "title": "Suite di Ingegneria",
      "subtitle": "Strumenti potenti, privati e basati su browser per sviluppatori moderni.",
      "useTool": "Usa Strumento"
    }
  },
  "contactSection": {
    "title": "Inizia la tua Trasformazione Digitale",
    "subtitle": "Pronto a scalare? Parlaci della tua sfida tecnica. Analizzeremo il tuo caso e progetteremo l'architettura software di cui la tua azienda ha bisogno per crescere senza limiti.",
    "directContact": "Contatto Diretto",
    "response": "Risposta in < 24h lavorative",
    "operations": "Operazioni",
    "location": "Spagna (Remote First)",
    "global": "Servizio Globale",
    "form": {
      "name": "Nome",
      "namePlaceholder": "Il tuo nome completo",
      "email": "Email Aziendale",
      "emailPlaceholder": "nome@azienda.com",
      "type": "Tipo di Progetto",
      "types": {
        "pwa": "Sviluppo PWA / Web App",
        "saas": "Piattaforma SaaS",
        "api": "Integrazione Sistemi / API",
        "other": "Consulenza / Altro"
      },
      "details": "Dettagli del Progetto",
      "detailsPlaceholder": "Descrivi brevemente i tuoi obiettivi, le scadenze stimate o la tecnologia attuale...",
      "privacy": "Ho letto e accetto la politica sulla privacy. Comprendo che i miei dati saranno trattati per gestire questa richiesta.",
      "submit": "Invia Richiesta",
      "processing": "Elaborazione...",
      "sentTitle": "Richiesta Inviata!",
      "sentDesc": "Abbiamo ricevuto correttamente i tuoi dati. Il nostro team di ingegneria esaminer√† la tua proposta e ti contatter√† a breve.",
      "errors": {
        "required": "Per favore compila tutti i campi obbligatori.",
        "generic": "C'√® stato un errore nell'invio del messaggio. Riprova per favore."
      },
      "successMessage": "Messaggio inviato con successo! Ti contatteremo presto."
    }
  },
  "blog": {
    "title": "Ingegneria & Pensiero",
    "subtitle": "Articoli su sviluppo software, architettura di sistema e strategia tecnologica.",
    "backToBlog": "Torna al Blog",
    "publishedOn": "Pubblicato il",
    "minRead": "min di lettura",
    "interested": "Interessato a questo approccio?",
    "helpText": "Applichiamo questa stessa filosofia a ogni progetto che sviluppiamo.",
    "letsTalk": "Parliamo del tuo Progetto",
    "noArticles": "Nessun articolo pubblicato al momento."
  },
  "products": {
    "backToPortfolio": "Torna al Portfolio",
    "aboutProject": "Sul Progetto",
    "related": "Progetti Correlati",
    "technicalSheet": "Scheda Tecnica",
    "visitWebsite": "Visita il Sito",
    "inDevelopment": "In Sviluppo",
    "techStack": "Tech Stack",
    "noCover": "Nessuna immagine di copertina",
    "status": {
      "live": "In Produzione",
      "beta": "Beta Pubblica",
      "development": "In Sviluppo",
      "concept": "Concetto"
    }
  },
  "notFound": {
    "title": "404",
    "subtitle": "Pagina Non Trovata",
    "description": "Ci dispiace, non siamo riusciti a trovare la pagina che stai cercando. Potrebbe essere stata spostata o eliminata."
  },
  "tools": {
    "vault": {
      "title": "Vault",
      "description": "Crittografia AES-256 per testo e file. Zero-Knowledge, tutto nel tuo browser.",
      "seo": {
        "title": "Crittografare Testo e File Online - OHCodex Vault",
        "description": "Strumento gratuito di crittografia AES-256 nel browser. Proteggi documenti, foto e video prima di inviarli. Privacy totale, nessun server."
      },
      "header": "OHCodex Vault",
      "subtitle": "Crittografia AES-256 di grado militare. Zero-Knowledge - I tuoi dati non lasciano mai il tuo browser.",
      "alert": "Tutta l'elaborazione avviene nel tuo browser utilizzando l'API Web Crypto. La password non viene mai inviata a nessun server.",
      "textTab": "Crittografa Testo",
      "fileTab": "Crittografa File",
      "textToEncrypt": "Testo da Crittografare",
      "textDecrypted": "Testo Decrittografato",
      "encryptedText": "Testo Crittografato (Base64)",
      "encrypted": "Testo Crittografato",
      "password": "Password",
      "enterPassword": "Inserisci una password sicura...",
      "encrypt": "Crittografa",
      "decrypt": "Decrittografa",
      "encryptedSuccess": "Testo crittografato con successo",
      "readyToDecrypt": "Testo pronto per la decrittazione",
      "decryptedSuccess": "Testo decrittografato con successo",
      "fileAlert": "I file sono crittografati con la stessa sicurezza. Il risultato viene scaricato con estensione .ohc",
      "encryptFile": "Crittografa File",
      "decryptFile": "Decrittografa File .ohc",
      "encryptDesc": "Trascina un file qui o clicca per selezionare",
      "decryptDesc": "Seleziona un file .ohc da decrittografare",
      "dragHere": "Trascina un file qui",
      "clickToSelect": "o clicca per selezionare",
      "size": "{size} MB",
      "encryptionPassword": "Password di Crittografia",
      "encryptAndDownload": "Crittografa e Scarica",
      "decryptAndDownload": "Decrittografa e Scarica",
      "changeToDecrypt": "Passa a Decrittazione",
      "changeToEncrypt": "Passa a Crittografia",
      "decryptFileButton": "Decrittografa File",
      "encryptFileButton": "Crittografa File",
      "enterTextPassword": "Per favore inserisci testo e password",
      "enterEncrypted": "Per favore inserisci il testo crittografato e la password",
      "selectFilePassword": "Per favore seleziona un file e inserisci la password",
      "selectOhcFile": "Per favore seleziona un file .ohc e inserisci la password",
      "copied": "Copiato negli appunti",
      "copyError": "Errore durante la copia",
      "encryptionError": "Errore di crittografia",
      "decryptionError": "Password errata o dati corrotti"
    },
    "image-optimizer": {
      "title": "Pixel Optimizer",
      "description": "Comprimi, ridimensiona e converti HEIC/JPG in WebP in batch.",
      "seo": {
        "title": "Convertire HEIC in JPG e Ottimizzare Immagini - OHCodex",
        "description": "Riduci il peso delle foto, aggiungi watermark e converti HEIC da iPhone a JPG/WebP gratuitamente. Elaborazione privata nel browser."
      },
      "header": "Pixel Optimizer",
      "subtitle": "Comprimi, ridimensiona e converti immagini (incluso HEIC) in batch. 100% nel browser.",
      "settings": "Impostazioni",
      "outputFormat": "Formato di output",
      "webp": "WebP (Consigliato)",
      "jpeg": "JPEG",
      "png": "PNG",
      "quality": "Qualit√†",
      "resize": "Ridimensiona",
      "maxWidth": "Larghezza Max",
      "maxWidthValue": "{maxWidth}px",
      "privacyAlert": "Metadati EXIF rimossi automaticamente per maggiore privacy",
      "processAll": "Elabora Tutto",
      "processing": "Elaborazione...",
      "dragImages": "Trascina le immagini qui",
      "clickToSelect": "o clicca per selezionare",
      "imagesSelected": "{count} immagini selezionate",
      "results": "Risultati",
      "size": "{size}",
      "download": "Scarica",
      "processedSuccess": "{count} immagini elaborate",
      "processingError": "Errore durante l'elaborazione delle immagini"
    },
    "pdf-studio": {
      "title": "PDF Studio",
      "description": "Unisci, dividi, firma e comprimi PDF in un'interfaccia professionale.",
      "seo": {
        "title": "Editor PDF Online: Unisci, Firma e Comprimi - OHCodex PDF Studio",
        "description": "Strumento gratuito per gestire i PDF. Organizza pagine, firma documenti digitalmente e riduci le dimensioni del file. Senza registrazione e sicuro."
      },
      "header": "PDF Studio",
      "subtitle": "Unisci, ruota e organizza PDF direttamente nel tuo browser.",
      "infoAlert": "Questa √® la versione base. Per funzioni avanzate come compressione e firma, √® richiesta un'implementazione aggiuntiva.",
      "dragPdfs": "Trascina i PDF qui",
      "dropzoneSubtitle": "O clicca per selezionare. Elaborazione locale privata al 100%.",
      "privacyAlert": "I tuoi documenti non vengono mai caricati su nessun server. L'unione e la firma avvengono nel tuo browser.",
      "documents": "Documenti",
      "pdfsSelected": "{count} PDF selezionati",
      "filesAdded": "{count} file aggiunti",
      "mergeAll": "Unisci Tutti i PDF",
      "merging": "Unione in corso...",
      "page": "Pagina {page}",
      "rotate": "Ruota",
      "remove": "Rimuovi",
      "mergePdf": "Unisci PDF",
      "mergeSuccess": "PDF uniti con successo",
      "mergeError": "Errore durante l'unione dei PDF",
      "rotateSuccess": "Pagina ruotata",
      "rotateError": "Errore durante la rotazione della pagina",
      "downloadError": "Errore durante il download",
      "needTwoPdfs": "Seleziona almeno 2 PDF da unire",
      "signed": "Firmato",
      "sign": "Firma",
      "addMore": "Aggiungi altro PDF",
      "signature": {
        "title": "Firma Digitale",
        "drawSignature": "Disegna Firma",
        "clear": "Pulisci",
        "save": "Salva Firma",
        "canvasPlaceholder": "Disegna qui la tua firma",
        "upload": "Carica Immagine"
      },
      "signatureSaved": "Firma salvata"
    },
    "data-station": {
      "title": "Data Station",
      "description": "Formatta JSON, converti CSV/XML, valida SQL e confronta codice diff.",
      "seo": {
        "title": "Formattatore JSON, Convertitore CSV e SQL Online - OHCodex Data Station",
        "description": "Valida JSON, converti CSV in JSON, formatta SQL e confronta codice. Strumenti per sviluppatori gratuiti, privati e serverless."
      },
      "header": "Data Station",
      "subtitle": "Formatta, valida e converti dati direttamente nel tuo browser.",
      "json": "JSON",
      "converter": "Convertitore",
      "sql": "SQL",
      "inputJson": "Input JSON",
      "spaces": "spazi",
      "format": "Formatta",
      "minify": "Minifica",
      "validate": "Valida",
      "output": "Output",
      "inputData": "Dati di Input",
      "jsonToCsv": "JSON ‚Üí CSV",
      "csvToJson": "CSV ‚Üí JSON",
      "inputSql": "Input SQL",
      "formatSql": "Formatta SQL",
      "formattedSql": "SQL Formattato",
      "jsonValid": "‚úì JSON Valido",
      "jsonInvalid": "‚úó Errore: {error}",
      "convertedToCsv": "Convertito in CSV",
      "convertedToJson": "Convertito in JSON",
      "sqlFormatted": "SQL formattato",
      "jsonFormatted": "JSON formattato",
      "jsonMinified": "JSON minificato",
      "invalidJson": "JSON non valido",
      "conversionError": "Errore di conversione",
      "formatError": "Errore di formattazione"
    },
    "qr-factory": {
      "title": "QR Factory",
      "description": "Genera QR personalizzati con logo e codici a barre EAN-13, UPC.",
      "seo": {
        "title": "Generatore di Codici QR e Barre con Logo (SVG/PNG) - OHCodex",
        "description": "Crea QR personalizzati per WiFi, VCard e WhatsApp. Generatore di codici a barre EAN-13 e Code-128 per inventario. Download vettoriale gratuito."
      },
      "header": "QR Factory",
      "subtitle": "Genera codici QR personalizzati e codici a barre professionalmente.",
      "generator": "Generatore QR",
      "barcode": "Codice a Barre",
      "scanner": "Scanner",
      "qrType": "Tipo di QR",
      "design": "Design & Colori",
      "foregroundColor": "Colore Principale",
      "backgroundColor": "Colore di Sfondo",
      "logo": "Logo",
      "uploadLogo": "Carica Logo",
      "barcodeType": "Tipo di Codice",
      "showText": "Mostra Testo",
      "height": "Altezza",
      "uploadImage": "Carica Immagine",
      "enterUrl": "Inserisci URL...",
      "ssid": "Nome Rete (SSID)",
      "wifiPassword": "Password WiFi",
      "security": { "nopass": "Nessuna password" },
      "firstName": "Nome",
      "lastName": "Cognome",
      "phone": "Telefono",
      "email": "Email",
      "whatsappNumber": "Numero WhatsApp",
      "message": "Messaggio (opzionale)",
      "enterCode": "Inserisci il codice...",
      "scanResult": "Risultato Scansione",
      "noCodeFound": "Nessun codice rilevato",
      "scanError": "Errore di scansione",
      "qrGenerated": "QR generato con successo",
      "barcodeGenerated": "Codice a barre generato con successo"
    },
    "ocr-vision": {
      "title": "OCR Vision",
      "description": "Estrai testo da immagini e documenti scansionati. Tecnologia IA locale che supporta pi√π lingue.",
      "seo": {
        "title": "OCR Online Gratuito con IA - Estrai Testo da Immagine - OHCodex",
        "description": "Strumento OCR gratuito per convertire immagini in testo modificabile. Funziona nel tuo browser con IA (Tesseract). Supporta Italiano, Inglese, Spagnolo, ecc."
      },
      "header": "OCR Vision",
      "subtitle": "Trasforma istantaneamente le immagini in testo modificabile. Privacy totale: la tua carta d'identit√† o fatture non lasciano mai il tuo dispositivo.",
      "sourceImage": "Immagine Sorgente",
      "dragImage": "Trascina un'immagine",
      "extractText": "Estrai Testo",
      "extracting": "Analisi...",
      "result": "Testo Estratto",
      "placeholder": "Il testo riconosciuto apparir√† qui per la modifica...",
      "success": "Testo estratto con successo",
      "error": "Impossibile riconoscere il testo"
    },
    "ui": {
      "ctaButton": "Parliamo del tuo Progetto",
      "faqTitle": "Domande Frequenti"
    }
  },
  "footer": {
    "description": "Strumenti gratuiti per sviluppatori e produttivit√†. Elaborazione client-side per la massima privacy.",
    "tools": "Strumenti",
    "navigation": "Navigazione",
    "contact": "Contatti",
    "support": "Supporto Tecnico"
  },
  "crossSell": {
    "title": "Hai bisogno di Software su Misura?",
    "description": "Il team OHCodex crea applicazioni web e mobili ad alte prestazioni. Next.js, TypeScript, IA e architettura cloud-native.",
    "requestQuote": "Richiedi Preventivo",
    "common": {
      "ultraFast": "Ultra Veloce",
      "secure": "Sicuro",
      "scalable": "Scalabile"
    }
  }
}

// =============== FIN ARCHIVO [150]: src/messages/it.json =============== //

// =============== INICIO ARCHIVO [151]: src/messages/pt.json =============== //
{
  "common": {
    "tools": "Ferramentas",
    "home": "In√≠cio",
    "visitStudio": "Visitar Est√∫dio",
    "blog": "Blog",
    "aboutUs": "Sobre N√≥s",
    "contact": "Contato",
    "products": "Produtos",
    "methodology": "Metodologia",
    "madeWith": "Feito com ‚ù§Ô∏è pela equipe de engenharia da OHCodex",
    "copyright": "Todos os direitos reservados",
    "legal": {
      "legalNotice": "Aviso Legal",
      "privacy": "Privacidade",
      "terms": "Termos"
    },
    "buttons": {
      "copy": "Copiar",
      "download": "Baixar",
      "process": "Processar",
      "clear": "Limpar",
      "readArticle": "Ler artigo",
      "backToHome": "Voltar ao In√≠cio"
    }
  },
  "hero": {
    "badge": "Novo: Se√ß√£o de Ferramentas Dispon√≠vel",
    "title": "Arquitetura e Desenvolvimento de Software",
    "subtitle": "Engenharia para o futuro dos ecossistemas digitais.",
    "ctaProject": "Iniciar Projeto",
    "ctaPortfolio": "Ver Portf√≥lio"
  },
  "home": {
    "hero": {
      "badge": "Novo: Se√ß√£o de Ferramentas Dispon√≠vel",
      "title": "Arquitetura e Desenvolvimento de Software",
      "subtitle": "Engenharia para o futuro dos ecossistemas digitais.",
      "ctaProject": "Iniciar Projeto",
      "ctaPortfolio": "Ver Portf√≥lio"
    },
    "ourTools": {
      "title": "Suite de Engenharia",
      "subtitle": "Ferramentas poderosas, privadas e baseadas no navegador para desenvolvedores modernos.",
      "useTool": "Usar Ferramenta"
    }
  },
  "contactSection": {
    "title": "Inicie sua Transforma√ß√£o Digital",
    "subtitle": "Pronto para escalar? Conte-nos sobre seu desafio t√©cnico. Analisaremos seu caso e desenharemos a arquitetura de software que sua empresa precisa para crescer sem limites.",
    "directContact": "Contato Direto",
    "response": "Resposta em < 24h √∫teis",
    "operations": "Opera√ß√µes",
    "location": "Espanha (Remote First)",
    "global": "Servi√ßo Global",
    "form": {
      "name": "Nome",
      "namePlaceholder": "Seu nome completo",
      "email": "E-mail Corporativo",
      "emailPlaceholder": "nome@empresa.com",
      "type": "Tipo de Projeto",
      "types": {
        "pwa": "Desenvolvimento PWA / Web App",
        "saas": "Plataforma SaaS",
        "api": "Integra√ß√£o de Sistemas / API",
        "other": "Consultoria / Outro"
      },
      "details": "Detalhes do Projeto",
      "detailsPlaceholder": "Descreva brevemente seus objetivos, prazos estimados ou tecnologia atual...",
      "privacy": "Li e aceito a pol√≠tica de privacidade. Entendo que meus dados ser√£o processados para gerenciar esta solicita√ß√£o.",
      "submit": "Enviar Solicita√ß√£o",
      "processing": "Processando...",
      "sentTitle": "Solicita√ß√£o Enviada!",
      "sentDesc": "Recebemos seus dados corretamente. Nossa equipe de engenharia revisar√° sua proposta e entrar√° em contato em breve.",
      "errors": {
        "required": "Por favor, preencha todos os campos obrigat√≥rios.",
        "generic": "Ocorreu um erro ao enviar a mensagem. Por favor, tente novamente."
      },
      "successMessage": "Mensagem enviada com sucesso! Entraremos em contato em breve."
    }
  },
  "blog": {
    "title": "Engenharia e Pensamento",
    "subtitle": "Artigos sobre desenvolvimento de software, arquitetura de sistemas e estrat√©gia tecnol√≥gica.",
    "backToBlog": "Voltar ao Blog",
    "publishedOn": "Publicado em",
    "minRead": "min de leitura",
    "interested": "Interessado nesta abordagem?",
    "helpText": "Aplicamos essa mesma filosofia em cada projeto que desenvolvemos.",
    "letsTalk": "Vamos falar sobre seu Projeto",
    "noArticles": "Nenhum artigo publicado ainda."
  },
  "products": {
    "backToPortfolio": "Voltar ao Portf√≥lio",
    "aboutProject": "Sobre o Projeto",
    "related": "Projetos Relacionados",
    "technicalSheet": "Ficha T√©cnica",
    "visitWebsite": "Visitar Site",
    "inDevelopment": "Em Desenvolvimento",
    "techStack": "Tech Stack",
    "noCover": "Sem imagem de capa",
    "status": {
      "live": "Em Produ√ß√£o",
      "beta": "Beta P√∫blico",
      "development": "Em Desenvolvimento",
      "concept": "Conceito"
    }
  },
  "notFound": {
    "title": "404",
    "subtitle": "P√°gina N√£o Encontrada",
    "description": "Desculpe, n√£o conseguimos encontrar a p√°gina que voc√™ est√° procurando. Ela pode ter sido movida ou exclu√≠da."
  },
  "tools": {
    "vault": {
      "title": "Vault",
      "description": "Criptografia AES-256 para texto e arquivos. Conhecimento Zero, tudo no seu navegador.",
      "seo": {
        "title": "Criptografar Texto e Arquivos Online - OHCodex Vault",
        "description": "Ferramenta gratuita de criptografia AES-256 no navegador. Proteja seus documentos, fotos e v√≠deos antes de enviar. Privacidade total, sem servidores."
      },
      "header": "OHCodex Vault",
      "subtitle": "Criptografia AES-256 de n√≠vel militar. Conhecimento Zero - Seus dados nunca saem do seu navegador.",
      "alert": "Todo o processamento ocorre no seu navegador usando a Web Crypto API. A senha nunca √© enviada para nenhum servidor.",
      "textTab": "Criptografar Texto",
      "fileTab": "Criptografar Arquivos",
      "textToEncrypt": "Texto para Criptografar",
      "textDecrypted": "Texto Descriptografado",
      "encryptedText": "Texto Criptografado (Base64)",
      "encrypted": "Texto Criptografado",
      "password": "Senha",
      "enterPassword": "Digite uma senha segura...",
      "encrypt": "Criptografar",
      "decrypt": "Descriptografar",
      "encryptedSuccess": "Texto criptografado com sucesso",
      "readyToDecrypt": "Texto pronto para descriptografar",
      "decryptedSuccess": "Texto descriptografado com sucesso",
      "fileAlert": "Os arquivos s√£o criptografados com a mesma seguran√ßa. O resultado √© baixado com a extens√£o .ohc",
      "encryptFile": "Criptografar Arquivo",
      "decryptFile": "Descriptografar Arquivo .ohc",
      "encryptDesc": "Arraste um arquivo aqui ou clique para selecionar",
      "decryptDesc": "Selecione um arquivo .ohc para descriptografar",
      "dragHere": "Arraste um arquivo aqui",
      "clickToSelect": "ou clique para selecionar",
      "size": "{size} MB",
      "encryptionPassword": "Senha de Criptografia",
      "encryptAndDownload": "Criptografar e Baixar",
      "decryptAndDownload": "Descriptografar e Baixar",
      "changeToDecrypt": "Mudar para Descriptografar",
      "changeToEncrypt": "Mudar para Criptografar",
      "decryptFileButton": "Descriptografar Arquivo",
      "encryptFileButton": "Criptografar Arquivo",
      "enterTextPassword": "Por favor, digite o texto e a senha",
      "enterEncrypted": "Por favor, digite o texto criptografado e a senha",
      "selectFilePassword": "Por favor, selecione um arquivo e digite a senha",
      "selectOhcFile": "Por favor, selecione um arquivo .ohc e digite a senha",
      "copied": "Copiado para a √°rea de transfer√™ncia",
      "copyError": "Erro ao copiar",
      "encryptionError": "Erro de criptografia",
      "decryptionError": "Senha incorreta ou dados corrompidos"
    },
    "image-optimizer": {
      "title": "Pixel Optimizer",
      "description": "Comprimir, redimensionar e converter HEIC/JPG para WebP em lote.",
      "seo": {
        "title": "Converter HEIC para JPG e Otimizar Imagens - OHCodex",
        "description": "Reduza o peso das fotos, adicione marca d'√°gua e converta HEIC do iPhone para JPG/WebP gratuitamente. Processamento privado no navegador."
      },
      "header": "Pixel Optimizer",
      "subtitle": "Comprima, redimensione e converta imagens (incluindo HEIC) em lote. 100% no navegador.",
      "settings": "Configura√ß√µes",
      "outputFormat": "Formato de sa√≠da",
      "webp": "WebP (Recomendado)",
      "jpeg": "JPEG",
      "png": "PNG",
      "quality": "Qualidade",
      "resize": "Redimensionar",
      "maxWidth": "Largura M√°xima",
      "maxWidthValue": "{maxWidth}px",
      "privacyAlert": "Metadados EXIF removidos automaticamente para maior privacidade",
      "processAll": "Processar Tudo",
      "processing": "Processando...",
      "dragImages": "Arraste as imagens aqui",
      "clickToSelect": "ou clique para selecionar",
      "imagesSelected": "{count} imagens selecionadas",
      "results": "Resultados",
      "size": "{size}",
      "download": "Baixar",
      "processedSuccess": "{count} imagens processadas",
      "processingError": "Erro ao processar imagens"
    },
    "pdf-studio": {
      "title": "PDF Studio",
      "description": "Mesclar, dividir, assinar e comprimir PDFs em uma interface profissional.",
      "seo": {
        "title": "Editor de PDF Online: Mesclar, Assinar e Comprimir - OHCodex PDF Studio",
        "description": "Ferramenta gratuita para gerenciar PDFs. Organize p√°ginas, assine documentos digitalmente e reduza o tamanho do arquivo. Sem cadastro e seguro."
      },
      "header": "PDF Studio",
      "subtitle": "Mesclar, girar e organizar PDFs diretamente no seu navegador.",
      "infoAlert": "Esta √© a vers√£o b√°sica. Para recursos avan√ßados como compress√£o e assinatura, √© necess√°ria implementa√ß√£o adicional.",
      "dragPdfs": "Arraste os PDFs aqui",
      "dropzoneSubtitle": "Ou clique para selecionar. Processamento local 100% privado.",
      "privacyAlert": "Seus documentos nunca s√£o enviados para nenhum servidor. A fus√£o e assinatura acontecem no seu navegador.",
      "documents": "Documentos",
      "pdfsSelected": "{count} PDFs selecionados",
      "filesAdded": "{count} arquivos adicionados",
      "mergeAll": "Mesclar Todos os PDFs",
      "merging": "Mesclando...",
      "page": "P√°gina {page}",
      "rotate": "Girar",
      "remove": "Remover",
      "mergePdf": "Mesclar PDF",
      "mergeSuccess": "PDFs mesclados com sucesso",
      "mergeError": "Erro ao mesclar PDFs",
      "rotateSuccess": "P√°gina girada",
      "rotateError": "Erro ao girar p√°gina",
      "downloadError": "Erro ao baixar",
      "needTwoPdfs": "Selecione pelo menos 2 PDFs para mesclar",
      "signed": "Assinado",
      "sign": "Assinar",
      "addMore": "Adicionar outro PDF",
      "signature": {
        "title": "Assinatura Digital",
        "drawSignature": "Desenhar Assinatura",
        "clear": "Limpar",
        "save": "Salvar Assinatura",
        "canvasPlaceholder": "Desenhe sua assinatura aqui",
        "upload": "Enviar Imagem"
      },
      "signatureSaved": "Assinatura salva"
    },
    "data-station": {
      "title": "Data Station",
      "description": "Formatar JSON, converter CSV/XML, validar SQL e comparar c√≥digo diff.",
      "seo": {
        "title": "Formatador JSON, Conversor CSV e SQL Online - OHCodex Data Station",
        "description": "Valide JSON, converta CSV para JSON, formate SQL e compare c√≥digo. Ferramentas para desenvolvedores gratuitas, privadas e serverless."
      },
      "header": "Data Station",
      "subtitle": "Formate, valide e converta dados diretamente no seu navegador.",
      "json": "JSON",
      "converter": "Conversor",
      "sql": "SQL",
      "inputJson": "Entrada JSON",
      "spaces": "espa√ßos",
      "format": "Formatar",
      "minify": "Minificar",
      "validate": "Validar",
      "output": "Sa√≠da",
      "inputData": "Dados de Entrada",
      "jsonToCsv": "JSON ‚Üí CSV",
      "csvToJson": "CSV ‚Üí JSON",
      "inputSql": "Entrada SQL",
      "formatSql": "Formatar SQL",
      "formattedSql": "SQL Formatado",
      "jsonValid": "‚úì JSON V√°lido",
      "jsonInvalid": "‚úó Erro: {error}",
      "convertedToCsv": "Convertido para CSV",
      "convertedToJson": "Convertido para JSON",
      "sqlFormatted": "SQL formatado",
      "jsonFormatted": "JSON formatado",
      "jsonMinified": "JSON minificado",
      "invalidJson": "JSON inv√°lido",
      "conversionError": "Erro de convers√£o",
      "formatError": "Erro de formata√ß√£o"
    },
    "qr-factory": {
      "title": "QR Factory",
      "description": "Gerar QRs personalizados com logo e c√≥digos de barras EAN-13, UPC.",
      "seo": {
        "title": "Gerador de C√≥digo QR e Barras com Logo (SVG/PNG) - OHCodex",
        "description": "Crie QRs personalizados para Wi-Fi, VCard e WhatsApp. Gerador de c√≥digo de barras EAN-13 e Code-128 para invent√°rio. Download vetorial gratuito."
      },
      "header": "QR Factory",
      "subtitle": "Gere c√≥digos QR personalizados e c√≥digos de barras profissionalmente.",
      "generator": "Gerador QR",
      "barcode": "C√≥digo de Barras",
      "scanner": "Scanner",
      "qrType": "Tipo de QR",
      "design": "Design e Cores",
      "foregroundColor": "Cor Principal",
      "backgroundColor": "Cor de Fundo",
      "logo": "Logo",
      "uploadLogo": "Enviar Logo",
      "barcodeType": "Tipo de C√≥digo",
      "showText": "Mostrar Texto",
      "height": "Altura",
      "uploadImage": "Enviar Imagem",
      "enterUrl": "Digite a URL...",
      "ssid": "Nome da Rede (SSID)",
      "wifiPassword": "Senha do Wi-Fi",
      "security": { "nopass": "Sem senha" },
      "firstName": "Nome",
      "lastName": "Sobrenome",
      "phone": "Telefone",
      "email": "E-mail",
      "whatsappNumber": "N√∫mero WhatsApp",
      "message": "Mensagem (opcional)",
      "enterCode": "Digite o c√≥digo...",
      "scanResult": "Resultado do Scan",
      "noCodeFound": "Nenhum c√≥digo detectado",
      "scanError": "Erro ao escanear",
      "qrGenerated": "QR gerado com sucesso",
      "barcodeGenerated": "C√≥digo de barras gerado com sucesso"
    },
    "ocr-vision": {
      "title": "OCR Vision",
      "description": "Extrair texto de imagens e documentos digitalizados. Tecnologia de IA local com suporte a v√°rios idiomas.",
      "seo": {
        "title": "OCR Online Gratuito com IA - Extrair Texto de Imagem - OHCodex",
        "description": "Ferramenta OCR gratuita para converter imagens em texto edit√°vel. Funciona no seu navegador com IA (Tesseract). Suporta Portugu√™s, Ingl√™s, Espanhol, etc."
      },
      "header": "OCR Vision",
      "subtitle": "Transforme imagens em texto edit√°vel instantaneamente. Privacidade total: seu RG ou faturas nunca saem do seu dispositivo.",
      "sourceImage": "Imagem de Origem",
      "dragImage": "Arraste uma imagem",
      "extractText": "Extrair Texto",
      "extracting": "Analisando...",
      "result": "Texto Extra√≠do",
      "placeholder": "O texto reconhecido aparecer√° aqui para edi√ß√£o...",
      "success": "Texto extra√≠do com sucesso",
      "error": "N√£o foi poss√≠vel reconhecer o texto"
    },
    "ui": {
      "ctaButton": "Vamos falar sobre seu Projeto",
      "faqTitle": "Perguntas Frequentes"
    }
  },
  "footer": {
    "description": "Ferramentas gratuitas de desenvolvimento e produtividade. Processamento no lado do cliente para m√°xima privacidade.",
    "tools": "Ferramentas",
    "navigation": "Navega√ß√£o",
    "contact": "Contato",
    "support": "Suporte T√©cnico"
  },
  "crossSell": {
    "title": "Precisa de Software Sob Medida?",
    "description": "A equipe OHCodex cria aplicativos web e m√≥veis de alto desempenho. Next.js, TypeScript, IA e arquitetura cloud-native.",
    "requestQuote": "Solicitar Or√ßamento",
    "common": {
      "ultraFast": "Ultra R√°pido",
      "secure": "Seguro",
      "scalable": "Escal√°vel"
    }
  }
}

// =============== FIN ARCHIVO [151]: src/messages/pt.json =============== //

// =============== INICIO ARCHIVO [152]: src/middleware.ts =============== //
import createMiddleware from 'next-intl/middleware';
import { routing } from '@/i18n/routing';

export default createMiddleware(routing);

export const config = {
  matcher: [
    // Ignorar rutas internas de Payload (api, admin), Next.js (_next) y archivos est√°ticos
    '/((?!api|admin|_next|static|.*\\..*).*)'
  ]
};

// =============== FIN ARCHIVO [152]: src/middleware.ts =============== //

// =============== INICIO ARCHIVO [153]: src/payload-types.ts =============== //
/* tslint:disable */
/* eslint-disable */
/**
 * This file was automatically generated by Payload.
 * DO NOT MODIFY IT BY HAND. Instead, modify your source Payload config,
 * and re-run `payload generate:types` to regenerate this file.
 */

export interface Config {
  auth: {
    users: UserAuthOperations;
  };
  collections: {
    users: User;
    media: Media;
    products: Product;
    'contact-submissions': ContactSubmission;
    posts: Post;
    categories: Category;
    analytics: Analytics;
    tools: Tool;
    'payload-locked-documents': PayloadLockedDocument;
    'payload-preferences': PayloadPreference;
    'payload-migrations': PayloadMigration;
  };
  collectionsJoins: {};
  collectionsSelect: {
    users: UsersSelect<false> | UsersSelect<true>;
    media: MediaSelect<false> | MediaSelect<true>;
    products: ProductsSelect<false> | ProductsSelect<true>;
    'contact-submissions': ContactSubmissionsSelect<false> | ContactSubmissionsSelect<true>;
    posts: PostsSelect<false> | PostsSelect<true>;
    categories: CategoriesSelect<false> | CategoriesSelect<true>;
    analytics: AnalyticsSelect<false> | AnalyticsSelect<true>;
    tools: ToolsSelect<false> | ToolsSelect<true>;
    'payload-locked-documents': PayloadLockedDocumentsSelect<false> | PayloadLockedDocumentsSelect<true>;
    'payload-preferences': PayloadPreferencesSelect<false> | PayloadPreferencesSelect<true>;
    'payload-migrations': PayloadMigrationsSelect<false> | PayloadMigrationsSelect<true>;
  };
  db: {
    defaultIDType: number;
  };
  globals: {
    'company-info': CompanyInfo;
    'legal-texts': LegalText;
    'landing-page': LandingPage;
    'email-settings': EmailSetting;
  };
  globalsSelect: {
    'company-info': CompanyInfoSelect<false> | CompanyInfoSelect<true>;
    'legal-texts': LegalTextsSelect<false> | LegalTextsSelect<true>;
    'landing-page': LandingPageSelect<false> | LandingPageSelect<true>;
    'email-settings': EmailSettingsSelect<false> | EmailSettingsSelect<true>;
  };
  locale: 'es' | 'en' | 'fr' | 'de' | 'it' | 'pt';
  user: User & {
    collection: 'users';
  };
  jobs: {
    tasks: unknown;
    workflows: unknown;
  };
}
export interface UserAuthOperations {
  forgotPassword: {
    email: string;
    password: string;
  };
  login: {
    email: string;
    password: string;
  };
  registerFirstUser: {
    email: string;
    password: string;
  };
  unlock: {
    email: string;
    password: string;
  };
}
/**
 * This interface was referenced by `Config`'s JSON-Schema
 * via the `definition` "users".
 */
export interface User {
  id: number;
  updatedAt: string;
  createdAt: string;
  email: string;
  resetPasswordToken?: string | null;
  resetPasswordExpiration?: string | null;
  salt?: string | null;
  hash?: string | null;
  loginAttempts?: number | null;
  lockUntil?: string | null;
  password?: string | null;
}
/**
 * This interface was referenced by `Config`'s JSON-Schema
 * via the `definition` "media".
 */
export interface Media {
  id: number;
  alt: string;
  publicId?: string | null;
  externalUrl?: string | null;
  updatedAt: string;
  createdAt: string;
  url?: string | null;
  thumbnailURL?: string | null;
  filename?: string | null;
  mimeType?: string | null;
  filesize?: number | null;
  width?: number | null;
  height?: number | null;
  focalX?: number | null;
  focalY?: number | null;
}
/**
 * This interface was referenced by `Config`'s JSON-Schema
 * via the `definition` "products".
 */
export interface Product {
  id: number;
  name: string;
  slug: string;
  order: number;
  status: 'concept' | 'development' | 'beta' | 'live';
  isFeatured?: boolean | null;
  shortDescription: string;
  description?: {
    root: {
      type: string;
      children: {
        type: string;
        version: number;
        [k: string]: unknown;
      }[];
      direction: ('ltr' | 'rtl') | null;
      format: 'left' | 'start' | 'center' | 'right' | 'end' | 'justify' | '';
      indent: number;
      version: number;
    };
    [k: string]: unknown;
  } | null;
  logo?: (number | null) | Media;
  heroImage?: (number | null) | Media;
  projectUrl?: string | null;
  technologies?:
    | {
        name?: string | null;
        id?: string | null;
      }[]
    | null;
  metaTitle?: string | null;
  metaDescription?: string | null;
  relatedProducts?: (number | Product)[] | null;
  updatedAt: string;
  createdAt: string;
}
/**
 * This interface was referenced by `Config`'s JSON-Schema
 * via the `definition` "contact-submissions".
 */
export interface ContactSubmission {
  id: number;
  isRead?: boolean | null;
  name: string;
  email: string;
  serviceType?: ('pwa' | 'saas' | 'api' | 'other') | null;
  message: string;
  privacyAccepted: boolean;
  updatedAt: string;
  createdAt: string;
}
/**
 * This interface was referenced by `Config`'s JSON-Schema
 * via the `definition` "posts".
 */
export interface Post {
  id: number;
  title: string;
  slug: string;
  publishedDate: string;
  author: number | User;
  category: number | Category;
  coverImage: number | Media;
  excerpt: string;
  content: {
    root: {
      type: string;
      children: {
        type: string;
        version: number;
        [k: string]: unknown;
      }[];
      direction: ('ltr' | 'rtl') | null;
      format: 'left' | 'start' | 'center' | 'right' | 'end' | 'justify' | '';
      indent: number;
      version: number;
    };
    [k: string]: unknown;
  };
  metaTitle?: string | null;
  metaDescription?: string | null;
  updatedAt: string;
  createdAt: string;
}
/**
 * This interface was referenced by `Config`'s JSON-Schema
 * via the `definition` "categories".
 */
export interface Category {
  id: number;
  name: string;
  slug?: string | null;
  updatedAt: string;
  createdAt: string;
}
/**
 * This interface was referenced by `Config`'s JSON-Schema
 * via the `definition` "analytics".
 */
export interface Analytics {
  id: number;
  timestamp: string;
  page?: string | null;
  country?: string | null;
  city?: string | null;
  device?: string | null;
  browser?: string | null;
  source?: string | null;
  companyName?: string | null;
  ipHash?: string | null;
  updatedAt: string;
  createdAt: string;
}
/**
 * This interface was referenced by `Config`'s JSON-Schema
 * via the `definition` "tools".
 */
export interface Tool {
  id: number;
  title: string;
  slug: string;
  codeKey: 'vault' | 'image-optimizer' | 'pdf-studio' | 'data-station' | 'qr-factory' | 'ocr-vision';
  badge?: string | null;
  icon?: ('lock' | 'image' | 'file-text' | 'database' | 'qr-code' | 'scan' | 'box') | null;
  shortDescription: string;
  steps: {
    stepTitle: string;
    stepDescription?: string | null;
    stepIcon?: ('upload' | 'settings' | 'zap' | 'download' | 'lock' | 'edit') | null;
    id?: string | null;
  }[];
  content?: {
    root: {
      type: string;
      children: {
        type: string;
        version: number;
        [k: string]: unknown;
      }[];
      direction: ('ltr' | 'rtl') | null;
      format: 'left' | 'start' | 'center' | 'right' | 'end' | 'justify' | '';
      indent: number;
      version: number;
    };
    [k: string]: unknown;
  } | null;
  faqs?:
    | {
        question?: string | null;
        answer?: string | null;
        id?: string | null;
      }[]
    | null;
  ctaTitle?: string | null;
  ctaDescription?: string | null;
  ctaLink?: string | null;
  metaTitle?: string | null;
  metaDescription?: string | null;
  updatedAt: string;
  createdAt: string;
}
/**
 * This interface was referenced by `Config`'s JSON-Schema
 * via the `definition` "payload-locked-documents".
 */
export interface PayloadLockedDocument {
  id: number;
  document?:
    | ({
        relationTo: 'users';
        value: number | User;
      } | null)
    | ({
        relationTo: 'media';
        value: number | Media;
      } | null)
    | ({
        relationTo: 'products';
        value: number | Product;
      } | null)
    | ({
        relationTo: 'contact-submissions';
        value: number | ContactSubmission;
      } | null)
    | ({
        relationTo: 'posts';
        value: number | Post;
      } | null)
    | ({
        relationTo: 'categories';
        value: number | Category;
      } | null)
    | ({
        relationTo: 'analytics';
        value: number | Analytics;
      } | null)
    | ({
        relationTo: 'tools';
        value: number | Tool;
      } | null);
  globalSlug?: string | null;
  user: {
    relationTo: 'users';
    value: number | User;
  };
  updatedAt: string;
  createdAt: string;
}
/**
 * This interface was referenced by `Config`'s JSON-Schema
 * via the `definition` "payload-preferences".
 */
export interface PayloadPreference {
  id: number;
  user: {
    relationTo: 'users';
    value: number | User;
  };
  key?: string | null;
  value?:
    | {
        [k: string]: unknown;
      }
    | unknown[]
    | string
    | number
    | boolean
    | null;
  updatedAt: string;
  createdAt: string;
}
/**
 * This interface was referenced by `Config`'s JSON-Schema
 * via the `definition` "payload-migrations".
 */
export interface PayloadMigration {
  id: number;
  name?: string | null;
  batch?: number | null;
  updatedAt: string;
  createdAt: string;
}
/**
 * This interface was referenced by `Config`'s JSON-Schema
 * via the `definition` "users_select".
 */
export interface UsersSelect<T extends boolean = true> {
  updatedAt?: T;
  createdAt?: T;
  email?: T;
  resetPasswordToken?: T;
  resetPasswordExpiration?: T;
  salt?: T;
  hash?: T;
  loginAttempts?: T;
  lockUntil?: T;
}
/**
 * This interface was referenced by `Config`'s JSON-Schema
 * via the `definition` "media_select".
 */
export interface MediaSelect<T extends boolean = true> {
  alt?: T;
  publicId?: T;
  externalUrl?: T;
  updatedAt?: T;
  createdAt?: T;
  url?: T;
  thumbnailURL?: T;
  filename?: T;
  mimeType?: T;
  filesize?: T;
  width?: T;
  height?: T;
  focalX?: T;
  focalY?: T;
}
/**
 * This interface was referenced by `Config`'s JSON-Schema
 * via the `definition` "products_select".
 */
export interface ProductsSelect<T extends boolean = true> {
  name?: T;
  slug?: T;
  order?: T;
  status?: T;
  isFeatured?: T;
  shortDescription?: T;
  description?: T;
  logo?: T;
  heroImage?: T;
  projectUrl?: T;
  technologies?:
    | T
    | {
        name?: T;
        id?: T;
      };
  metaTitle?: T;
  metaDescription?: T;
  relatedProducts?: T;
  updatedAt?: T;
  createdAt?: T;
}
/**
 * This interface was referenced by `Config`'s JSON-Schema
 * via the `definition` "contact-submissions_select".
 */
export interface ContactSubmissionsSelect<T extends boolean = true> {
  isRead?: T;
  name?: T;
  email?: T;
  serviceType?: T;
  message?: T;
  privacyAccepted?: T;
  updatedAt?: T;
  createdAt?: T;
}
/**
 * This interface was referenced by `Config`'s JSON-Schema
 * via the `definition` "posts_select".
 */
export interface PostsSelect<T extends boolean = true> {
  title?: T;
  slug?: T;
  publishedDate?: T;
  author?: T;
  category?: T;
  coverImage?: T;
  excerpt?: T;
  content?: T;
  metaTitle?: T;
  metaDescription?: T;
  updatedAt?: T;
  createdAt?: T;
}
/**
 * This interface was referenced by `Config`'s JSON-Schema
 * via the `definition` "categories_select".
 */
export interface CategoriesSelect<T extends boolean = true> {
  name?: T;
  slug?: T;
  updatedAt?: T;
  createdAt?: T;
}
/**
 * This interface was referenced by `Config`'s JSON-Schema
 * via the `definition` "analytics_select".
 */
export interface AnalyticsSelect<T extends boolean = true> {
  timestamp?: T;
  page?: T;
  country?: T;
  city?: T;
  device?: T;
  browser?: T;
  source?: T;
  companyName?: T;
  ipHash?: T;
  updatedAt?: T;
  createdAt?: T;
}
/**
 * This interface was referenced by `Config`'s JSON-Schema
 * via the `definition` "tools_select".
 */
export interface ToolsSelect<T extends boolean = true> {
  title?: T;
  slug?: T;
  codeKey?: T;
  badge?: T;
  icon?: T;
  shortDescription?: T;
  steps?:
    | T
    | {
        stepTitle?: T;
        stepDescription?: T;
        stepIcon?: T;
        id?: T;
      };
  content?: T;
  faqs?:
    | T
    | {
        question?: T;
        answer?: T;
        id?: T;
      };
  ctaTitle?: T;
  ctaDescription?: T;
  ctaLink?: T;
  metaTitle?: T;
  metaDescription?: T;
  updatedAt?: T;
  createdAt?: T;
}
/**
 * This interface was referenced by `Config`'s JSON-Schema
 * via the `definition` "payload-locked-documents_select".
 */
export interface PayloadLockedDocumentsSelect<T extends boolean = true> {
  document?: T;
  globalSlug?: T;
  user?: T;
  updatedAt?: T;
  createdAt?: T;
}
/**
 * This interface was referenced by `Config`'s JSON-Schema
 * via the `definition` "payload-preferences_select".
 */
export interface PayloadPreferencesSelect<T extends boolean = true> {
  user?: T;
  key?: T;
  value?: T;
  updatedAt?: T;
  createdAt?: T;
}
/**
 * This interface was referenced by `Config`'s JSON-Schema
 * via the `definition` "payload-migrations_select".
 */
export interface PayloadMigrationsSelect<T extends boolean = true> {
  name?: T;
  batch?: T;
  updatedAt?: T;
  createdAt?: T;
}
/**
 * This interface was referenced by `Config`'s JSON-Schema
 * via the `definition` "company-info".
 */
export interface CompanyInfo {
  id: number;
  logo?: (number | null) | Media;
  logoDark?: (number | null) | Media;
  tagline?: string | null;
  description?: string | null;
  defaultTitle: string;
  titleTemplate: string;
  defaultDescription: string;
  keywords?:
    | {
        keyword?: string | null;
        id?: string | null;
      }[]
    | null;
  contactEmail: string;
  phoneNumber?: string | null;
  address?: string | null;
  schedule?: string | null;
  linkedin?: string | null;
  github?: string | null;
  twitter?: string | null;
  updatedAt?: string | null;
  createdAt?: string | null;
}
/**
 * This interface was referenced by `Config`'s JSON-Schema
 * via the `definition` "legal-texts".
 */
export interface LegalText {
  id: number;
  legalNotice: {
    root: {
      type: string;
      children: {
        type: string;
        version: number;
        [k: string]: unknown;
      }[];
      direction: ('ltr' | 'rtl') | null;
      format: 'left' | 'start' | 'center' | 'right' | 'end' | 'justify' | '';
      indent: number;
      version: number;
    };
    [k: string]: unknown;
  };
  privacyPolicy: {
    root: {
      type: string;
      children: {
        type: string;
        version: number;
        [k: string]: unknown;
      }[];
      direction: ('ltr' | 'rtl') | null;
      format: 'left' | 'start' | 'center' | 'right' | 'end' | 'justify' | '';
      indent: number;
      version: number;
    };
    [k: string]: unknown;
  };
  termsConditions: {
    root: {
      type: string;
      children: {
        type: string;
        version: number;
        [k: string]: unknown;
      }[];
      direction: ('ltr' | 'rtl') | null;
      format: 'left' | 'start' | 'center' | 'right' | 'end' | 'justify' | '';
      indent: number;
      version: number;
    };
    [k: string]: unknown;
  };
  updatedAt?: string | null;
  createdAt?: string | null;
}
/**
 * This interface was referenced by `Config`'s JSON-Schema
 * via the `definition` "landing-page".
 */
export interface LandingPage {
  id: number;
  heroBadge?: string | null;
  heroTitle: string;
  heroSubtitle: string;
  trustBarTitle?: string | null;
  trustLogos?: (number | Media)[] | null;
  productsTitle?: string | null;
  productsDescription?: string | null;
  productsGridCols?: ('2' | '3' | '4') | null;
  productsAlign?: ('center' | 'left') | null;
  featuresTitle?: string | null;
  featuresDescription?: string | null;
  featuresAlign?: ('left' | 'center') | null;
  featuresList?:
    | {
        icon?: ('smartphone' | 'zap' | 'database' | 'shield' | 'code' | 'users' | 'rocket') | null;
        title: string;
        description: string;
        id?: string | null;
      }[]
    | null;
  testimonialsTitle?: string | null;
  testimonialsSubtitle?: string | null;
  testimonials?:
    | {
        authorName: string;
        authorRole: string;
        companyName: string;
        quote: string;
        authorImage?: (number | null) | Media;
        id?: string | null;
      }[]
    | null;
  faqTitle?: string | null;
  faqSubtitle?: string | null;
  faqs?:
    | {
        question: string;
        answer: string;
        id?: string | null;
      }[]
    | null;
  updatedAt?: string | null;
  createdAt?: string | null;
}
/**
 * This interface was referenced by `Config`'s JSON-Schema
 * via the `definition` "email-settings".
 */
export interface EmailSetting {
  id: number;
  smtpHost: string;
  smtpPort: number;
  smtpUser: string;
  smtpPass: string;
  fromName: string;
  fromEmail: string;
  toEmail: string;
  updatedAt?: string | null;
  createdAt?: string | null;
}
/**
 * This interface was referenced by `Config`'s JSON-Schema
 * via the `definition` "company-info_select".
 */
export interface CompanyInfoSelect<T extends boolean = true> {
  logo?: T;
  logoDark?: T;
  tagline?: T;
  description?: T;
  defaultTitle?: T;
  titleTemplate?: T;
  defaultDescription?: T;
  keywords?:
    | T
    | {
        keyword?: T;
        id?: T;
      };
  contactEmail?: T;
  phoneNumber?: T;
  address?: T;
  schedule?: T;
  linkedin?: T;
  github?: T;
  twitter?: T;
  updatedAt?: T;
  createdAt?: T;
  globalType?: T;
}
/**
 * This interface was referenced by `Config`'s JSON-Schema
 * via the `definition` "legal-texts_select".
 */
export interface LegalTextsSelect<T extends boolean = true> {
  legalNotice?: T;
  privacyPolicy?: T;
  termsConditions?: T;
  updatedAt?: T;
  createdAt?: T;
  globalType?: T;
}
/**
 * This interface was referenced by `Config`'s JSON-Schema
 * via the `definition` "landing-page_select".
 */
export interface LandingPageSelect<T extends boolean = true> {
  heroBadge?: T;
  heroTitle?: T;
  heroSubtitle?: T;
  trustBarTitle?: T;
  trustLogos?: T;
  productsTitle?: T;
  productsDescription?: T;
  productsGridCols?: T;
  productsAlign?: T;
  featuresTitle?: T;
  featuresDescription?: T;
  featuresAlign?: T;
  featuresList?:
    | T
    | {
        icon?: T;
        title?: T;
        description?: T;
        id?: T;
      };
  testimonialsTitle?: T;
  testimonialsSubtitle?: T;
  testimonials?:
    | T
    | {
        authorName?: T;
        authorRole?: T;
        companyName?: T;
        quote?: T;
        authorImage?: T;
        id?: T;
      };
  faqTitle?: T;
  faqSubtitle?: T;
  faqs?:
    | T
    | {
        question?: T;
        answer?: T;
        id?: T;
      };
  updatedAt?: T;
  createdAt?: T;
  globalType?: T;
}
/**
 * This interface was referenced by `Config`'s JSON-Schema
 * via the `definition` "email-settings_select".
 */
export interface EmailSettingsSelect<T extends boolean = true> {
  smtpHost?: T;
  smtpPort?: T;
  smtpUser?: T;
  smtpPass?: T;
  fromName?: T;
  fromEmail?: T;
  toEmail?: T;
  updatedAt?: T;
  createdAt?: T;
  globalType?: T;
}
/**
 * This interface was referenced by `Config`'s JSON-Schema
 * via the `definition` "auth".
 */
export interface Auth {
  [k: string]: unknown;
}


declare module 'payload' {
  export interface GeneratedTypes extends Config {}
}

// =============== FIN ARCHIVO [153]: src/payload-types.ts =============== //

// =============== INICIO ARCHIVO [154]: src/payload.config.ts =============== //
// =============== INICIO ARCHIVO: src/payload.config.ts =============== //
import { postgresAdapter } from '@payloadcms/db-postgres'
import { payloadCloudPlugin } from '@payloadcms/payload-cloud'
import { lexicalEditor } from '@payloadcms/richtext-lexical'
import path from 'path'
import { buildConfig } from 'payload'
import { fileURLToPath } from 'url'
import sharp from 'sharp'

// Importamos los idiomas para la Interfaz del Admin
import { es } from 'payload/i18n/es'
import { en } from 'payload/i18n/en'
import { fr } from 'payload/i18n/fr'
import { de } from 'payload/i18n/de'
import { it } from 'payload/i18n/it'
import { pt } from 'payload/i18n/pt'

// 1. Colecciones
import { Users } from './collections/Users'
import { Media } from './collections/Media'
import { Products } from './collections/Products'
import { ContactSubmissions } from './collections/ContactSubmissions'
import { Posts } from './collections/Posts'
import { Categories } from './collections/Categories'
import { Analytics } from './collections/Analytics'
import { Tools } from './collections/Tools'

// 2. Globales
import { Company } from './globals/Company'
import { Legal } from './globals/Legal'
import { Landing } from './globals/Landing'
import { EmailSettings } from './globals/EmailSettings'

const filename = fileURLToPath(import.meta.url)
const dirname = path.dirname(filename)

export default buildConfig({
  admin: {
    user: Users.slug,
    importMap: {
      baseDir: path.resolve(dirname),
    },
  },
  
  // 2. Configuraci√≥n de Localizaci√≥n de Contenido (Base de Datos)
  localization: {
    // A√±adimos todos los idiomas nuevos aqu√≠
    locales: ['es', 'en', 'fr', 'de', 'it', 'pt'],
    defaultLocale: 'es',
    fallback: true,
  },

  // 3. Configuraci√≥n de Idioma de la INTERFAZ (Admin Panel)
  i18n: {
    supportedLanguages: { es, en, fr, de, it, pt },
    fallbackLanguage: 'es',
  },

  collections: [
    Users, 
    Media, 
    Products, 
    ContactSubmissions,
    Posts,      
    Categories,
    Analytics,
    Tools, 
  ],
  globals: [
    Company, 
    Legal, 
    Landing, 
    EmailSettings
  ],
  
  editor: lexicalEditor(),
  secret: process.env.PAYLOAD_SECRET || '',
  typescript: {
    outputFile: path.resolve(dirname, 'payload-types.ts'),
  },
  db: postgresAdapter({
    pool: {
      connectionString: process.env.DATABASE_URI || '',
    },
  }),
  sharp,
  plugins: [
    payloadCloudPlugin(),
  ],
})
// =============== FIN ARCHIVO: src/payload.config.ts =============== //

// =============== FIN ARCHIVO [154]: src/payload.config.ts =============== //

// =============== INICIO ARCHIVO [155]: src/scripts/data/data-station-data.ts =============== //
import { ToolSeedData, createRichText } from './utils'

export const dataStationData: ToolSeedData = {
  slug: 'data-station',
  codeKey: 'data-station',
  icon: 'database',
  title: { 
    es: 'Data Station', 
    en: 'Data Station' 
  },
  badge: { 
    es: 'Para Desarrolladores', 
    en: 'Developer Essential' 
  },
  shortDescription: { 
    es: 'Validador, formateador y conversor de datos (JSON, SQL, CSV). Manipula datos sensibles de producci√≥n sin que salgan de tu red.', 
    en: 'Data validator, formatter, and converter (JSON, SQL, CSV). Handle sensitive production data without it leaving your network.' 
  },
  steps: {
    es: [
      { stepTitle: 'Pega tu C√≥digo', stepDescription: 'Aceptamos JSON sucio, CSV de Excel o consultas SQL complejas.', stepIcon: 'edit' },
      { stepTitle: 'Procesa', stepDescription: 'Formatea, minifica, valida o convierte entre formatos al instante.', stepIcon: 'zap' },
      { stepTitle: 'Copia el Resultado', stepDescription: 'Obt√©n c√≥digo limpio y libre de errores listo para producci√≥n.', stepIcon: 'download' }
    ],
    en: [
      { stepTitle: 'Paste your Code', stepDescription: 'We accept messy JSON, Excel CSVs, or complex SQL queries.', stepIcon: 'edit' },
      { stepTitle: 'Process', stepDescription: 'Format, minify, validate, or convert between formats instantly.', stepIcon: 'zap' },
      { stepTitle: 'Copy Result', stepDescription: 'Get clean, error-free code ready for production.', stepIcon: 'download' }
    ]
  },
  cta: {
    es: { 
      title: '¬øProblemas de integraci√≥n de datos?', 
      desc: 'Dise√±amos APIs robustas, pipelines ETL y sistemas de migraci√≥n de bases de datos para empresas.' 
    },
    en: { 
      title: 'Data integration issues?', 
      desc: 'We design robust APIs, ETL pipelines, and database migration systems for enterprises.' 
    }
  },
  faqs: {
    es: [
      { 
        question: '¬øEs seguro pegar API Keys o datos de clientes?', 
        answer: 'S√≠, es 100% seguro. A diferencia de otros formateadores online, Data Station no tiene backend para procesar los datos. Todo ocurre en el JavaScript de tu navegador. Puedes auditar el tr√°fico de red para comprobarlo.' 
      },
      { 
        question: '¬øQu√© formatos soport√°is?', 
        answer: 'Actualmente soportamos validaci√≥n y formateo de JSON y SQL (est√°ndar ANSI). Tambi√©n ofrecemos conversi√≥n bidireccional entre JSON y CSV, ideal para importar/exportar datos de Excel.' 
      }, 
      { 
        question: '¬øFunciona con archivos grandes?', 
        answer: 'S√≠, al no haber subida de archivos, el l√≠mite lo marca la capacidad de tu navegador para manejar texto en memoria. Hemos probado con JSONs de varios megabytes sin problemas.' 
      }
    ],
    en: [
      { 
        question: 'Is it safe to paste API Keys or customer data?', 
        answer: 'Yes, it is 100% safe. Unlike other online formatters, Data Station has no backend to process data. Everything happens in your browser\'s JavaScript. You can audit the network traffic to verify.' 
      },
      { 
        question: 'Which formats are supported?', 
        answer: 'We currently support JSON and SQL (ANSI standard) validation and formatting. We also offer bidirectional conversion between JSON and CSV, perfect for Excel data import/export.' 
      }, 
      { 
        question: 'Does it work with large files?', 
        answer: 'Yes, since there is no file upload, the limit is set by your browser\'s ability to handle text in memory. We have tested with multi-megabyte JSONs without issues.' 
      }
    ]
  },
  content: {
    es: createRichText(
      'Manipulaci√≥n de Datos sin Riesgos', 
      'La mayor√≠a de herramientas online de formateo env√≠an tu c√≥digo a un servidor para procesarlo. Esto representa un riesgo de seguridad inaceptable cuando manejas credenciales, configuraciones de entorno o datos personales (GDPR). Data Station cambia las reglas:', 
      [
        'Editor Profesional: Utilizamos el motor Monaco (el mismo de VS Code) para ofrecerte resaltado de sintaxis y detecci√≥n de errores real.',
        'Conversiones √ötiles: Transforma r√°pidamente un CSV enviado por el departamento de marketing en un JSON listo para tu API.',
        'Depuraci√≥n SQL: Ordena consultas SQL ilegibles extra√≠das de logs para entender qu√© est√° pasando en tu base de datos.'
      ], 
      'Una utilidad indispensable en el d√≠a a d√≠a de Desarrolladores Backend, Data Scientists y DevOps.'
    ),
    en: createRichText(
      'Risk-Free Data Manipulation', 
      'Most online formatting tools send your code to a server for processing. This represents an unacceptable security risk when handling credentials, environment configs, or personal data (GDPR). Data Station changes the rules:', 
      [
        'Professional Editor: We use the Monaco engine (the same as VS Code) to provide syntax highlighting and real error detection.',
        'Useful Conversions: Quickly transform a CSV sent by the marketing department into a JSON ready for your API.',
        'SQL Debugging: Tidy up unreadable SQL queries extracted from logs to understand what is happening in your database.'
      ], 
      'An indispensable utility for the daily work of Backend Developers, Data Scientists, and DevOps.'
    )
  }
}

// =============== FIN ARCHIVO [155]: src/scripts/data/data-station-data.ts =============== //

// =============== INICIO ARCHIVO [156]: src/scripts/data/image-optimizer-data.ts =============== //
import { ToolSeedData, createRichText } from './utils'

export const imageOptimizerData: ToolSeedData = {
  slug: 'image-optimizer',
  codeKey: 'image-optimizer',
  icon: 'image',
  title: { 
    es: 'Pixel Optimizer', 
    en: 'Pixel Optimizer' 
  },
  badge: { 
    es: 'Soporte HEIC/iPhone', 
    en: 'HEIC/iPhone Support' 
  },
  shortDescription: { 
    es: 'Comprime, redimensiona y convierte im√°genes (JPG, PNG, HEIC) a WebP ultraligero. Mejora tu SEO sin subir tus fotos a la nube.', 
    en: 'Compress, resize, and convert images (JPG, PNG, HEIC) to ultra-light WebP. Boost your SEO without uploading photos to the cloud.' 
  },
  steps: {
    es: [
      { stepTitle: 'Arrastra tus Fotos', stepDescription: 'Soporta lotes masivos de JPG, PNG o HEIC (Apple).', stepIcon: 'upload' },
      { stepTitle: 'Define Objetivos', stepDescription: 'Elige calidad, tama√±o m√°ximo y formato de salida (WebP/JPG).', stepIcon: 'settings' },
      { stepTitle: 'Procesamiento Local', stepDescription: 'Tu navegador hace el trabajo. Descarga un ZIP al instante.', stepIcon: 'download' }
    ],
    en: [
      { stepTitle: 'Drag your Photos', stepDescription: 'Supports massive batches of JPG, PNG, or HEIC (Apple).', stepIcon: 'upload' },
      { stepTitle: 'Set Targets', stepDescription: 'Choose quality, max width, and output format (WebP/JPG).', stepIcon: 'settings' },
      { stepTitle: 'Local Processing', stepDescription: 'Your browser does the work. Download a ZIP instantly.', stepIcon: 'download' }
    ]
  },
  cta: {
    es: { 
      title: '¬øTu web carga lenta y pierdes clientes?', 
      desc: 'Optimizamos infraestructuras de alto tr√°fico y e-commerce para superar las Core Web Vitals de Google.' 
    },
    en: { 
      title: 'Is your site slow and losing customers?', 
      desc: 'We optimize high-traffic infrastructures and e-commerce sites to pass Google Core Web Vitals.' 
    }
  },
  faqs: {
    es: [
      { 
        question: '¬øMis fotos se suben a alg√∫n servidor?', 
        answer: 'No. Absolutamente todo el proceso (compresi√≥n, redimensi√≥n, conversi√≥n) ocurre dentro de tu navegador. Es ideal para fot√≥grafos o empresas que manejan im√°genes con derechos de autor o datos sensibles.' 
      }, 
      { 
        question: '¬øPor qu√© deber√≠a usar WebP?', 
        answer: 'WebP es el formato moderno est√°ndar. Reduce el peso del archivo un 30-50% comparado con JPG sin p√©rdida visible de calidad, lo que hace que tu web cargue mucho m√°s r√°pido.' 
      },
      {
        question: '¬øQu√© hago con los archivos .HEIC de mi iPhone?',
        answer: 'Solo arr√°stralos aqu√≠. Pixel Optimizer detecta autom√°ticamente el formato de Apple y lo convierte a JPG o WebP compatible con cualquier web o Windows.'
      }
    ],
    en: [
      { 
        question: 'Are my photos uploaded to a server?', 
        answer: 'No. The entire process (compression, resizing, conversion) happens inside your browser. Ideally suited for photographers or businesses handling copyrighted or sensitive images.' 
      }, 
      { 
        question: 'Why should I use WebP?', 
        answer: 'WebP is the modern standard format. It reduces file size by 30-50% compared to JPG with no visible quality loss, making your website load much faster.' 
      },
      {
        question: 'What do I do with .HEIC files from my iPhone?',
        answer: 'Just drag them here. Pixel Optimizer automatically detects the Apple format and converts it to universal JPG or WebP compatible with Windows and the web.'
      }
    ]
  },
  content: {
    es: createRichText(
      'Acelera tu web y domina las Core Web Vitals', 
      'Las im√°genes pesadas son la causa n√∫mero 1 del abandono de usuarios en sitios web. Google penaliza severamente el LCP (Largest Contentful Paint) alto. Pixel Optimizer es tu navaja suiza para preparar assets digitales:', 
      [
        'Conversi√≥n HEIC a JPG/WebP: Olv√≠date de herramientas de pago para convertir las fotos de tu iPhone.',
        'Compresi√≥n Inteligente: Reduce el peso hasta un 90% eliminando datos invisibles al ojo humano.',
        'Privacidad Total: Eliminaci√≥n autom√°tica de metadatos EXIF (GPS, modelo de c√°mara) para proteger la ubicaci√≥n de la toma.'
      ], 
      'Una herramienta imprescindible para Gestores de E-commerce, Bloggers y Desarrolladores Frontend que buscan la m√°xima velocidad de carga.'
    ),
    en: createRichText(
      'Speed up your web and master Core Web Vitals', 
      'Heavy images are the #1 cause of user abandonment on websites. Google severely penalizes high LCP (Largest Contentful Paint). Pixel Optimizer is your Swiss Army knife for preparing digital assets:', 
      [
        'HEIC to JPG/WebP Conversion: Forget paid tools to convert your iPhone photos.',
        'Smart Compression: Reduce size by up to 90% by removing data invisible to the human eye.',
        'Total Privacy: Automatic removal of EXIF metadata (GPS, camera model) to protect the location of the shot.'
      ], 
      'A must-have tool for E-commerce Managers, Bloggers, and Frontend Developers looking for maximum loading speed.'
    )
  }
}

// =============== FIN ARCHIVO [156]: src/scripts/data/image-optimizer-data.ts =============== //

// =============== INICIO ARCHIVO [157]: src/scripts/data/ocr-vision-data.ts =============== //
import { ToolSeedData, createRichText } from './utils'

export const ocrVisionData: ToolSeedData = {
  slug: 'ocr-vision',
  codeKey: 'ocr-vision',
  icon: 'scan', // Icono nuevo que a√±adimos al CMS
  title: { 
    es: 'OCR Vision', 
    en: 'OCR Vision' 
  },
  badge: { 
    es: 'IA Local Privada', 
    en: 'Private Local AI' 
  },
  shortDescription: { 
    es: 'Extrae texto editable de im√°genes, escaneos y documentos (JPG, PNG, HEIC) usando Inteligencia Artificial directamente en tu navegador.', 
    en: 'Extract editable text from images, scans, and documents (JPG, PNG, HEIC) using Artificial Intelligence directly in your browser.' 
  },
  steps: {
    es: [
      { stepTitle: 'Sube la Imagen', stepDescription: 'Aceptamos fotos, capturas de pantalla o escaneos (incluso de iPhone).', stepIcon: 'upload' },
      { stepTitle: 'Selecciona Idioma', stepDescription: 'Elige el idioma del texto para optimizar la precisi√≥n de la IA.', stepIcon: 'settings' },
      { stepTitle: 'Extrae el Texto', stepDescription: 'Copia el resultado o descarga un archivo .txt limpio.', stepIcon: 'zap' }
    ],
    en: [
      { stepTitle: 'Upload Image', stepDescription: 'We accept photos, screenshots, or scans (even from iPhone).', stepIcon: 'upload' },
      { stepTitle: 'Select Language', stepDescription: 'Choose the text language to optimize AI accuracy.', stepIcon: 'settings' },
      { stepTitle: 'Extract Text', stepDescription: 'Copy the result or download a clean .txt file.', stepIcon: 'zap' }
    ]
  },
  cta: {
    es: { 
      title: '¬øProcesas miles de documentos?', 
      desc: 'Automatizamos la lectura de facturas, albaranes y formularios con IA para integrarlos en tu ERP sin intervenci√≥n humana.' 
    },
    en: { 
      title: 'Processing thousands of documents?', 
      desc: 'We automate invoice, delivery note, and form reading with AI to integrate them into your ERP without human intervention.' 
    }
  },
  faqs: {
    es: [
      { 
        question: '¬øEs seguro escanear mi DNI o documentos confidenciales?', 
        answer: 'S√≠, es la opci√≥n m√°s segura del mercado gratuito. Usamos Tesseract.js, un motor de OCR que se ejecuta dentro de tu navegador mediante WebAssembly. La imagen nunca se env√≠a a trav√©s de internet a ning√∫n servidor.' 
      },
      { 
        question: '¬øSoporta texto manuscrito?', 
        answer: 'La tecnolog√≠a actual funciona de maravilla con texto impreso (libros, documentos, capturas). El reconocimiento de letra manual depende mucho de la caligraf√≠a y puede no ser perfecto.' 
      },
      { 
        question: '¬øQu√© idiomas soporta?', 
        answer: 'Soportamos los principales idiomas globales: Espa√±ol, Ingl√©s, Franc√©s, Alem√°n, Italiano y Portugu√©s. El modelo de IA espec√≠fico se descarga al momento bajo demanda.' 
      }
    ],
    en: [
      { 
        question: 'Is it safe to scan my ID or confidential documents?', 
        answer: 'Yes, it is the safest free option on the market. We use Tesseract.js, an OCR engine that runs inside your browser via WebAssembly. The image is never sent over the internet to any server.' 
      },
      { 
        question: 'Does it support handwriting?', 
        answer: 'Current technology works wonderfully with printed text (books, documents, screenshots). Handwriting recognition depends heavily on calligraphy and may not be perfect.' 
      },
      { 
        question: 'Which languages are supported?', 
        answer: 'We support major global languages: Spanish, English, French, German, Italian, and Portuguese. The specific AI model is downloaded on-demand.' 
      }
    ]
  },
  content: {
    es: createRichText(
      'Digitalizaci√≥n Inteligente sin Nubes Inseguras', 
      'La mayor√≠a de conversores "Imagen a Texto" gratuitos tienen un coste oculto: tus datos. Subir un contrato confidencial o una identificaci√≥n personal a un servidor desconocido para extraer el texto es un riesgo de seguridad grave. OCR Vision cambia el paradigma:', 
      [
        'Privacidad Absoluta: El motor de IA (Red Neuronal LSTM) se descarga y corre en tu CPU. Tus archivos nunca salen de tu ordenador.',
        'Soporte HEIC Nativo: Convierte directamente las fotos tomadas con iPhone/iPad sin pasos intermedios.',
        'Multilenguaje Din√°mico: Cambia entre Espa√±ol, Ingl√©s o Franc√©s al instante para mejorar la precisi√≥n del reconocimiento.'
      ], 
      'Herramienta esencial para estudiantes que digitalizan apuntes, administrativos que procesan facturas escaneadas y desarrolladores que necesitan extraer texto de interfaces.'
    ),
    en: createRichText(
      'Smart Digitization without Insecure Clouds', 
      'Most free "Image to Text" converters have a hidden cost: your data. Uploading a confidential contract or personal ID to an unknown server just to extract text is a serious security risk. OCR Vision changes the paradigm:', 
      [
        'Absolute Privacy: The AI engine (LSTM Neural Network) downloads and runs on your CPU. Your files never leave your computer.',
        'Native HEIC Support: Directly convert photos taken with iPhone/iPad without intermediate steps.',
        'Dynamic Multilanguage: Switch between Spanish, English, or French instantly to improve recognition accuracy.'
      ], 
      'Essential tool for students digitizing notes, administrators processing scanned invoices, and developers needing to extract text from interfaces.'
    )
  }
}

// =============== FIN ARCHIVO [157]: src/scripts/data/ocr-vision-data.ts =============== //

// =============== INICIO ARCHIVO [158]: src/scripts/data/pdf-studio-data.ts =============== //
import { ToolSeedData, createRichText } from './utils'

export const pdfStudioData: ToolSeedData = {
  slug: 'pdf-studio',
  codeKey: 'pdf-studio',
  icon: 'file-text',
  title: { 
    es: 'PDF Studio', 
    en: 'PDF Studio' 
  },
  badge: { 
    es: 'Sin L√≠mites de Peso', 
    en: 'No Size Limits' 
  },
  shortDescription: { 
    es: 'La navaja suiza para tus documentos: Une, rota y firma PDFs. Gesti√≥n documental privada sin marcas de agua.', 
    en: 'The Swiss Army knife for your docs: Merge, rotate, and sign PDFs. Private document management without watermarks.' 
  },
  steps: {
    es: [
      { stepTitle: 'Sube tus PDFs', stepDescription: 'Arrastra contratos, facturas o informes. Sin l√≠mite de cantidad.', stepIcon: 'upload' },
      { stepTitle: 'Edita y Firma', stepDescription: 'Rota p√°ginas incorrectas o dibuja tu firma digitalmente.', stepIcon: 'edit' },
      { stepTitle: 'Combina', stepDescription: 'Fusiona todo en un √∫nico archivo PDF maestro listo para enviar.', stepIcon: 'download' }
    ],
    en: [
      { stepTitle: 'Upload PDFs', stepDescription: 'Drag contracts, invoices, or reports. No quantity limits.', stepIcon: 'upload' },
      { stepTitle: 'Edit & Sign', stepDescription: 'Rotate wrong pages or draw your signature digitally.', stepIcon: 'edit' },
      { stepTitle: 'Merge', stepDescription: 'Combine everything into a single master PDF ready to send.', stepIcon: 'download' }
    ]
  },
  cta: {
    es: { 
      title: '¬øNecesitas digitalizar tu negocio?', 
      desc: 'Desarrollamos gestores documentales a medida y sistemas de firma electr√≥nica integrados en tu ERP.' 
    },
    en: { 
      title: 'Need to digitize your business?', 
      desc: 'We develop custom document management systems and electronic signature solutions integrated into your ERP.' 
    }
  },
  faqs: {
    es: [
      { 
        question: '¬øEs seguro subir documentos legales o contratos?', 
        answer: 'Absolutamente. A diferencia de otras herramientas gratuitas online, PDF Studio NO sube tus archivos a ning√∫n servidor. Todo el procesamiento se realiza en la memoria de tu dispositivo usando WebAssembly. Es 100% privado.' 
      },
      { 
        question: '¬øTiene validez legal la firma?', 
        answer: 'La herramienta a√±ade una firma gr√°fica (digitalizaci√≥n de firma manuscrita). Es v√°lida para acuerdos comerciales, recepciones de material y tr√°mites internos. Para tr√°mites gubernamentales estrictos, consulta la normativa local sobre eIDAS o certificados cualificados.' 
      }, 
      { 
        question: '¬øCu√°ntos archivos puedo unir a la vez?', 
        answer: 'No ponemos l√≠mites artificiales. Puedes unir 50 o 100 archivos si quieres, siempre que tu ordenador tenga memoria RAM suficiente para procesarlos.' 
      }
    ],
    en: [
      { 
        question: 'Is it safe to upload legal documents or contracts?', 
        answer: 'Absolutely. Unlike other free online tools, PDF Studio does NOT upload your files to any server. All processing is done in your device\'s memory using WebAssembly. It is 100% private.' 
      },
      { 
        question: 'Is the signature legally binding?', 
        answer: 'The tool adds a graphical signature (digitized handwritten signature). It is valid for commercial agreements, delivery receipts, and internal procedures. For strict government procedures, check local regulations regarding eIDAS or qualified certificates.' 
      }, 
      { 
        question: 'How many files can I merge at once?', 
        answer: 'We do not set artificial limits. You can merge 50 or 100 files if you want, as long as your computer has enough RAM to process them.' 
      }
    ]
  },
  content: {
    es: createRichText(
      'Gesti√≥n Documental Soberana y Segura', 
      'En el entorno empresarial actual, la agilidad no puede estar re√±ida con la confidencialidad. Muchos empleados recurren a webs de terceros para unir PDFs, exponiendo informaci√≥n sensible de la empresa. PDF Studio resuelve este dilema:', 
      [
        'Privacidad por Dise√±o: El motor de PDF funciona desconectado. Tus balances financieros nunca salen de tu red.',
        'Herramientas Esenciales: Unir (Merge) para informes mensuales, Rotar para escaneos torcidos y Firmar para aprobaciones r√°pidas.',
        'UX Profesional: Sin anuncios invasivos, sin marcas de agua y sin tiempos de espera.'
      ], 
      'La herramienta ideal para departamentos de RRHH, Finanzas y Legal que necesitan manipular documentaci√≥n sensible sin riesgos de fuga de datos.'
    ),
    en: createRichText(
      'Sovereign and Secure Document Management', 
      'In today\'s business environment, agility cannot come at the expense of confidentiality. Many employees turn to third-party websites to merge PDFs, exposing sensitive company information. PDF Studio solves this dilemma:', 
      [
        'Privacy by Design: The PDF engine works offline. Your financial balance sheets never leave your network.',
        'Essential Tools: Merge for monthly reports, Rotate for crooked scans, and Sign for quick approvals.',
        'Professional UX: No invasive ads, no watermarks, and no waiting times.'
      ], 
      'The ideal tool for HR, Finance, and Legal departments that need to handle sensitive documentation without data leakage risks.'
    )
  }
}

// =============== FIN ARCHIVO [158]: src/scripts/data/pdf-studio-data.ts =============== //

// =============== INICIO ARCHIVO [159]: src/scripts/data/qr-factory-data.ts =============== //
import { ToolSeedData, createRichText } from './utils'

export const qrFactoryData: ToolSeedData = {
  slug: 'qr-factory',
  codeKey: 'qr-factory',
  icon: 'qr-code',
  title: { 
    es: 'QR Factory', 
    en: 'QR Factory' 
  },
  badge: { 
    es: 'Vectores SVG & Barras', 
    en: 'Vector SVG & Barcodes' 
  },
  shortDescription: { 
    es: 'Generador profesional de c√≥digos QR con logo y c√≥digos de barras EAN-13 para retail. Exportaci√≥n vectorial para imprenta.', 
    en: 'Professional QR generator with logo and EAN-13 barcodes for retail. Vector export for high-quality printing.' 
  },
  steps: {
    es: [
      { stepTitle: 'Elige el Tipo', stepDescription: 'Enlace Web, WiFi, Contacto (VCard) o C√≥digo de Barras (EAN-13).', stepIcon: 'settings' },
      { stepTitle: 'Personaliza', stepDescription: 'Ajusta colores corporativos, a√±ade tu logo y define el tama√±o.', stepIcon: 'edit' },
      { stepTitle: 'Exporta Vectorial', stepDescription: 'Descarga en SVG (Imprenta) o PNG (Web) al instante.', stepIcon: 'download' }
    ],
    en: [
      { stepTitle: 'Select Type', stepDescription: 'Website Link, WiFi, Contact (VCard), or Barcode (EAN-13).', stepIcon: 'settings' },
      { stepTitle: 'Customize', stepDescription: 'Adjust brand colors, add your logo, and define size.', stepIcon: 'edit' },
      { stepTitle: 'Vector Export', stepDescription: 'Download as SVG (Print) or PNG (Web) instantly.', stepIcon: 'download' }
    ]
  },
  cta: {
    es: { 
      title: 'Conecta el mundo f√≠sico con el digital', 
      desc: 'Desarrollamos soluciones IoT, sistemas de trazabilidad y aplicaciones de escaneo para log√≠stica y retail.' 
    },
    en: { 
      title: 'Bridge the physical and digital worlds', 
      desc: 'We develop IoT solutions, traceability systems, and scanning applications for logistics and retail.' 
    }
  },
  faqs: {
    es: [
      { 
        question: '¬øLos c√≥digos QR caducan?', 
        answer: 'No. Generamos c√≥digos est√°ticos que contienen la informaci√≥n directamente. A diferencia de los c√≥digos din√°micos de pago, estos funcionar√°n para siempre y no dependen de nuestros servidores.' 
      },
      { 
        question: '¬øPor qu√© deber√≠a usar SVG?', 
        answer: 'SVG es un formato vectorial. Significa que puedes ampliar el c√≥digo al tama√±o de un edificio sin que se pixele ni pierda calidad. Es el formato obligatorio para imprenta y dise√±o gr√°fico profesional.' 
      }, 
      { 
        question: '¬øSirve para productos de supermercado?', 
        answer: 'S√≠. Incluimos un generador de c√≥digos de barras EAN-13 (Europa) y UPC (EEUU), as√≠ como CODE-128 para log√≠stica interna y gesti√≥n de inventario.' 
      }
    ],
    en: [
      { 
        question: 'Do the QR codes expire?', 
        answer: 'No. We generate static codes that contain the information directly. Unlike paid dynamic codes, these will work forever and do not depend on our servers.' 
      },
      { 
        question: 'Why should I use SVG?', 
        answer: 'SVG is a vector format. This means you can scale the code to the size of a building without pixelation or quality loss. It is the mandatory format for printing and professional graphic design.' 
      }, 
      { 
        question: 'Does it work for supermarket products?', 
        answer: 'Yes. We include an EAN-13 (Europe) and UPC (USA) barcode generator, as well as CODE-128 for internal logistics and inventory management.' 
      }
    ]
  },
  content: {
    es: createRichText(
      'C√≥digos QR Profesionales con Identidad de Marca', 
      'Un c√≥digo QR no tiene por qu√© ser un cuadrado blanco y negro aburrido. Para que tus clientes escaneen, necesitas inspirar confianza y reconocimiento de marca. QR Factory est√° dise√±ado para departamentos de marketing y dise√±o:', 
      [
        'Branding Total: Incrusta tu logo en el centro y usa tus colores HEX corporativos.',
        'Formatos Universales: WiFi (para conectar sin contrase√±a), VCard (para tarjetas de visita) y WhatsApp (para soporte directo).',
        'Est√°ndares Industriales: Generaci√≥n precisa de c√≥digos de barras para packaging y etiquetado de productos.'
      ], 
      'La herramienta definitiva para dise√±adores gr√°ficos, organizadores de eventos y gestores de tiendas que necesitan c√≥digos de alta resoluci√≥n.'
    ),
    en: createRichText(
      'Professional QR Codes with Brand Identity', 
      'A QR code doesn\'t have to be a boring black and white square. To get customers to scan, you need to inspire trust and brand recognition. QR Factory is designed for marketing and design departments:', 
      [
        'Total Branding: Embed your logo in the center and use your corporate HEX colors.',
        'Universal Formats: WiFi (connect without password), VCard (business cards), and WhatsApp (direct support).',
        'Industrial Standards: Precise barcode generation for packaging and product labeling.'
      ], 
      'The ultimate tool for graphic designers, event organizers, and store managers who need high-resolution codes.'
    )
  }
}

// =============== FIN ARCHIVO [159]: src/scripts/data/qr-factory-data.ts =============== //

// =============== INICIO ARCHIVO [160]: src/scripts/data/utils.ts =============== //
// Define la estructura exacta que deben tener los datos de cada herramienta
export interface ToolSeedData {
  slug: string
  codeKey: 'vault' | 'image-optimizer' | 'pdf-studio' | 'data-station' | 'qr-factory' | 'ocr-vision'
  icon: 'lock' | 'image' | 'file-text' | 'database' | 'qr-code' | 'box' | 'scan'
  title: { es: string; en: string }
  badge: { es: string; en: string }
  shortDescription: { es: string; en: string }
  steps: {
    es: Array<{ stepTitle: string; stepDescription: string; stepIcon: 'upload' | 'settings' | 'zap' | 'download' | 'lock' | 'edit' }>
    en: Array<{ stepTitle: string; stepDescription: string; stepIcon: 'upload' | 'settings' | 'zap' | 'download' | 'lock' | 'edit' }>
  }
  cta: {
    es: { title: string; desc: string }
    en: { title: string; desc: string }
  }
  faqs: {
    es: Array<{ question: string; answer: string }>
    en: Array<{ question: string; answer: string }>
  }
  // El contenido ya vendr√° formateado como RichText Lexical
  content: {
    es: any
    en: any
  }
}

// Helper para generar el Rich Text de Payload (Lexical) de forma sencilla
// Esto nos ahorra escribir 50 l√≠neas de JSON por cada herramienta
export const createRichText = (title: string, intro: string, points: string[], conclusion: string): any => {
  return {
    root: {
      type: 'root',
      format: '',
      indent: 0,
      version: 1,
      direction: 'ltr',
      children: [
        {
          type: 'heading',
          tag: 'h3',
          format: '',
          indent: 0,
          version: 1,
          direction: 'ltr',
          children: [{ type: 'text', text: title, mode: 'normal', style: '', detail: 0, format: 0, version: 1 }]
        },
        {
          type: 'paragraph',
          format: '',
          indent: 0,
          version: 1,
          direction: 'ltr',
          children: [{ type: 'text', text: intro, mode: 'normal', style: '', detail: 0, format: 0, version: 1 }]
        },
        {
          type: 'list',
          listType: 'bullet',
          format: '',
          indent: 0,
          version: 1,
          children: points.map(point => ({
            type: 'listitem',
            format: '',
            indent: 0,
            version: 1,
            children: [{ type: 'text', text: point, mode: 'normal', style: '', detail: 0, format: 0, version: 1 }]
          }))
        },
        {
          type: 'paragraph',
          format: '',
          indent: 0,
          version: 1,
          direction: 'ltr',
          children: [{ type: 'text', text: conclusion, mode: 'normal', style: '', detail: 0, format: 0, version: 1 }]
        }
      ]
    }
  }
}

// =============== FIN ARCHIVO [160]: src/scripts/data/utils.ts =============== //

// =============== INICIO ARCHIVO [161]: src/scripts/data/vault-data.ts =============== //
import { ToolSeedData, createRichText } from './utils'

export const vaultData: ToolSeedData = {
  slug: 'vault',
  codeKey: 'vault',
  icon: 'lock',
  title: { 
    es: 'OHCodex Vault', 
    en: 'OHCodex Vault' 
  },
  badge: { 
    es: 'Privacidad Militar', 
    en: 'Military Grade' 
  },
  shortDescription: { 
    es: 'La forma m√°s segura de enviar contrase√±as y archivos confidenciales. Encriptaci√≥n AES-256 que ocurre solo en tu dispositivo.', 
    en: 'The safest way to share passwords and confidential files. AES-256 encryption happens strictly on your device.' 
  },
  steps: {
    es: [
      { stepTitle: 'Escribe tu Secreto', stepDescription: 'Pega el texto, claves o arrastra el archivo confidencial.', stepIcon: 'edit' },
      { stepTitle: 'Cifra con Clave', stepDescription: 'Elige una contrase√±a maestra. Sin ella, los datos son irrecuperables.', stepIcon: 'lock' },
      { stepTitle: 'Comparte Seguro', stepDescription: 'Env√≠a el c√≥digo cifrado por email o WhatsApp sin miedo a esp√≠as.', stepIcon: 'zap' }
    ],
    en: [
      { stepTitle: 'Write your Secret', stepDescription: 'Paste text, keys or drag your confidential file.', stepIcon: 'edit' },
      { stepTitle: 'Encrypt with Key', stepDescription: 'Choose a master password. Without it, data is unrecoverable.', stepIcon: 'lock' },
      { stepTitle: 'Share Safely', stepDescription: 'Send the encrypted code via email or WhatsApp without fear of spies.', stepIcon: 'zap' }
    ]
  },
  cta: { 
    es: { 
      title: '¬øLa seguridad es cr√≠tica para tu empresa?', 
      desc: 'Implementamos arquitecturas "Zero-Trust" y sistemas de gesti√≥n de secretos para corporaciones y fintechs.' 
    },
    en: { 
      title: 'Is security critical for your business?', 
      desc: 'We implement "Zero-Trust" architectures and secret management systems for corporations and fintechs.' 
    }
  },
  faqs: {
    es: [
      { 
        question: '¬øEs realmente seguro? ¬øC√≥mo s√© que no guard√°is mis datos?', 
        answer: 'Es matem√°ticamente imposible que leamos tus datos. Usamos la Web Crypto API de tu navegador. El proceso de cifrado ocurre en tu CPU, y el resultado nunca se env√≠a a nuestros servidores. Puedes desconectar internet y la herramienta seguir√° funcionando.' 
      }, 
      { 
        question: '¬øQu√© pasa si olvido la contrase√±a?', 
        answer: 'Tus datos se perder√°n para siempre. Al ser un sistema de "Conocimiento Cero" (Zero-Knowledge), nosotros no guardamos copias de las contrase√±as ni tenemos "puertas traseras" para recuperarlas.' 
      },
      {
        question: '¬øQu√© tipo de archivos puedo proteger?',
        answer: 'Cualquier tipo: PDFs legales, fotos privadas, backups de bases de datos o documentos de Excel. El l√≠mite lo pone la memoria RAM de tu dispositivo.'
      }
    ],
    en: [
      { 
        question: 'Is it really safe? How do I know you don\'t save my data?', 
        answer: 'It is mathematically impossible for us to read your data. We use your browser\'s Web Crypto API. Encryption happens on your CPU, and the result is never sent to our servers. You can disconnect the internet and it will still work.' 
      }, 
      { 
        question: 'What if I forget the password?', 
        answer: 'Your data will be lost forever. As a Zero-Knowledge system, we do not store password copies nor do we have "backdoors" to recover them.' 
      },
      {
        question: 'What types of files can I protect?',
        answer: 'Any type: Legal PDFs, private photos, database backups, or Excel documents. The limit is only your device\'s RAM.'
      }
    ]
  },
  content: {
    es: createRichText(
      '¬øPor qu√© no deber√≠as enviar contrase√±as por WhatsApp o Email?', 
      'Vivimos en una era de vigilancia digital masiva. Enviar una contrase√±a, un n√∫mero de tarjeta o un contrato confidencial por canales habituales (Slack, Email, WhatsApp) es un riesgo enorme: esos mensajes se guardan en servidores de terceros y pueden ser interceptados o filtrados en brechas de datos.', 
      [
        'Algoritmo AES-GCM de 256 bits: El mismo est√°ndar usado por bancos y agencias militares.',
        'Derivaci√≥n de clave PBKDF2: Protege contra ataques de fuerza bruta ralentizando los intentos de hackeo.',
        'Vectores de Inicializaci√≥n (IV) √∫nicos: Incluso si encriptas el mismo mensaje dos veces, el resultado ser√° totalmente diferente cada vez.'
      ], 
      'OHCodex Vault es la herramienta esencial para abogados, periodistas, directivos y desarrolladores que necesitan garantizar que sus secretos viajan seguros a trav√©s de canales inseguros.'
    ),
    en: createRichText(
      'Why you shouldn\'t send passwords via WhatsApp or Email', 
      'We live in an age of mass digital surveillance. Sending a password, credit card number, or confidential contract through standard channels (Slack, Email, WhatsApp) is a huge risk: those messages are stored on third-party servers and can be intercepted or leaked in data breaches.', 
      [
        '256-bit AES-GCM Algorithm: The same standard used by banks and military agencies.',
        'PBKDF2 Key Derivation: Protects against brute-force attacks by slowing down hacking attempts.',
        'Unique Initialization Vectors (IV): Even if you encrypt the same message twice, the result will be totally different each time.'
      ], 
      'OHCodex Vault is the essential tool for lawyers, journalists, executives, and developers who need to ensure their secrets travel safely through insecure channels.'
    )
  }
}

// =============== FIN ARCHIVO [161]: src/scripts/data/vault-data.ts =============== //

// =============== INICIO ARCHIVO [162]: src/scripts/local-backup.ts =============== //
// src/scripts/local-backup.ts

import { exec } from 'child_process';
import * as fs from 'fs';
import * as path from 'path';
import dotenv from 'dotenv';
import { promisify } from 'util';
import { fileURLToPath } from 'url';

// Configuraci√≥n para ES Modules (necesario para leer rutas relativas correctamente)
const __filename = fileURLToPath(import.meta.url);
const __dirname = path.dirname(__filename);

// Cargar variables de entorno (subimos 2 niveles desde src/scripts/ para llegar a la ra√≠z)
dotenv.config({ path: path.resolve(__dirname, '../../.env') });

const execAsync = promisify(exec);

// ==========================================
// ‚öôÔ∏è CONFIGURACI√ìN USUARIO
// ==========================================

// Carpeta donde guardar√°s los backups de OHCodex
const BACKUP_DIR = 'C:/OHCodex_Backups'; 
const RETENTION_DAYS = 30; 

// Ruta a pg_dump.exe (Puedes usar la misma que ya ten√≠as si funciona)
// Aseg√∫rate de que este archivo exista en tu PC
const PG_DUMP_EXE = 'C:/CronoJob_Backups/pgsql/bin/pg_dump.exe'; 

// ==========================================

async function main() {
  console.log('üì¶ [Backup Local OHCodex] Iniciando proceso...');

  // NOTA: Payload usa DATABASE_URI, no DATABASE_URL
  const dbUrl = process.env.DATABASE_URI;
  
  if (!dbUrl) {
    console.error('‚ùå Error: DATABASE_URI no definida en .env');
    process.exit(1);
  }

  // Verificar directorio backup
  if (!fs.existsSync(BACKUP_DIR)) {
    try {
        fs.mkdirSync(BACKUP_DIR, { recursive: true });
        console.log(`üìÅ Carpeta creada: ${BACKUP_DIR}`);
    } catch (e) {
        console.error(`‚ùå Error: No se pudo crear la carpeta: "${BACKUP_DIR}"`);
        process.exit(1);
    }
  }

  // Verificar herramienta pg_dump
  if (!fs.existsSync(PG_DUMP_EXE)) {
    console.error(`‚ùå Error: No encuentro pg_dump en: "${PG_DUMP_EXE}"`);
    console.error('   Por favor, verifica la ruta de pg_dump.exe en la configuraci√≥n del script.');
    process.exit(1);
  }

  const now = new Date();
  const timestamp = now.toISOString().replace(/T/, '_').replace(/:/g, '-').split('.')[0];
  const fileName = `ohcodex_backup_${timestamp}.dump`;
  const filePath = path.join(BACKUP_DIR, fileName);

  console.log(`‚è≥ Conectando a Neon y descargando...`);
  console.log(`   Destino: ${filePath}`);

  try {
    // Ejecutar comando
    // -F c : Formato Custom (comprimido y m√°s flexible para restaurar)
    // --no-owner --no-acl : Importante para evitar errores de permisos al restaurar en local o en otro Neon
    const command = `"${PG_DUMP_EXE}" "${dbUrl}" -F c --no-owner --no-acl -f "${filePath}"`;
    
    await execAsync(command);

    if (!fs.existsSync(filePath)) throw new Error('El archivo no se gener√≥.');
    
    const stats = fs.statSync(filePath);
    const sizeMb = (stats.size / (1024 * 1024)).toFixed(2);

    if (stats.size < 1024) {
        throw new Error(`El archivo es demasiado peque√±o (${stats.size} bytes). Posible error de conexi√≥n o credenciales.`);
    }

    console.log(`‚úÖ ¬°Backup √âXITOSO!`);
    console.log(`   Tama√±o: ${sizeMb} MB`);

    cleanOldBackups();

  } catch (error: any) {
    console.error('üí• ERROR CR√çTICO EN EL BACKUP:');
    console.error(error.message || error);
    
    if (fs.existsSync(filePath)) {
      try { fs.unlinkSync(filePath); } catch (e) {}
      console.log('üóëÔ∏è  Archivo corrupto eliminado.');
    }
    process.exit(1);
  }
}

function cleanOldBackups() {
  console.log('üßπ Ejecutando pol√≠tica de retenci√≥n...');
  try {
    const files = fs.readdirSync(BACKUP_DIR);
    const now = new Date();
    let deletedCount = 0;

    files.forEach(file => {
      if (!file.startsWith('ohcodex_backup_') || !file.endsWith('.dump')) return;

      const fullPath = path.join(BACKUP_DIR, file);
      const stats = fs.statSync(fullPath);
      const daysOld = (now.getTime() - stats.mtime.getTime()) / (1000 * 60 * 60 * 24);

      if (daysOld > RETENTION_DAYS) {
        fs.unlinkSync(fullPath);
        console.log(`   üóëÔ∏è  Eliminado antiguo: ${file}`);
        deletedCount++;
      }
    });
    
    if (deletedCount === 0) console.log('   Todo limpio (no hay archivos caducados).');
    
  } catch (error) {
    console.warn('‚ö†Ô∏è Aviso menor en limpieza:', error);
  }
}

main();

// =============== FIN ARCHIVO [162]: src/scripts/local-backup.ts =============== //

// =============== INICIO ARCHIVO [163]: tailwind.config.js =============== //
/** @type {import('tailwindcss').Config} */
export default {
    darkMode: ["class"],
    content: [
    "./src/pages/**/*.{js,ts,jsx,tsx,mdx}",
    "./src/components/**/*.{js,ts,jsx,tsx,mdx}",
    "./src/app/**/*.{js,ts,jsx,tsx,mdx}",
  ],
  theme: {
  	extend: {
  		colors: {
  			background: 'hsl(var(--background))',
  			foreground: 'hsl(var(--foreground))',
  			card: {
  				DEFAULT: 'hsl(var(--card))',
  				foreground: 'hsl(var(--card-foreground))'
  			},
  			popover: {
  				DEFAULT: 'hsl(var(--popover))',
  				foreground: 'hsl(var(--popover-foreground))'
  			},
  			primary: {
  				DEFAULT: 'hsl(var(--primary))',
  				foreground: 'hsl(var(--primary-foreground))'
  			},
  			secondary: {
  				DEFAULT: 'hsl(var(--secondary))',
  				foreground: 'hsl(var(--secondary-foreground))'
  			},
  			muted: {
  				DEFAULT: 'hsl(var(--muted))',
  				foreground: 'hsl(var(--muted-foreground))'
  			},
  			accent: {
  				DEFAULT: 'hsl(var(--accent))',
  				foreground: 'hsl(var(--accent-foreground))'
  			},
  			destructive: {
  				DEFAULT: 'hsl(var(--destructive))',
  				foreground: 'hsl(var(--destructive-foreground))'
  			},
  			border: 'hsl(var(--border))',
  			input: 'hsl(var(--input))',
  			ring: 'hsl(var(--ring))',
  			chart: {
  				'1': 'hsl(var(--chart-1))',
  				'2': 'hsl(var(--chart-2))',
  				'3': 'hsl(var(--chart-3))',
  				'4': 'hsl(var(--chart-4))',
  				'5': 'hsl(var(--chart-5))'
  			}
  		},
  		borderRadius: {
  			lg: 'var(--radius)',
  			md: 'calc(var(--radius) - 2px)',
  			sm: 'calc(var(--radius) - 4px)'
  		},
  		keyframes: {
  			'accordion-down': {
  				from: {
  					height: '0'
  				},
  				to: {
  					height: 'var(--radix-accordion-content-height)'
  				}
  			},
  			'accordion-up': {
  				from: {
  					height: 'var(--radix-accordion-content-height)'
  				},
  				to: {
  					height: '0'
  				}
  			}
  		},
  		animation: {
  			'accordion-down': 'accordion-down 0.2s ease-out',
  			'accordion-up': 'accordion-up 0.2s ease-out'
  		}
  	}
  },
  plugins: [require("tailwindcss-animate")],
};

// =============== FIN ARCHIVO [163]: tailwind.config.js =============== //

// =============== INICIO ARCHIVO [164]: tsconfig.json =============== //
{
  "compilerOptions": {
    "baseUrl": ".",
    "lib": [
      "dom",
      "dom.iterable",
      "esnext"
    ],
    "allowJs": true,
    "skipLibCheck": true,
    "strict": true,
    "noEmit": true,
    "esModuleInterop": true,
    "module": "esnext",
    "moduleResolution": "bundler",
    "resolveJsonModule": true,
    "isolatedModules": true,
    "jsx": "preserve",
    "incremental": true,
    "plugins": [
      {
        "name": "next"
      }
    ],
    "paths": {
      "@/*": [
        "./src/*"
      ],
      "@payload-config": [
        "./src/payload.config.ts"
      ]
    },
    "target": "ES2017"
  },
  "include": [
    "next-env.d.ts",
    "**/*.ts",
    "**/*.tsx",
    ".next/types/**/*.ts"
  ],
  "exclude": [
    "node_modules"
  ]
}

// =============== FIN ARCHIVO [164]: tsconfig.json =============== //

